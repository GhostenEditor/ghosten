"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[258],{2258:(me,b,_)=>{_.r(b),_.d(b,{MainModule:()=>Ae});var g=_(5453),r=_(6895),U=_(2757),R=_(1129),e=_(4650);let w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-page-error"]],decls:2,vars:0,consts:[[1,"font-monospace","w-100","h-100","d-flex","justify-content-center","align-items-center",2,"font-size","5rem"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1," 404 Not Found "),e.qZA())},encapsulation:2}),n})();var k=_(7272),B=_(5963),x=_(4004);let q=(()=>{class n{constructor(){this.originalDescription="A Low-Code Web Editor. Fast and easy to build web page.",this.description=""}ngOnInit(){(0,k.z)(...this.originalDescription.split("").map(t=>(0,B.H)(150*Math.random()).pipe((0,x.U)(()=>t)))).subscribe(t=>this.description+=t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:18,vars:1,consts:[[1,"text-center","position-relative","p-1"],[1,"mt-5","mb-4",2,"font-size","4rem"],[1,"fw-normal","mb-5","text-secondary","font-monospace","m-auto",2,"max-width","24rem","height","2.5em"],[1,"cursor"],[1,"mb-3"],["target","_blank","href","https://github.com/GhostenEditor/ghosten",1,"btn","btn-lg","btn-primary","me-3"],["type","button",1,"btn","btn-lg","btn-light"],[1,"text-body-tertiary"],["src","assets/screenshot.webp","alt","screenshot","width","3420","height","2140",1,"img-fluid","border","rounded","mt-5"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"GHOSTEN EDITOR"),e.qZA(),e.TgZ(3,"h6",2),e._uU(4),e.TgZ(5,"span",3),e._uU(6,"|"),e.qZA()(),e.TgZ(7,"div",4)(8,"a",5)(9,"small"),e._uU(10,"Develop"),e.qZA()(),e.TgZ(11,"button",6)(12,"small"),e._uU(13,"How to start"),e.qZA()()(),e.TgZ(14,"small",7)(15,"i"),e._uU(16,"*Note: It is alpha version."),e.qZA()(),e._UZ(17,"img",8),e.qZA()),2&t&&(e.xp6(4),e.hij(" ",o.description," "))},styles:[".cursor[_ngcontent-%COMP%]{animation:blink .7s infinite}@keyframes blink{0%{opacity:1}50%{opacity:0}to{opacity:1}}"]}),n})();var T=_(529),m=_(7340),P=_(8580);function F(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",5),e.NdJ("click",function(){e.CHM(t),e.oxw();const l=e.MAs(1);return e.KtG(l.toggle())}),e._UZ(2,"a",6),e.TgZ(3,"i",7),e._uU(4),e.qZA(),e.TgZ(5,"span",8),e._uU(6),e.qZA(),e.TgZ(7,"i",9),e._uU(8),e.qZA()(),e._UZ(9,"app-navigation-item",10),e.BQk()}if(2&n){const t=e.oxw().$implicit,o=e.MAs(1),l=e.oxw();e.xp6(1),e.Udp("padding-left",.75*l.level+"rem"),e.xp6(1),e.Q6J("routerLink",t.url),e.xp6(2),e.Oqu(t.icon),e.xp6(2),e.Oqu(t.label),e.xp6(2),e.Oqu(o.expanded?"chevron_down":"chevron_right"),e.xp6(1),e.Q6J("items",t.children)("level",l.level+1)("@bodyExpansion",o.expanded?"expanded":"collapsed")}}function X(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"a",11)(2,"i",7),e._uU(3),e.qZA(),e._uU(4),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Udp("padding-left",.75*o.level+"rem"),e.Q6J("routerLink",t.url),e.xp6(2),e.Oqu(t.icon),e.xp6(1),e.Oqu(t.label)}}function J(n,i){if(1&n&&(e.TgZ(0,"li",2,3),e.YNc(2,F,10,9,"ng-container",4),e.YNc(3,X,5,5,"ng-container",4),e.qZA()),2&n){const t=i.$implicit,o=e.MAs(1);e.ekj("open",o.expanded),e.xp6(2),e.Q6J("ngIf",t.directory),e.xp6(1),e.Q6J("ngIf",!t.directory)}}let z=(()=>{class n{constructor(){this.level=1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-navigation-item"]],hostAttrs:[1,"overflow-hidden"],inputs:{items:"items",level:"level"},decls:2,vars:4,consts:[["cdkAccordion","",1,"list-unstyled",3,"multi"],["class","mb-1","cdkAccordionItem","",3,"open",4,"ngFor","ngForOf"],["cdkAccordionItem","",1,"mb-1"],["accordionItem","cdkAccordionItem"],[4,"ngIf"],["routerLinkActive","active",1,"btn","btn-text","d-flex","align-items-baseline","btn-sm",3,"click"],[1,"d-none",3,"routerLink"],[1,"gt-icon","me-2"],[1,"flex-grow-1","text-start"],[1,"gt-icon","ms-2"],[1,"d-block",3,"items","level"],["routerLinkActive","active",1,"btn","btn-text","d-flex","align-items-baseline","btn-sm",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"ul",0),e.YNc(1,J,4,4,"li",1),e.qZA()),2&t&&(e.ekj("mt-1",1!==o.level),e.Q6J("multi",!0),e.xp6(1),e.Q6J("ngForOf",o.items))},dependencies:[r.sg,r.O5,g.yS,g.Od,P.xI,P.dD,n],encapsulation:2,data:{animation:[(0,m.X$)("bodyExpansion",[(0,m.SB)("collapsed, void",(0,m.oB)({height:"0px",visibility:"hidden"})),(0,m.SB)("expanded",(0,m.oB)({height:"*",visibility:"visible"})),(0,m.eR)("expanded <=> collapsed, void => collapsed",(0,m.jt)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])]}}),n})();function V(n,i){1&n&&(e.TgZ(0,"div",2),e._uU(1," There is no menu now! Try to do something. "),e.qZA())}let H=(()=>{class n{constructor(t){this.http=t,this.showSideMenu=!1,this.http.get("getNavigations").subscribe(o=>this.items=o)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.eN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-navigation"]],inputs:{showSideMenu:"showSideMenu"},decls:2,vars:4,consts:[["class","vh-100 font-monospace text-center p-3 oblique-stripes rounded border",4,"ngIf"],[2,"overflow","auto!important",3,"items"],[1,"vh-100","font-monospace","text-center","p-3","oblique-stripes","rounded","border"]],template:function(t,o){1&t&&(e.YNc(0,V,2,0,"div",0),e._UZ(1,"app-navigation-item",1)),2&t&&(e.Q6J("ngIf",o.items&&!o.items.length),e.xp6(1),e.ekj("show",o.showSideMenu),e.Q6J("items",o.items))},dependencies:[r.O5,z],encapsulation:2}),n})();var v=_(4080),O=_(6451),C=_(8505),D=_(5698),s=_(433),G=_(2125);function Y(n,i){1&n&&(e.TgZ(0,"div",29),e._uU(1,"\u6b64\u9879\u4e3a\u5fc5\u586b\u9879"),e.qZA())}function Q(n,i){if(1&n&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.hij(" ",t.label||t.value," ")}}function j(n,i){if(1&n&&(e.TgZ(0,"div",29),e._uU(1),e.ALo(2,"json"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.pageUrl.errors)," ")}}function K(n,i){if(1&n&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.hij(" ",t.title," ")}}function W(n,i){if(1&n&&(e.TgZ(0,"div",29),e._uU(1),e.ALo(2,"json"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.pageParentID.errors)," ")}}function ee(n,i){1&n&&(e.TgZ(0,"div",29),e._uU(1,"\u6b64\u9879\u4e3a\u5fc5\u586b\u9879"),e.qZA())}let h=(()=>{class n{constructor(t){this.http=t,this.mode="add",this.modalConfirm=new e.vpe,this.modalClose=new e.vpe,this.form=new s.cw({id:new s.NI(null),title:new s.NI(null,s.kI.required),description:new s.NI(null,s.kI.required),url:new s.NI(null,[s.kI.required,s.kI.pattern(/^[\w\-]+$/)]),type:new s.NI("Function",s.kI.required),icon:new s.NI(null),parentId:new s.NI}),this.pageID=this.form.get("id"),this.pageTitle=this.form.get("title"),this.pageDescription=this.form.get("description"),this.pageUrl=this.form.get("url"),this.pageType=this.form.get("type"),this.pageIcon=this.form.get("icon"),this.pageParentID=this.form.get("parentId"),this.modalPending=!1,this.parentList=this.http.get("getPageList",{params:{type:"Directory"}}),this.gtIcons=[{label:"",value:"add"},{label:"",value:"mouse_pointer"},{label:"",value:"division"},{label:"",value:"checkbox"},{label:"",value:"toys"},{label:"",value:"trash"},{label:"",value:"edit"},{label:"",value:"file"},{label:"",value:"pages"},{label:"",value:"chevron_left"},{label:"",value:"chevron_right"},{label:"",value:"chevron_up"},{label:"",value:"chevron_down"},{label:"",value:"chevrons_left"},{label:"",value:"chevrons_right"},{label:"",value:"chevrons_up"},{label:"",value:"chevrons_down"},{label:"",value:"move"},{label:"",value:"refresh"},{label:"",value:"rotate_ccw"},{label:"",value:"rotate_cw"},{label:"",value:"arrow_left"},{label:"",value:"arrow_right"},{label:"",value:"dashed_rect"},{label:"",value:"bind"},{label:"",value:"preview"},{label:"",value:"save"},{label:"",value:"list"},{label:"",value:"maximize"},{label:"",value:"minimize"},{label:"",value:"plus"},{label:"",value:"minus"},{label:"",value:"column"},{label:"",value:"row"},{label:"",value:"panel"},{label:"",value:"form"},{label:"",value:"gauge"},{label:"",value:"dotted_line"},{label:"",value:"bell"},{label:"",value:"radio"},{label:"",value:"button"},{label:"",value:"button_group"},{label:"",value:"unbind"},{label:"",value:"custom"},{label:"",value:"picture"},{label:"",value:"battery"},{label:"",value:"slot"},{label:"",value:"water"},{label:"",value:"textarea"},{label:"",value:"toggle"},{label:"",value:"input"},{label:"",value:"close"},{label:"",value:"calendar"},{label:"",value:"check"},{label:"",value:"dashed_line"},{label:"",value:"solid_line"},{label:"",value:"setting"},{label:"",value:"logout"},{label:"",value:"bar_chart"},{label:"",value:"line_chart"},{label:"",value:"history"},{label:"",value:"icon"},{label:"",value:"lamp"},{label:"",value:"table"},{label:"",value:"switch"},{label:"",value:"slider"},{label:"",value:"tools"},{label:"",value:"pen"},{label:"",value:"tab"}]}ngOnInit(){this.modalTitle="add"===this.mode?"Add Page":"Modify Page"}confirm(){if(this.form.valid){this.modalPending=!0;const t={...this.form.value};"add"===this.mode&&delete t.id,this.http.post("add"===this.mode?"addPage":"editPage",t).subscribe({next:o=>{this.modalPending=!1,this.modalConfirm.emit(o)},error:o=>{this.modalPending=!1;const l=this.form.get(o.name);l&&(l.setErrors({text:o.message}),l.markAsTouched())}})}else this.form.markAllAsTouched()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.eN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal-page-edit"]],inputs:{mode:"mode"},outputs:{modalConfirm:"modalConfirm",modalClose:"modalClose"},decls:49,vars:23,consts:function(){let i,t,o,l,a,u,E,M,A;return i="You'll see the change after refreshing browser!",t="Title",o="Icon",l="Url",a="Menu Category",u="Function",E="Directory",M="Parent Menu",A=" Description ",[[3,"modalTitle","modalPending","modalFooter","formGroup","confirm","cancel"],["role","alert",1,"alert","alert-primary"],[1,"gt-icon"],i,[1,"mb-3"],[1,"form-label"],t,["id","title","type","text","formControlName","title",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"row"],[1,"col-md-6","mb-3"],o,[1,"input-group"],["formControlName","icon",1,"form-select"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"input-group-text"],l,["type","text","formControlName","url",1,"form-control"],a,["formControlName","type",1,"form-select"],["value","Function"],u,["value","Directory"],E,M,["formControlName","parentId",1,"form-select"],A,["rows","5","formControlName","description",1,"form-control"],[1,"invalid-feedback"]]},template:function(t,o){1&t&&(e.TgZ(0,"app-modal",0),e.NdJ("confirm",function(){return o.confirm()})("cancel",function(){return o.modalClose.emit()}),e.TgZ(1,"div",1)(2,"i",2),e._uU(3,"bell"),e.qZA(),e.ynx(4),e.SDv(5,3),e.BQk(),e.qZA(),e.TgZ(6,"div",4)(7,"label",5),e.SDv(8,6),e.qZA(),e._UZ(9,"input",7),e.YNc(10,Y,2,0,"div",8),e.qZA(),e.TgZ(11,"div",9)(12,"div",10)(13,"label",5),e.SDv(14,11),e.qZA(),e.TgZ(15,"div",12)(16,"select",13),e._UZ(17,"option",14),e.YNc(18,Q,2,2,"option",15),e.qZA(),e.TgZ(19,"span",16)(20,"i",2),e._uU(21),e.qZA()()()(),e.TgZ(22,"div",10)(23,"label",5),e.SDv(24,17),e.qZA(),e._UZ(25,"input",18),e.YNc(26,j,3,3,"div",8),e.qZA()(),e.TgZ(27,"div",9)(28,"div",10)(29,"label",5),e.SDv(30,19),e.qZA(),e.TgZ(31,"select",20)(32,"option",21),e.SDv(33,22),e.qZA(),e.TgZ(34,"option",23),e.SDv(35,24),e.qZA()()(),e.TgZ(36,"div",10)(37,"label",5),e.SDv(38,25),e.qZA(),e.TgZ(39,"select",26),e._UZ(40,"option",14),e.YNc(41,K,2,2,"option",15),e.ALo(42,"async"),e.qZA(),e.YNc(43,W,3,3,"div",8),e.qZA()(),e.TgZ(44,"div",4)(45,"label",5),e.SDv(46,27),e.qZA(),e._UZ(47,"textarea",28),e.YNc(48,ee,2,0,"div",8),e.qZA()()),2&t&&(e.Q6J("modalTitle",o.modalTitle)("modalPending",o.modalPending)("modalFooter",!0)("formGroup",o.form),e.xp6(9),e.ekj("is-invalid",o.pageTitle.touched&&o.pageTitle.invalid),e.xp6(1),e.Q6J("ngIf",o.pageTitle.touched),e.xp6(7),e.Q6J("ngValue",null),e.xp6(1),e.Q6J("ngForOf",o.gtIcons),e.xp6(3),e.Oqu(o.pageIcon.value),e.xp6(4),e.ekj("is-invalid",o.pageUrl.touched&&o.pageUrl.invalid),e.xp6(1),e.Q6J("ngIf",o.pageUrl.touched),e.xp6(13),e.ekj("is-invalid",o.pageParentID.touched&&o.pageParentID.invalid),e.xp6(1),e.Q6J("ngValue",null),e.xp6(1),e.Q6J("ngForOf",e.lcZ(42,21,o.parentList)),e.xp6(2),e.Q6J("ngIf",o.pageParentID.touched),e.xp6(4),e.ekj("is-invalid",o.pageDescription.touched&&o.pageDescription.invalid),e.xp6(1),e.Q6J("ngIf",o.pageDescription.touched))},dependencies:[r.sg,r.O5,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,G.z,r.Ov,r.Ts],encapsulation:2}),n})();var S=_(8184);function te(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,a=e.oxw();return e.KtG(a.activatePage(l.id))}),e.SDv(1,23),e.qZA()}}function ne(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"i",16),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",17)(15,"button",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.editPage(a))}),e.SDv(16,19),e.qZA(),e.TgZ(17,"button",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.deletePage(a.id))}),e.SDv(18,20),e.qZA(),e.YNc(19,te,2,0,"button",21),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(3),e.Oqu(t.icon),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.url),e.xp6(2),e.Oqu(t.parentId),e.xp6(6),e.Q6J("ngIf","Function"===t.type)}}let oe=(()=>{class n{constructor(t,o,l){this.http=t,this.overlay=o,this.router=l,this.modalClose=new e.vpe,this.mode="view"}ngOnInit(){this.loadPageList()}loadPageList(){this.http.get("getPageList").subscribe(t=>this.pageList=t)}addPage(){const t=this.overlay.create({hasBackdrop:!0,disposeOnNavigation:!0}),o=t.attach(new v.C5(h));(0,O.T)(o.instance.modalConfirm.pipe((0,C.b)(()=>this.loadPageList())),o.instance.modalClose).subscribe(()=>t.dispose())}editPage(t){const o=this.overlay.create({hasBackdrop:!0,disposeOnNavigation:!0}),a=o.attach(new v.C5(h)).instance;a.mode="modify",a.pageID.setValue(t.id),a.pageTitle.setValue(t.title),a.pageIcon.setValue(t.icon),a.pageDescription.setValue(t.description),a.pageUrl.setValue(t.url),a.pageType.setValue(t.type),a.pageType.disable({emitEvent:!0}),a.pageParentID.setValue(t.parentId),(0,O.T)(a.modalConfirm.pipe((0,C.b)(()=>this.loadPageList())),a.modalClose).subscribe(()=>o.dispose())}deletePage(t){confirm("\u662f\u5426\u8981\u5220\u9664\u8be5\u6570\u636e\uff1f")&&this.http.post("deletePage",{id:t}).subscribe(()=>this.loadPageList())}activatePage(t){this.router.navigate(["edit",t]).catch(),this.modalClose.emit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.eN),e.Y36(S.aV),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal-pages"]],outputs:{modalClose:"modalClose"},decls:24,vars:1,consts:function(){let i,t,o,l,a,u,E,M,A,d,N,f;return i="Page List",t="Icon",o="Title",l=" Description ",a="Type",u="Url",E="Parent Menu",M="Operation",A="Add",d="Modify",N="Remove",f="Edit",[["modalTitle",i,"modalSize","xl",3,"cancel"],[1,"overflow-auto"],[1,"table","table-bordered","table-hover","table-striped"],[1,"position-sticky","bg-body",2,"top","-1rem"],[1,"text-truncate"],t,o,l,a,u,E,M,[4,"ngFor","ngForOf"],[1,"d-grid","gap-2","mt-2"],[1,"btn","btn-light",3,"click"],A,[1,"gt-icon"],[1,"text-nowrap"],[1,"btn","btn-light","btn-sm","me-2",3,"click"],d,N,["class","btn btn-light btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-light","btn-sm",3,"click"],f]},template:function(t,o){1&t&&(e.TgZ(0,"app-modal",0),e.NdJ("cancel",function(){return o.modalClose.emit()}),e.TgZ(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th",4),e.SDv(6,5),e.qZA(),e.TgZ(7,"th",4),e.SDv(8,6),e.qZA(),e.TgZ(9,"th",4),e.SDv(10,7),e.qZA(),e.TgZ(11,"th",4),e.SDv(12,8),e.qZA(),e.TgZ(13,"th",4),e.SDv(14,9),e.qZA(),e.TgZ(15,"th",4),e.SDv(16,10),e.qZA(),e.TgZ(17,"th",4),e.SDv(18,11),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,ne,20,7,"tr",12),e.qZA()()(),e.TgZ(21,"div",13)(22,"button",14),e.NdJ("click",function(){return o.addPage()}),e.SDv(23,15),e.qZA()()()),2&t&&(e.xp6(20),e.Q6J("ngForOf",o.pageList))},dependencies:[r.sg,r.O5,G.z],encapsulation:2}),n})();var ie=_(3498);const le=["*"];let Z=(()=>{class n{constructor(t,o){this._document=t,this.renderer=o,this._show=!1,this.offCanvasClose=new e.vpe}get show(){return this._show}set show(t){this._show=t;const o=this._document.body;if(t){const l=window.innerWidth-this._document.documentElement.scrollWidth;this.renderer.setStyle(o,"overflow","hidden"),this.renderer.setStyle(o,"paddingRight",l+"px")}else this.renderer.removeStyle(o,"overflow"),this.renderer.removeStyle(o,"paddingRight")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.K0),e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-offcanvas"]],hostAttrs:[1,"offcanvas-lg"],hostVars:8,hostBindings:function(t,o){2&t&&e.ekj("show",o.show)("offcanvas-start","start"===o.position)("offcanvas-end","end"===o.position)("bg-primary","primary"===o.theme)},inputs:{show:"show",position:"position",theme:"theme",offCanvasTitle:"offCanvasTitle"},outputs:{offCanvasClose:"offCanvasClose"},ngContentSelectors:le,decls:9,vars:1,consts:[[1,"offcanvas-header","pb-0"],["src","assets/icons/128.png","alt","Ghosten Logo",1,"rounded",2,"width","2rem"],[1,"offcanvas-title"],["type","button",1,"btn","btn-close",3,"click"],[1,"offcanvas-body","pt-0"],[1,"d-lg-none","text-body-50"],[1,"me-auto"]],template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"h5",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return o.offCanvasClose.emit()}),e.qZA()(),e.TgZ(5,"div",4),e._UZ(6,"hr",5)(7,"div",6),e.Hsn(8),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",o.offCanvasTitle," "))},encapsulation:2}),n})();function ae(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",33),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.showRightSidebar=!1)}),e.qZA()}}let _e=(()=>{class n{constructor(t,o,l,a,u,E){this.http=t,this.toast=o,this.overlay=l,this.router=a,this.location=u,this.renderer=E,this.showSideMenu=!1,this.showLeftSidebar=new e.vpe,this.showRightSidebar=!1}reset(){confirm("\u662f\u5426\u8981\u6e05\u7a7a\u6240\u6709\u6570\u636e\uff1f")&&this.http.post("deleteDB",null).subscribe(()=>{this.toast.show({type:"primary",title:"\u4fe1\u606f",message:"\u6240\u6709\u6570\u636e\u5df2\u6e05\u7a7a",detail:"5\u79d2\u540e\u9875\u9762\u5c06\u81ea\u52a8\u5237\u65b0"}),setTimeout(()=>this.reload(),5e3)})}import(t){t.files&&t.files[0]&&this.http.post("importDB",t.files[0]).subscribe(()=>{this.toast.show({type:"primary",title:"\u4fe1\u606f",message:"\u6570\u636e\u5bfc\u5165\u6210\u529f",detail:"5\u79d2\u540e\u9875\u9762\u5c06\u81ea\u52a8\u5237\u65b0"}),setTimeout(()=>this.reload(),5e3)})}export(){this.http.get("exportDB").subscribe(t=>{const o=this.renderer.createElement("a");o.download=t.name,o.href=URL.createObjectURL(t),o.click()})}pageList(){const t=this.overlay.create({hasBackdrop:!0,disposeOnNavigation:!0});t.attach(new v.C5(oe)).instance.modalClose.pipe((0,D.q)(1)).subscribe(()=>t.dispose())}addPage(){const t=this.overlay.create({hasBackdrop:!0,disposeOnNavigation:!0}),o=t.attach(new v.C5(h));(0,O.T)(o.instance.modalConfirm.pipe((0,C.b)(l=>{"Function"===l.type&&this.router.navigate(["edit",l.id]).catch()})),o.instance.modalClose).pipe((0,D.q)(1)).subscribe(()=>t.dispose())}reload(){location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.eN),e.Y36(ie.k),e.Y36(S.aV),e.Y36(g.F0),e.Y36(r.Ye),e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-navbar"]],inputs:{showSideMenu:"showSideMenu"},outputs:{showLeftSidebar:"showLeftSidebar"},features:[e._Bn([r.Ye,{provide:r.S$,useClass:r.b0}])],decls:72,vars:2,consts:function(){let i,t,o,l,a,u,E,M,A,d,N,f,p,I,L,y;return i="Backward",t="Backward",o="Forward",l="Forward",a="Refresh",u="Refresh",E="Add Page",M="Add Page",A="Page List",d="Page List",N="Import",f="Import",p=" Export ",I=" Export ",L="Reset",y="Reset",[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-primary","sticky-top",2,"--bs-emphasis-color-rgb","248,249,250"],[1,"container"],["type","button","data-bs-toggle","collapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"gt-icon"],["routerLink","/",1,"navbar-brand","me-0","d-flex","align-items-center"],["src","assets/icons/128.png","alt","Ghosten Logo","width","32","height","32",1,"rounded",2,"width","2rem","height","2rem"],[1,"fw-bold","mx-1"],["offCanvasTitle","GHOSTEN","position","end","theme","primary",3,"show","offCanvasClose"],[1,"navbar-nav","flex-row","flex-wrap"],[1,"nav-item","col-6","col-lg-auto"],["type","button","title",i,1,"btn","btn-link","nav-link",3,"click"],[1,"d-lg-none","ms-2"],t,["type","button","title",o,1,"btn","btn-link","nav-link",3,"click"],l,["type","button","title",a,1,"btn","btn-link","nav-link",3,"click"],u,[1,"nav-item","py-2","col-12","col-lg-auto"],[1,"vr","d-none","d-lg-flex","h-100","mx-lg-2","text-white"],[1,"d-lg-none","text-white-50"],["type","button","title",E,1,"btn","btn-link","nav-link",3,"click"],M,["type","button","title",A,1,"btn","btn-link","nav-link",3,"click"],d,["type","button","title",N,1,"btn","btn-link","nav-link","position-relative","overflow-hidden"],["type","file","accept",".gt",1,"position-absolute","w-100","h-100","opacity-0",2,"left","0","top","0",3,"change"],["file",""],f,["type","button","title",p,1,"btn","btn-link","nav-link",3,"click"],I,["type","button","title",L,1,"btn","btn-link","nav-link",3,"click"],y,["class","offcanvas-backdrop fade show",3,"click",4,"ngIf"],[1,"offcanvas-backdrop","fade","show",3,"click"]]},template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.showLeftSidebar.emit()}),e.TgZ(3,"i",3),e._uU(4,"list"),e.qZA()(),e.TgZ(5,"a",4),e._UZ(6,"img",5),e.TgZ(7,"span",6),e._uU(8,"GHOSTEN"),e.qZA()(),e.TgZ(9,"button",2),e.NdJ("click",function(){return o.showRightSidebar=!0}),e.TgZ(10,"i",3),e._uU(11,"dotted_line"),e.qZA()(),e.TgZ(12,"app-offcanvas",7),e.NdJ("offCanvasClose",function(){return o.showRightSidebar=!1}),e.TgZ(13,"ul",8)(14,"li",9)(15,"button",10),e.NdJ("click",function(){return o.location.back()}),e.TgZ(16,"i",3),e._uU(17,"chevron_left"),e.qZA(),e.TgZ(18,"small",11),e.SDv(19,12),e.qZA()()(),e.TgZ(20,"li",9)(21,"button",13),e.NdJ("click",function(){return o.location.forward()}),e.TgZ(22,"i",3),e._uU(23,"chevron_right"),e.qZA(),e.TgZ(24,"small",11),e.SDv(25,14),e.qZA()()(),e.TgZ(26,"li",9)(27,"button",15),e.NdJ("click",function(){return o.reload()}),e.TgZ(28,"i",3),e._uU(29,"refresh_ccw"),e.qZA(),e.TgZ(30,"small",11),e.SDv(31,16),e.qZA()()(),e.TgZ(32,"li",17),e._UZ(33,"div",18)(34,"hr",19),e.qZA(),e.TgZ(35,"li",9)(36,"button",20),e.NdJ("click",function(){return o.addPage()}),e.TgZ(37,"i",3),e._uU(38,"add"),e.qZA(),e.TgZ(39,"small",11),e.SDv(40,21),e.qZA()()(),e.TgZ(41,"li",9)(42,"button",22),e.NdJ("click",function(){return o.pageList()}),e.TgZ(43,"i",3),e._uU(44,"list"),e.qZA(),e.TgZ(45,"small",11),e.SDv(46,23),e.qZA()()(),e.TgZ(47,"li",9)(48,"button",24)(49,"label")(50,"input",25,26),e.NdJ("change",function(){e.CHM(l);const u=e.MAs(51);return e.KtG(o.import(u))}),e.qZA()(),e.TgZ(52,"i",3),e._uU(53,"upload"),e.qZA(),e.TgZ(54,"small",11),e.SDv(55,27),e.qZA()()(),e.TgZ(56,"li",9)(57,"button",28),e.NdJ("click",function(){return o.export()}),e.TgZ(58,"i",3),e._uU(59,"download"),e.qZA(),e.TgZ(60,"small",11),e.SDv(61,29),e.qZA()()(),e.TgZ(62,"li",17),e._UZ(63,"div",18)(64,"hr",19),e.qZA(),e.TgZ(65,"li",9)(66,"button",30),e.NdJ("click",function(){return o.reset()}),e.TgZ(67,"i",3),e._uU(68,"refresh_ccw"),e.qZA(),e.TgZ(69,"small",11),e.SDv(70,31),e.qZA()()()()(),e.YNc(71,ae,1,0,"div",32),e.qZA()()}2&t&&(e.xp6(12),e.Q6J("show",o.showRightSidebar),e.xp6(59),e.Q6J("ngIf",o.showRightSidebar))},dependencies:[r.O5,g.yS,Z],encapsulation:2}),n})(),se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-footer"]],decls:30,vars:0,consts:[[1,"mt-5","py-4","oblique-stripes","border-top"],[1,"container","py-4","px-4"],[1,"row"],[1,"col-lg-6","col-md-auto","mb-3","d-flex"],["href","/",1,"navbar-brand","d-flex","flex-column","align-items-center"],["src","assets/icons/128.png","alt","Ghosten Logo","width","80","height","80",1,"rounded",2,"width","5rem"],[1,"fw-bold","my-2"],[1,"ms-3"],[1,"col-6","col-lg-3","mb-3"],[1,"list-unstyled"],[1,"mb-2"],["target","_blank","href","/ghosten/zh/"],["target","_blank","href","/ghosten/en-US/"],["target","_blank","href","https://github.com/GhostenEditor/ghosten"]],template:function(t,o){1&t&&(e.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),e._UZ(5,"img",5),e.TgZ(6,"span",6),e._uU(7,"GHOSTEN"),e.qZA()(),e.TgZ(8,"div",7),e._uU(9," A Low-Code Web Editor. If you like it, give me a star please! Code licensed MIT, Currently v0.1.0-alpha9. "),e.qZA()(),e.TgZ(10,"div",8)(11,"h5"),e._uU(12,"LANGUAGES"),e.qZA(),e.TgZ(13,"ul",9)(14,"li",10)(15,"a",11),e._uU(16,"\u7b80\u4f53\u4e2d\u6587\u7248"),e.qZA()(),e.TgZ(17,"li",10)(18,"a",12),e._uU(19,"English Version"),e.qZA()(),e.TgZ(20,"li",10)(21,"span"),e._uU(22,"\u65e5\u672c\u8a9e\u7248 (todo)"),e.qZA()()()(),e.TgZ(23,"div",8)(24,"h5"),e._uU(25,"LINKS"),e.qZA(),e.TgZ(26,"ul",9)(27,"li",10)(28,"a",13),e._uU(29,"GITHUB"),e.qZA()()()()()()())},styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color);text-decoration:none}"]}),n})();function re(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.showSideMenu=!1)}),e.qZA()}}let ue=(()=>{class n{constructor(){this.showSideMenu=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-main"]],decls:9,vars:3,consts:[[3,"showLeftSidebar"],[1,"container","pt-4"],[1,"row"],["position","start","offCanvasTitle","Navigation",1,"col-2",3,"show","offCanvasClose"],[1,"w-100",3,"showSideMenu"],["class","offcanvas-backdrop fade show",3,"click",4,"ngIf"],[1,"col-lg-10","px-4","min-vh-100"],[1,"offcanvas-backdrop","fade","show",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"app-navbar",0),e.NdJ("showLeftSidebar",function(){return o.showSideMenu=!0}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"app-offcanvas",3),e.NdJ("offCanvasClose",function(){return o.showSideMenu=!1}),e._UZ(4,"app-navigation",4),e.qZA(),e.YNc(5,re,1,0,"div",5),e.TgZ(6,"div",6),e._UZ(7,"router-outlet"),e.qZA()()(),e._UZ(8,"app-footer")),2&t&&(e.xp6(3),e.Q6J("show",o.showSideMenu),e.xp6(1),e.Q6J("showSideMenu",o.showSideMenu),e.xp6(1),e.Q6J("ngIf",o.showSideMenu))},dependencies:[r.O5,g.lC,H,_e,se,Z],encapsulation:2}),n})();var ce=_(9371);let de=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.ez,g.Bz,S.U8,P.XD]}),n})();var pe=_(3712);let ge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.ez,s.u5,s.UX,pe.z]}),n})();var Ee=_(9162);let Me=(()=>{class n{constructor(t,o){this.route=t,this.isBrowser=(0,r.NF)(o)}log({type:t,message:o,data:l}){if(this.isBrowser)switch(t){case"info":console.info("[GHOSTEN  INFO]: "+o+" %O",l);break;case"error":console.error("[GHOSTEN ERROR]: "+o,l);break;case"warning":console.warn("[GHOSTEN WARNING]: "+o,l)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz),e.Y36(e.Lbi))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-template"]],decls:1,vars:1,consts:[[3,"data","log"]],template:function(t,o){1&t&&(e.TgZ(0,"gt-renderer",0),e.NdJ("log",function(a){return o.log(a)}),e.qZA()),2&t&&e.Q6J("data",o.route.snapshot.data.data)},dependencies:[Ee.b],encapsulation:2}),n})(),$=(()=>{class n{constructor(t){this.http=t}resolve(t){return this.http.get("getLatestConfigByID",{params:{id:t.data.id}})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:g.Z6,multi:!0,useFactory:i=>[{path:"",component:ue,children:[{path:"",component:q},{path:"404",component:w},...i.generateRoutes(Me,$)]}],deps:[ce.J]},$],imports:[r.ez,g.Bz,de,R.Bp,U.h3,ge]}),n})()}}]);