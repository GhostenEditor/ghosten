"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[258],{2258:(g_,R,a)=>{a.r(R),a.d(R,{MainModule:()=>p_});var d=a(5453),E=a(6895),L=a(2757),B=a(1129),_=a(4650);let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-page-error"]],decls:2,vars:0,consts:[[1,"font-monospace","w-100","h-100","d-flex","justify-content-center","align-items-center",2,"font-size","5rem"]],template:function(e,n){1&e&&(_.TgZ(0,"div",0),_._uU(1," 404 Not Found "),_.qZA())},encapsulation:2}),t})();var w=a(7272),J=a(5963),k=a(4004);let H=(()=>{class t{constructor(){this.originalDescription="A Low-Code Web Editor. Fast and easy to build web page.",this.description=""}ngOnInit(){(0,w.z)(...this.originalDescription.split("").map(e=>(0,J.H)(150*Math.random()).pipe((0,k.U)(()=>e)))).subscribe(e=>this.description+=e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-home"]],decls:18,vars:1,consts:[[1,"text-center","position-relative","p-1"],[1,"mt-5","mb-4",2,"font-size","4rem"],[1,"fw-normal","mb-5","text-secondary","font-monospace","m-auto",2,"max-width","24rem","height","2.5em"],[1,"cursor"],[1,"mb-3"],["target","_blank","href","https://github.com/GhostenEditor/ghosten",1,"btn","btn-lg","btn-primary","me-3"],["type","button",1,"btn","btn-lg","btn-light"],[1,"text-body-tertiary"],["src","assets/screenshot.png","alt","screenshot",1,"img-fluid","border","rounded","mt-5"]],template:function(e,n){1&e&&(_.TgZ(0,"div",0)(1,"h1",1),_._uU(2,"GHOSTEN EDITOR"),_.qZA(),_.TgZ(3,"h6",2),_._uU(4),_.TgZ(5,"span",3),_._uU(6,"|"),_.qZA()(),_.TgZ(7,"div",4)(8,"a",5)(9,"small"),_._uU(10,"Develop"),_.qZA()(),_.TgZ(11,"button",6)(12,"small"),_._uU(13,"How to start"),_.qZA()()(),_.TgZ(14,"small",7)(15,"i"),_._uU(16,"*Note: It is alpha version."),_.qZA()(),_._UZ(17,"img",8),_.qZA()),2&e&&(_.xp6(4),_.hij(" ",n.description," "))},styles:[".cursor[_ngcontent-%COMP%]{animation:blink .7s infinite}@keyframes blink{0%{opacity:1}50%{opacity:0}to{opacity:1}}"]}),t})();var N=a(529),g=a(7340),f=a(8580);function Y(t,o){if(1&t){const e=_.EpF();_.ynx(0),_.TgZ(1,"div",5),_.NdJ("click",function(){_.CHM(e),_.oxw();const i=_.MAs(1);return _.KtG(i.toggle())}),_._UZ(2,"a",6),_.TgZ(3,"i",7),_._uU(4),_.qZA(),_.TgZ(5,"span",8),_._uU(6),_.qZA(),_.TgZ(7,"i",9),_._uU(8),_.qZA()(),_._UZ(9,"app-navigation-item",10),_.BQk()}if(2&t){const e=_.oxw().$implicit,n=_.MAs(1),i=_.oxw();_.xp6(1),_.Udp("padding-left",.75*i.level+"rem"),_.xp6(1),_.Q6J("routerLink",e.url),_.xp6(2),_.Oqu(e.icon),_.xp6(2),_.Oqu(e.label),_.xp6(2),_.Oqu(n.expanded?"chevron_down":"chevron_right"),_.xp6(1),_.Q6J("items",e.children)("level",i.level+1)("@bodyExpansion",n.expanded?"expanded":"collapsed")}}function x(t,o){if(1&t&&(_.ynx(0),_.TgZ(1,"a",11)(2,"i",7),_._uU(3),_.qZA(),_._uU(4),_.qZA(),_.BQk()),2&t){const e=_.oxw().$implicit,n=_.oxw();_.xp6(1),_.Udp("padding-left",.75*n.level+"rem"),_.Q6J("routerLink",e.url),_.xp6(2),_.Oqu(e.icon),_.xp6(1),_.Oqu(e.label)}}function q(t,o){if(1&t&&(_.TgZ(0,"li",2,3),_.YNc(2,Y,10,9,"ng-container",4),_.YNc(3,x,5,5,"ng-container",4),_.qZA()),2&t){const e=o.$implicit,n=_.MAs(1);_.ekj("open",n.expanded),_.xp6(2),_.Q6J("ngIf",e.directory),_.xp6(1),_.Q6J("ngIf",!e.directory)}}let F=(()=>{class t{constructor(){this.level=1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-navigation-item"]],hostAttrs:[1,"overflow-hidden"],inputs:{items:"items",level:"level"},decls:2,vars:4,consts:[["cdkAccordion","",1,"list-unstyled",3,"multi"],["class","mb-1","cdkAccordionItem","",3,"open",4,"ngFor","ngForOf"],["cdkAccordionItem","",1,"mb-1"],["accordionItem","cdkAccordionItem"],[4,"ngIf"],["routerLinkActive","active",1,"btn","btn-text","d-flex","align-items-baseline","btn-sm",3,"click"],[1,"d-none",3,"routerLink"],[1,"gt-icon","me-2"],[1,"flex-grow-1","text-start"],[1,"gt-icon","ms-2"],[1,"d-block",3,"items","level"],["routerLinkActive","active",1,"btn","btn-text","d-flex","align-items-baseline","btn-sm",3,"routerLink"]],template:function(e,n){1&e&&(_.TgZ(0,"ul",0),_.YNc(1,q,4,4,"li",1),_.qZA()),2&e&&(_.ekj("mt-1",1!==n.level),_.Q6J("multi",!0),_.xp6(1),_.Q6J("ngForOf",n.items))},dependencies:[E.sg,E.O5,d.yS,d.Od,f.xI,f.dD,t],encapsulation:2,data:{animation:[(0,g.X$)("bodyExpansion",[(0,g.SB)("collapsed, void",(0,g.oB)({height:"0px",visibility:"hidden"})),(0,g.SB)("expanded",(0,g.oB)({height:"*",visibility:"visible"})),(0,g.eR)("expanded <=> collapsed, void => collapsed",(0,g.jt)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])]}}),t})();function X(t,o){1&t&&(_.TgZ(0,"div",2),_._uU(1," There is no menu now! Try to do something. "),_.qZA())}let W=(()=>{class t{constructor(e){this.http=e,this.showSideMenu=!1,this.http.get("getNavigations").subscribe(n=>this.items=n)}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(N.eN))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-navigation"]],inputs:{showSideMenu:"showSideMenu"},decls:2,vars:4,consts:[["class","vh-100 font-monospace text-center p-3 oblique-stripes rounded border",4,"ngIf"],[2,"overflow","auto!important",3,"items"],[1,"vh-100","font-monospace","text-center","p-3","oblique-stripes","rounded","border"]],template:function(e,n){1&e&&(_.YNc(0,X,2,0,"div",0),_._UZ(1,"app-navigation-item",1)),2&e&&(_.Q6J("ngIf",n.items&&!n.items.length),_.xp6(1),_.ekj("show",n.showSideMenu),_.Q6J("items",n.items))},dependencies:[E.O5,F],encapsulation:2}),t})();var m=a(4080),P=a(6451),G=a(8505),h=a(5698),s=a(433),b=a(2125);function z(t,o){1&t&&(_.TgZ(0,"div",29),_._uU(1,"\u6b64\u9879\u4e3a\u5fc5\u586b\u9879"),_.qZA())}function V(t,o){if(1&t&&(_.TgZ(0,"option",14),_._uU(1),_.qZA()),2&t){const e=o.$implicit;_.Q6J("ngValue",e.value),_.xp6(1),_.hij(" ",e.label||e.value," ")}}function Q(t,o){if(1&t&&(_.TgZ(0,"div",29),_._uU(1),_.ALo(2,"json"),_.qZA()),2&t){const e=_.oxw();_.xp6(1),_.hij(" ",_.lcZ(2,1,e.pageUrl.errors)," ")}}function j(t,o){if(1&t&&(_.TgZ(0,"option",14),_._uU(1),_.qZA()),2&t){const e=o.$implicit;_.Q6J("ngValue",e.id),_.xp6(1),_.hij(" ",e.title," ")}}function K(t,o){if(1&t&&(_.TgZ(0,"div",29),_._uU(1),_.ALo(2,"json"),_.qZA()),2&t){const e=_.oxw();_.xp6(1),_.hij(" ",_.lcZ(2,1,e.pageParentID.errors)," ")}}function __(t,o){1&t&&(_.TgZ(0,"div",29),_._uU(1,"\u6b64\u9879\u4e3a\u5fc5\u586b\u9879"),_.qZA())}let C=(()=>{class t{constructor(e){this.http=e,this.mode="add",this.modalConfirm=new _.vpe,this.modalClose=new _.vpe,this.form=new s.cw({id:new s.NI(null),title:new s.NI(null,s.kI.required),description:new s.NI(null,s.kI.required),url:new s.NI(null,[s.kI.required,s.kI.pattern(/^[\w\-]+$/)]),type:new s.NI("Function",s.kI.required),icon:new s.NI(null),parentId:new s.NI}),this.pageID=this.form.get("id"),this.pageTitle=this.form.get("title"),this.pageDescription=this.form.get("description"),this.pageUrl=this.form.get("url"),this.pageType=this.form.get("type"),this.pageIcon=this.form.get("icon"),this.pageParentID=this.form.get("parentId"),this.modalPending=!1,this.parentList=this.http.get("getPageList",{params:{type:"Directory"}}),this.gtIcons=[{label:"",value:"add"},{label:"",value:"mouse_pointer"},{label:"",value:"division"},{label:"",value:"checkbox"},{label:"",value:"toys"},{label:"",value:"trash"},{label:"",value:"edit"},{label:"",value:"file"},{label:"",value:"pages"},{label:"",value:"chevron_left"},{label:"",value:"chevron_right"},{label:"",value:"chevron_up"},{label:"",value:"chevron_down"},{label:"",value:"chevrons_left"},{label:"",value:"chevrons_right"},{label:"",value:"chevrons_up"},{label:"",value:"chevrons_down"},{label:"",value:"move"},{label:"",value:"refresh"},{label:"",value:"rotate_ccw"},{label:"",value:"rotate_cw"},{label:"",value:"arrow_left"},{label:"",value:"arrow_right"},{label:"",value:"dashed_rect"},{label:"",value:"bind"},{label:"",value:"preview"},{label:"",value:"save"},{label:"",value:"list"},{label:"",value:"maximize"},{label:"",value:"minimize"},{label:"",value:"plus"},{label:"",value:"minus"},{label:"",value:"column"},{label:"",value:"row"},{label:"",value:"panel"},{label:"",value:"form"},{label:"",value:"gauge"},{label:"",value:"dotted_line"},{label:"",value:"bell"},{label:"",value:"radio"},{label:"",value:"button"},{label:"",value:"button_group"},{label:"",value:"unbind"},{label:"",value:"custom"},{label:"",value:"picture"},{label:"",value:"battery"},{label:"",value:"slot"},{label:"",value:"water"},{label:"",value:"textarea"},{label:"",value:"toggle"},{label:"",value:"input"},{label:"",value:"close"},{label:"",value:"calendar"},{label:"",value:"check"},{label:"",value:"dashed_line"},{label:"",value:"solid_line"},{label:"",value:"setting"},{label:"",value:"logout"},{label:"",value:"bar_chart"},{label:"",value:"line_chart"},{label:"",value:"history"},{label:"",value:"icon"},{label:"",value:"lamp"},{label:"",value:"table"},{label:"",value:"switch"},{label:"",value:"slider"},{label:"",value:"tools"},{label:"",value:"pen"},{label:"",value:"tab"}]}ngOnInit(){this.modalTitle="add"===this.mode?"\u9875\u9762\u521B\u5EFA":"\u9875\u9762\u4FEE\u6539"}confirm(){if(this.form.valid){this.modalPending=!0;const e={...this.form.value};"add"===this.mode&&delete e.id,this.http.post("add"===this.mode?"addPage":"editPage",e).subscribe({next:n=>{this.modalPending=!1,this.modalConfirm.emit(n)},error:n=>{this.modalPending=!1;const i=this.form.get(n.name);i&&(i.setErrors({text:n.message}),i.markAsTouched())}})}else this.form.markAllAsTouched()}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(N.eN))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-modal-page-edit"]],inputs:{mode:"mode"},outputs:{modalConfirm:"modalConfirm",modalClose:"modalClose"},decls:49,vars:23,consts:function(){let o,e,n,i,l,r,S,M,p;return o="\u7CFB\u7EDF\u5237\u65B0\u540E\u624D\u80FD\u770B\u5230\u83DC\u5355\u680F\u7684\u66F4\u65B0 ",e="\u6807\u9898",n="\u83DC\u5355\u56FE\u6807",i="\u8DEF\u5F84",l="\u83DC\u5355\u7C7B\u578B",r="\u529F\u80FD",S="\u76EE\u5F55",M="\u4E0A\u7EA7\u83DC\u5355",p="\u63CF\u8FF0",[[3,"modalTitle","modalPending","modalFooter","formGroup","confirm","cancel"],["role","alert",1,"alert","alert-primary"],[1,"gt-icon"],o,[1,"mb-3"],[1,"form-label"],e,["id","title","type","text","formControlName","title",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"row"],[1,"col-md-6","mb-3"],n,[1,"input-group"],["formControlName","icon",1,"form-select"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"input-group-text"],i,["type","text","formControlName","url",1,"form-control"],l,["formControlName","type",1,"form-select"],["value","Function"],r,["value","Directory"],S,M,["formControlName","parentId",1,"form-select"],p,["rows","5","formControlName","description",1,"form-control"],[1,"invalid-feedback"]]},template:function(e,n){1&e&&(_.TgZ(0,"app-modal",0),_.NdJ("confirm",function(){return n.confirm()})("cancel",function(){return n.modalClose.emit()}),_.TgZ(1,"div",1)(2,"i",2),_._uU(3,"bell"),_.qZA(),_.ynx(4),_.SDv(5,3),_.BQk(),_.qZA(),_.TgZ(6,"div",4)(7,"label",5),_.SDv(8,6),_.qZA(),_._UZ(9,"input",7),_.YNc(10,z,2,0,"div",8),_.qZA(),_.TgZ(11,"div",9)(12,"div",10)(13,"label",5),_.SDv(14,11),_.qZA(),_.TgZ(15,"div",12)(16,"select",13),_._UZ(17,"option",14),_.YNc(18,V,2,2,"option",15),_.qZA(),_.TgZ(19,"span",16)(20,"i",2),_._uU(21),_.qZA()()()(),_.TgZ(22,"div",10)(23,"label",5),_.SDv(24,17),_.qZA(),_._UZ(25,"input",18),_.YNc(26,Q,3,3,"div",8),_.qZA()(),_.TgZ(27,"div",9)(28,"div",10)(29,"label",5),_.SDv(30,19),_.qZA(),_.TgZ(31,"select",20)(32,"option",21),_.SDv(33,22),_.qZA(),_.TgZ(34,"option",23),_.SDv(35,24),_.qZA()()(),_.TgZ(36,"div",10)(37,"label",5),_.SDv(38,25),_.qZA(),_.TgZ(39,"select",26),_._UZ(40,"option",14),_.YNc(41,j,2,2,"option",15),_.ALo(42,"async"),_.qZA(),_.YNc(43,K,3,3,"div",8),_.qZA()(),_.TgZ(44,"div",4)(45,"label",5),_.SDv(46,27),_.qZA(),_._UZ(47,"textarea",28),_.YNc(48,__,2,0,"div",8),_.qZA()()),2&e&&(_.Q6J("modalTitle",n.modalTitle)("modalPending",n.modalPending)("modalFooter",!0)("formGroup",n.form),_.xp6(9),_.ekj("is-invalid",n.pageTitle.touched&&n.pageTitle.invalid),_.xp6(1),_.Q6J("ngIf",n.pageTitle.touched),_.xp6(7),_.Q6J("ngValue",null),_.xp6(1),_.Q6J("ngForOf",n.gtIcons),_.xp6(3),_.Oqu(n.pageIcon.value),_.xp6(4),_.ekj("is-invalid",n.pageUrl.touched&&n.pageUrl.invalid),_.xp6(1),_.Q6J("ngIf",n.pageUrl.touched),_.xp6(13),_.ekj("is-invalid",n.pageParentID.touched&&n.pageParentID.invalid),_.xp6(1),_.Q6J("ngValue",null),_.xp6(1),_.Q6J("ngForOf",_.lcZ(42,21,n.parentList)),_.xp6(2),_.Q6J("ngIf",n.pageParentID.touched),_.xp6(4),_.ekj("is-invalid",n.pageDescription.touched&&n.pageDescription.invalid),_.xp6(1),_.Q6J("ngIf",n.pageDescription.touched))},dependencies:[E.sg,E.O5,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,b.z,E.Ov,E.Ts],encapsulation:2}),t})();var v=a(8184);function e_(t,o){if(1&t){const e=_.EpF();_.TgZ(0,"button",22),_.NdJ("click",function(){_.CHM(e);const i=_.oxw().$implicit,l=_.oxw();return _.KtG(l.activatePage(i.id))}),_.SDv(1,23),_.qZA()}}function t_(t,o){if(1&t){const e=_.EpF();_.TgZ(0,"tr")(1,"td")(2,"i",16),_._uU(3),_.qZA()(),_.TgZ(4,"td"),_._uU(5),_.qZA(),_.TgZ(6,"td"),_._uU(7),_.qZA(),_.TgZ(8,"td"),_._uU(9),_.qZA(),_.TgZ(10,"td"),_._uU(11),_.qZA(),_.TgZ(12,"td"),_._uU(13),_.qZA(),_.TgZ(14,"td",17)(15,"button",18),_.NdJ("click",function(){const l=_.CHM(e).$implicit,r=_.oxw();return _.KtG(r.editPage(l))}),_.SDv(16,19),_.qZA(),_.TgZ(17,"button",18),_.NdJ("click",function(){const l=_.CHM(e).$implicit,r=_.oxw();return _.KtG(r.deletePage(l.id))}),_.SDv(18,20),_.qZA(),_.YNc(19,e_,2,0,"button",21),_.qZA()()}if(2&t){const e=o.$implicit;_.xp6(3),_.Oqu(e.icon),_.xp6(2),_.Oqu(e.title),_.xp6(2),_.Oqu(e.description),_.xp6(2),_.Oqu(e.type),_.xp6(2),_.Oqu(e.url),_.xp6(2),_.Oqu(e.parentId),_.xp6(6),_.Q6J("ngIf","Function"===e.type)}}let n_=(()=>{class t{constructor(e,n,i){this.http=e,this.overlay=n,this.router=i,this.modalClose=new _.vpe,this.mode="view"}ngOnInit(){this.loadPageList()}loadPageList(){this.http.get("getPageList").subscribe(e=>this.pageList=e)}addPage(){const e=this.overlay.create({hasBackdrop:!0,disposeOnNavigation:!0}),n=e.attach(new m.C5(C));(0,P.T)(n.instance.modalConfirm.pipe((0,G.b)(()=>this.loadPageList())),n.instance.modalClose).subscribe(()=>e.dispose())}editPage(e){const n=this.overlay.create({hasBackdrop:!0,disposeOnNavigation:!0}),l=n.attach(new m.C5(C)).instance;l.mode="modify",l.pageID.setValue(e.id),l.pageTitle.setValue(e.title),l.pageIcon.setValue(e.icon),l.pageDescription.setValue(e.description),l.pageUrl.setValue(e.url),l.pageType.setValue(e.type),l.pageType.disable({emitEvent:!0}),l.pageParentID.setValue(e.parentId),(0,P.T)(l.modalConfirm.pipe((0,G.b)(()=>this.loadPageList())),l.modalClose).subscribe(()=>n.dispose())}deletePage(e){confirm("\u662f\u5426\u8981\u5220\u9664\u8be5\u6570\u636e\uff1f")&&this.http.post("deletePage",{id:e}).subscribe(()=>this.loadPageList())}activatePage(e){this.router.navigate(["edit",e]).catch(),this.modalClose.emit()}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(N.eN),_.Y36(v.aV),_.Y36(d.F0))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-modal-pages"]],outputs:{modalClose:"modalClose"},decls:24,vars:1,consts:function(){let o,e,n,i,l,r,S,M,p,c,A,O;return o="\u9875\u9762\u5217\u8868",e="\u56FE\u6807",n="\u6807\u9898",i="\u63CF\u8FF0",l="\u7C7B\u578B",r="\u8DEF\u5F84",S="\u4E0A\u7EA7\u83DC\u5355",M="\u64CD\u4F5C",p="\u6DFB\u52A0",c="\u4FEE\u6539",A=" \u5220\u9664 ",O=" \u7F16\u8F91 ",[["modalTitle",o,"modalSize","xl",3,"cancel"],[1,"overflow-auto"],[1,"table","table-bordered","table-hover","table-striped"],[1,"position-sticky","bg-body",2,"top","-1rem"],[1,"text-truncate"],e,n,i,l,r,S,M,[4,"ngFor","ngForOf"],[1,"d-grid","gap-2","mt-2"],[1,"btn","btn-light",3,"click"],p,[1,"gt-icon"],[1,"text-nowrap"],[1,"btn","btn-light","btn-sm","me-2",3,"click"],c,A,["class","btn btn-light btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-light","btn-sm",3,"click"],O]},template:function(e,n){1&e&&(_.TgZ(0,"app-modal",0),_.NdJ("cancel",function(){return n.modalClose.emit()}),_.TgZ(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th",4),_.SDv(6,5),_.qZA(),_.TgZ(7,"th",4),_.SDv(8,6),_.qZA(),_.TgZ(9,"th",4),_.SDv(10,7),_.qZA(),_.TgZ(11,"th",4),_.SDv(12,8),_.qZA(),_.TgZ(13,"th",4),_.SDv(14,9),_.qZA(),_.TgZ(15,"th",4),_.SDv(16,10),_.qZA(),_.TgZ(17,"th",4),_.SDv(18,11),_.qZA()()(),_.TgZ(19,"tbody"),_.YNc(20,t_,20,7,"tr",12),_.qZA()()(),_.TgZ(21,"div",13)(22,"button",14),_.NdJ("click",function(){return n.addPage()}),_.SDv(23,15),_.qZA()()()),2&e&&(_.xp6(20),_.Q6J("ngForOf",n.pageList))},dependencies:[E.sg,E.O5,b.z],encapsulation:2}),t})();var o_=a(3498);const i_=["*"];let D=(()=>{class t{constructor(e,n){this._document=e,this.renderer=n,this._show=!1,this.offCanvasClose=new _.vpe}get show(){return this._show}set show(e){this._show=e;const n=this._document.body;if(e){const i=window.innerWidth-this._document.documentElement.scrollWidth;this.renderer.setStyle(n,"overflow","hidden"),this.renderer.setStyle(n,"paddingRight",i+"px")}else this.renderer.removeStyle(n,"overflow"),this.renderer.removeStyle(n,"paddingRight")}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(E.K0),_.Y36(_.Qsj))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-offcanvas"]],hostAttrs:[1,"offcanvas-lg"],hostVars:8,hostBindings:function(e,n){2&e&&_.ekj("show",n.show)("offcanvas-start","start"===n.position)("offcanvas-end","end"===n.position)("bg-primary","primary"===n.theme)},inputs:{show:"show",position:"position",theme:"theme",offCanvasTitle:"offCanvasTitle"},outputs:{offCanvasClose:"offCanvasClose"},ngContentSelectors:i_,decls:9,vars:1,consts:[[1,"offcanvas-header","pb-0"],["src","assets/icons/128.png","alt","Ghosten Logo",1,"rounded",2,"width","2rem"],[1,"offcanvas-title"],["type","button",1,"btn","btn-close",3,"click"],[1,"offcanvas-body","pt-0"],[1,"d-lg-none","text-body-50"],[1,"me-auto"]],template:function(e,n){1&e&&(_.F$t(),_.TgZ(0,"div",0),_._UZ(1,"img",1),_.TgZ(2,"h5",2),_._uU(3),_.qZA(),_.TgZ(4,"button",3),_.NdJ("click",function(){return n.offCanvasClose.emit()}),_.qZA()(),_.TgZ(5,"div",4),_._UZ(6,"hr",5)(7,"div",6),_.Hsn(8),_.qZA()),2&e&&(_.xp6(3),_.hij(" ",n.offCanvasTitle," "))},encapsulation:2}),t})();function l_(t,o){if(1&t){const e=_.EpF();_.TgZ(0,"div",33),_.NdJ("click",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.showRightSidebar=!1)}),_.qZA()}}let a_=(()=>{class t{constructor(e,n,i,l,r,S){this.http=e,this.toast=n,this.overlay=i,this.router=l,this.location=r,this.renderer=S,this.showSideMenu=!1,this.showLeftSidebar=new _.vpe,this.showRightSidebar=!1}reset(){confirm("\u662f\u5426\u8981\u6e05\u7a7a\u6240\u6709\u6570\u636e\uff1f")&&this.http.post("deleteDB",null).subscribe(()=>{this.toast.show({type:"primary",title:"\u4fe1\u606f",message:"\u6240\u6709\u6570\u636e\u5df2\u6e05\u7a7a",detail:"5\u79d2\u540e\u9875\u9762\u5c06\u81ea\u52a8\u5237\u65b0"}),setTimeout(()=>this.reload(),5e3)})}import(e){e.files&&e.files[0]&&this.http.post("importDB",e.files[0]).subscribe(()=>{this.toast.show({type:"primary",title:"\u4fe1\u606f",message:"\u6570\u636e\u5bfc\u5165\u6210\u529f",detail:"5\u79d2\u540e\u9875\u9762\u5c06\u81ea\u52a8\u5237\u65b0"}),setTimeout(()=>this.reload(),5e3)})}export(){this.http.get("exportDB").subscribe(e=>{const n=this.renderer.createElement("a");n.download=e.name,n.href=URL.createObjectURL(e),n.click()})}pageList(){const e=this.overlay.create({hasBackdrop:!0,disposeOnNavigation:!0});e.attach(new m.C5(n_)).instance.modalClose.pipe((0,h.q)(1)).subscribe(()=>e.dispose())}addPage(){const e=this.overlay.create({hasBackdrop:!0,disposeOnNavigation:!0}),n=e.attach(new m.C5(C));(0,P.T)(n.instance.modalConfirm.pipe((0,G.b)(i=>{"Function"===i.type&&this.router.navigate(["edit",i.id]).catch()})),n.instance.modalClose).pipe((0,h.q)(1)).subscribe(()=>e.dispose())}reload(){location.reload()}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(N.eN),_.Y36(o_.k),_.Y36(v.aV),_.Y36(d.F0),_.Y36(E.Ye),_.Y36(_.Qsj))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-navbar"]],inputs:{showSideMenu:"showSideMenu"},outputs:{showLeftSidebar:"showLeftSidebar"},features:[_._Bn([E.Ye,{provide:E.S$,useClass:E.b0}])],decls:72,vars:2,consts:function(){let o,e,n,i,l,r,S,M,p,c,A,O,T,Z,$,I;return o="\u540E\u9000",e="\u540E\u9000",n="\u524D\u8FDB",i="\u524D\u8FDB",l="\u5237\u65B0",r="\u5237\u65B0",S="\u521B\u5EFA\u9875\u9762",M="\u521B\u5EFA\u9875\u9762",p="\u9875\u9762\u5217\u8868",c="\u9875\u9762\u5217\u8868",A="\u5BFC\u5165",O="\u5BFC\u5165",T="\u5BFC\u51FA",Z="\u5BFC\u51FA",$="\u91CD\u7F6E",I="\u91CD\u7F6E",[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-primary","sticky-top",2,"--bs-emphasis-color-rgb","248,249,250"],[1,"container"],["type","button","data-bs-toggle","collapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"gt-icon"],["routerLink","/",1,"navbar-brand","me-0","d-flex","align-items-center"],["src","assets/icons/128.png","alt","Ghosten Logo","width","32","height","32",1,"rounded",2,"width","2rem","height","2rem"],[1,"fw-bold","mx-1"],["offCanvasTitle","GHOSTEN","position","end","theme","primary",3,"show","offCanvasClose"],[1,"navbar-nav","flex-row","flex-wrap"],[1,"nav-item","col-6","col-lg-auto"],["type","button","title",o,1,"btn","btn-link","nav-link",3,"click"],[1,"d-lg-none","ms-2"],e,["type","button","title",n,1,"btn","btn-link","nav-link",3,"click"],i,["type","button","title",l,1,"btn","btn-link","nav-link",3,"click"],r,[1,"nav-item","py-2","col-12","col-lg-auto"],[1,"vr","d-none","d-lg-flex","h-100","mx-lg-2","text-white"],[1,"d-lg-none","text-white-50"],["type","button","title",S,1,"btn","btn-link","nav-link",3,"click"],M,["type","button","title",p,1,"btn","btn-link","nav-link",3,"click"],c,["type","button","title",A,1,"btn","btn-link","nav-link","position-relative","overflow-hidden"],["type","file","accept",".gt",1,"position-absolute","w-100","h-100","opacity-0",2,"left","0","top","0",3,"change"],["file",""],O,["type","button","title",T,1,"btn","btn-link","nav-link",3,"click"],Z,["type","button","title",$,1,"btn","btn-link","nav-link",3,"click"],I,["class","offcanvas-backdrop fade show",3,"click",4,"ngIf"],[1,"offcanvas-backdrop","fade","show",3,"click"]]},template:function(e,n){if(1&e){const i=_.EpF();_.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),_.NdJ("click",function(){return n.showLeftSidebar.emit()}),_.TgZ(3,"i",3),_._uU(4,"list"),_.qZA()(),_.TgZ(5,"a",4),_._UZ(6,"img",5),_.TgZ(7,"span",6),_._uU(8,"GHOSTEN"),_.qZA()(),_.TgZ(9,"button",2),_.NdJ("click",function(){return n.showRightSidebar=!0}),_.TgZ(10,"i",3),_._uU(11,"dotted_line"),_.qZA()(),_.TgZ(12,"app-offcanvas",7),_.NdJ("offCanvasClose",function(){return n.showRightSidebar=!1}),_.TgZ(13,"ul",8)(14,"li",9)(15,"button",10),_.NdJ("click",function(){return n.location.back()}),_.TgZ(16,"i",3),_._uU(17,"chevron_left"),_.qZA(),_.TgZ(18,"small",11),_.SDv(19,12),_.qZA()()(),_.TgZ(20,"li",9)(21,"button",13),_.NdJ("click",function(){return n.location.forward()}),_.TgZ(22,"i",3),_._uU(23,"chevron_right"),_.qZA(),_.TgZ(24,"small",11),_.SDv(25,14),_.qZA()()(),_.TgZ(26,"li",9)(27,"button",15),_.NdJ("click",function(){return n.reload()}),_.TgZ(28,"i",3),_._uU(29,"refresh_ccw"),_.qZA(),_.TgZ(30,"small",11),_.SDv(31,16),_.qZA()()(),_.TgZ(32,"li",17),_._UZ(33,"div",18)(34,"hr",19),_.qZA(),_.TgZ(35,"li",9)(36,"button",20),_.NdJ("click",function(){return n.addPage()}),_.TgZ(37,"i",3),_._uU(38,"add"),_.qZA(),_.TgZ(39,"small",11),_.SDv(40,21),_.qZA()()(),_.TgZ(41,"li",9)(42,"button",22),_.NdJ("click",function(){return n.pageList()}),_.TgZ(43,"i",3),_._uU(44,"list"),_.qZA(),_.TgZ(45,"small",11),_.SDv(46,23),_.qZA()()(),_.TgZ(47,"li",9)(48,"button",24)(49,"label")(50,"input",25,26),_.NdJ("change",function(){_.CHM(i);const r=_.MAs(51);return _.KtG(n.import(r))}),_.qZA()(),_.TgZ(52,"i",3),_._uU(53,"upload"),_.qZA(),_.TgZ(54,"small",11),_.SDv(55,27),_.qZA()()(),_.TgZ(56,"li",9)(57,"button",28),_.NdJ("click",function(){return n.export()}),_.TgZ(58,"i",3),_._uU(59,"download"),_.qZA(),_.TgZ(60,"small",11),_.SDv(61,29),_.qZA()()(),_.TgZ(62,"li",17),_._UZ(63,"div",18)(64,"hr",19),_.qZA(),_.TgZ(65,"li",9)(66,"button",30),_.NdJ("click",function(){return n.reset()}),_.TgZ(67,"i",3),_._uU(68,"refresh_ccw"),_.qZA(),_.TgZ(69,"small",11),_.SDv(70,31),_.qZA()()()()(),_.YNc(71,l_,1,0,"div",32),_.qZA()()}2&e&&(_.xp6(12),_.Q6J("show",n.showRightSidebar),_.xp6(59),_.Q6J("ngIf",n.showRightSidebar))},dependencies:[E.O5,d.yS,D],encapsulation:2}),t})(),s_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-footer"]],decls:30,vars:0,consts:[[1,"mt-5","py-4","oblique-stripes","border-top"],[1,"container","py-4","px-4"],[1,"row"],[1,"col-lg-6","col-md-auto","mb-3","d-flex"],["href","/",1,"navbar-brand","d-flex","flex-column","align-items-center"],["src","assets/icons/128.png","alt","Ghosten Logo","width","80","height","80",1,"rounded",2,"width","5rem"],[1,"fw-bold","my-2"],[1,"ms-3"],[1,"col-6","col-lg-3","mb-3"],[1,"list-unstyled"],[1,"mb-2"],["target","_blank","href","/ghosten/zh/"],["target","_blank","href","/ghosten/en-US/"],["target","_blank","href","https://github.com/GhostenEditor/ghosten"]],template:function(e,n){1&e&&(_.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),_._UZ(5,"img",5),_.TgZ(6,"span",6),_._uU(7,"GHOSTEN"),_.qZA()(),_.TgZ(8,"div",7),_._uU(9," A Low-Code Web Editor. If you like it, give me a star please! Code licensed MIT, Currently v0.1.0-alpha9. "),_.qZA()(),_.TgZ(10,"div",8)(11,"h5"),_._uU(12,"LANGUAGES"),_.qZA(),_.TgZ(13,"ul",9)(14,"li",10)(15,"a",11),_._uU(16,"\u7b80\u4f53\u4e2d\u6587\u7248"),_.qZA()(),_.TgZ(17,"li",10)(18,"a",12),_._uU(19,"English Version"),_.qZA()(),_.TgZ(20,"li",10)(21,"span"),_._uU(22,"\u65e5\u672c\u8a9e\u7248 (todo)"),_.qZA()()()(),_.TgZ(23,"div",8)(24,"h5"),_._uU(25,"LINKS"),_.qZA(),_.TgZ(26,"ul",9)(27,"li",10)(28,"a",13),_._uU(29,"GITHUB"),_.qZA()()()()()()())},styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color);text-decoration:none}"]}),t})();function E_(t,o){if(1&t){const e=_.EpF();_.TgZ(0,"div",7),_.NdJ("click",function(){_.CHM(e);const i=_.oxw();return _.KtG(i.showSideMenu=!1)}),_.qZA()}}let r_=(()=>{class t{constructor(){this.showSideMenu=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-main"]],decls:9,vars:3,consts:[[3,"showLeftSidebar"],[1,"container","pt-4"],[1,"row"],["position","start","offCanvasTitle","Navigation",1,"col-2",3,"show","offCanvasClose"],[1,"w-100",3,"showSideMenu"],["class","offcanvas-backdrop fade show",3,"click",4,"ngIf"],[1,"col-lg-10","px-4","min-vh-100"],[1,"offcanvas-backdrop","fade","show",3,"click"]],template:function(e,n){1&e&&(_.TgZ(0,"app-navbar",0),_.NdJ("showLeftSidebar",function(){return n.showSideMenu=!0}),_.qZA(),_.TgZ(1,"div",1)(2,"div",2)(3,"app-offcanvas",3),_.NdJ("offCanvasClose",function(){return n.showSideMenu=!1}),_._UZ(4,"app-navigation",4),_.qZA(),_.YNc(5,E_,1,0,"div",5),_.TgZ(6,"div",6),_._UZ(7,"router-outlet"),_.qZA()()(),_._UZ(8,"app-footer")),2&e&&(_.xp6(3),_.Q6J("show",n.showSideMenu),_.xp6(1),_.Q6J("showSideMenu",n.showSideMenu),_.xp6(1),_.Q6J("ngIf",n.showSideMenu))},dependencies:[E.O5,d.lC,W,a_,s_,D],encapsulation:2}),t})();var u_=a(9371);let c_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({imports:[E.ez,d.Bz,v.U8,f.XD]}),t})();var T_=a(3712);let d_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({imports:[E.ez,s.u5,s.UX,T_.z]}),t})();var S_=a(9162);let M_=(()=>{class t{constructor(e,n){this.route=e,this.isBrowser=(0,E.NF)(n)}log({type:e,message:n,data:i}){if(this.isBrowser)switch(e){case"info":console.info("[GHOSTEN  INFO]: "+n+" %O",i);break;case"error":console.error("[GHOSTEN ERROR]: "+n,i);break;case"warning":console.warn("[GHOSTEN WARNING]: "+n,i)}}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(d.gz),_.Y36(_.Lbi))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-template"]],decls:1,vars:1,consts:[[3,"data","log"]],template:function(e,n){1&e&&(_.TgZ(0,"gt-renderer",0),_.NdJ("log",function(l){return n.log(l)}),_.qZA()),2&e&&_.Q6J("data",n.route.snapshot.data.data)},dependencies:[S_.b],encapsulation:2}),t})(),U=(()=>{class t{constructor(e){this.http=e}resolve(e){return this.http.get("getLatestConfigByID",{params:{id:e.data.id}})}}return t.\u0275fac=function(e){return new(e||t)(_.LFG(N.eN))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac}),t})(),p_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:[{provide:d.Z6,multi:!0,useFactory:o=>[{path:"",component:r_,children:[{path:"",component:H},{path:"404",component:y},...o.generateRoutes(M_,U)]}],deps:[u_.J]},U],imports:[E.ez,d.Bz,c_,B.Bp,L.h3,d_]}),t})()}}]);