(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[963],{4412:(Ze,Te,i)=>{"use strict";function e(C,c){(function j(C){return"string"==typeof C&&-1!==C.indexOf(".")&&1===parseFloat(C)})(C)&&(C="100%");var b=function t(C){return"string"==typeof C&&-1!==C.indexOf("%")}(C);return C=360===c?C:Math.min(c,Math.max(0,parseFloat(C))),b&&(C=parseInt(String(C*c),10)/100),Math.abs(C-c)<1e-6?1:C=360===c?(C<0?C%c+c:C%c)/parseFloat(String(c)):C%c/parseFloat(String(c))}function l(C){return Math.min(1,Math.max(0,C))}function s(C){return C=parseFloat(C),(isNaN(C)||C<0||C>1)&&(C=1),C}function U(C){return C<=1?"".concat(100*Number(C),"%"):C}function Y(C){return 1===C.length?"0"+C:String(C)}function K(C,c,b){C=e(C,255),c=e(c,255),b=e(b,255);var q=Math.max(C,c,b),ce=Math.min(C,c,b),ue=0,Me=0,Pe=(q+ce)/2;if(q===ce)Me=0,ue=0;else{var Fe=q-ce;switch(Me=Pe>.5?Fe/(2-q-ce):Fe/(q+ce),q){case C:ue=(c-b)/Fe+(c<b?6:0);break;case c:ue=(b-C)/Fe+2;break;case b:ue=(C-c)/Fe+4}ue/=6}return{h:ue,s:Me,l:Pe}}function X(C,c,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?C+6*b*(c-C):b<.5?c:b<2/3?C+(c-C)*(2/3-b)*6:C}function O(C,c,b){C=e(C,255),c=e(c,255),b=e(b,255);var q=Math.max(C,c,b),ce=Math.min(C,c,b),ue=0,Me=q,Pe=q-ce,Fe=0===q?0:Pe/q;if(q===ce)ue=0;else{switch(q){case C:ue=(c-b)/Pe+(c<b?6:0);break;case c:ue=(b-C)/Pe+2;break;case b:ue=(C-c)/Pe+4}ue/=6}return{h:ue,s:Fe,v:Me}}function a(C,c,b,q){var ce=[Y(Math.round(C).toString(16)),Y(Math.round(c).toString(16)),Y(Math.round(b).toString(16))];return q&&ce[0].startsWith(ce[0].charAt(1))&&ce[1].startsWith(ce[1].charAt(1))&&ce[2].startsWith(ce[2].charAt(1))?ce[0].charAt(0)+ce[1].charAt(0)+ce[2].charAt(0):ce.join("")}function I(C){return Math.round(255*parseFloat(C)).toString(16)}function v(C){return te(C)/255}function te(C){return parseInt(C,16)}i.d(Te,{C:()=>Oe});var Se={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var ee="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),le="[\\s|\\(]+(".concat(ee,")[,|\\s]+(").concat(ee,")[,|\\s]+(").concat(ee,")\\s*\\)?"),fe="[\\s|\\(]+(".concat(ee,")[,|\\s]+(").concat(ee,")[,|\\s]+(").concat(ee,")[,|\\s]+(").concat(ee,")\\s*\\)?"),T={CSS_UNIT:new RegExp(ee),rgb:new RegExp("rgb"+le),rgba:new RegExp("rgba"+fe),hsl:new RegExp("hsl"+le),hsla:new RegExp("hsla"+fe),hsv:new RegExp("hsv"+le),hsva:new RegExp("hsva"+fe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Q(C){return Boolean(T.CSS_UNIT.exec(String(C)))}var Oe=function(){function C(c,b){var q;if(void 0===c&&(c=""),void 0===b&&(b={}),c instanceof C)return c;"number"==typeof c&&(c=function ae(C){return{r:C>>16,g:(65280&C)>>8,b:255&C}}(c)),this.originalInput=c;var ce=function Ee(C){var c={r:0,g:0,b:0},b=1,q=null,ce=null,ue=null,Me=!1,Pe=!1;return"string"==typeof C&&(C=function V(C){if(0===(C=C.trim().toLowerCase()).length)return!1;var c=!1;if(Se[C])C=Se[C],c=!0;else if("transparent"===C)return{r:0,g:0,b:0,a:0,format:"name"};var b=T.rgb.exec(C);return b?{r:b[1],g:b[2],b:b[3]}:(b=T.rgba.exec(C))?{r:b[1],g:b[2],b:b[3],a:b[4]}:(b=T.hsl.exec(C))?{h:b[1],s:b[2],l:b[3]}:(b=T.hsla.exec(C))?{h:b[1],s:b[2],l:b[3],a:b[4]}:(b=T.hsv.exec(C))?{h:b[1],s:b[2],v:b[3]}:(b=T.hsva.exec(C))?{h:b[1],s:b[2],v:b[3],a:b[4]}:(b=T.hex8.exec(C))?{r:te(b[1]),g:te(b[2]),b:te(b[3]),a:v(b[4]),format:c?"name":"hex8"}:(b=T.hex6.exec(C))?{r:te(b[1]),g:te(b[2]),b:te(b[3]),format:c?"name":"hex"}:(b=T.hex4.exec(C))?{r:te(b[1]+b[1]),g:te(b[2]+b[2]),b:te(b[3]+b[3]),a:v(b[4]+b[4]),format:c?"name":"hex8"}:!!(b=T.hex3.exec(C))&&{r:te(b[1]+b[1]),g:te(b[2]+b[2]),b:te(b[3]+b[3]),format:c?"name":"hex"}}(C)),"object"==typeof C&&(Q(C.r)&&Q(C.g)&&Q(C.b)?(c=function N(C,c,b){return{r:255*e(C,255),g:255*e(c,255),b:255*e(b,255)}}(C.r,C.g,C.b),Me=!0,Pe="%"===String(C.r).substr(-1)?"prgb":"rgb"):Q(C.h)&&Q(C.s)&&Q(C.v)?(q=U(C.s),ce=U(C.v),c=function p(C,c,b){C=6*e(C,360),c=e(c,100),b=e(b,100);var q=Math.floor(C),ce=C-q,ue=b*(1-c),Me=b*(1-ce*c),Pe=b*(1-(1-ce)*c),Fe=q%6;return{r:255*[b,Me,ue,ue,Pe,b][Fe],g:255*[Pe,b,b,Me,ue,ue][Fe],b:255*[ue,ue,Pe,b,b,Me][Fe]}}(C.h,q,ce),Me=!0,Pe="hsv"):Q(C.h)&&Q(C.s)&&Q(C.l)&&(q=U(C.s),ue=U(C.l),c=function W(C,c,b){var q,ce,ue;if(C=e(C,360),c=e(c,100),b=e(b,100),0===c)ce=b,ue=b,q=b;else{var Me=b<.5?b*(1+c):b+c-b*c,Pe=2*b-Me;q=X(Pe,Me,C+1/3),ce=X(Pe,Me,C),ue=X(Pe,Me,C-1/3)}return{r:255*q,g:255*ce,b:255*ue}}(C.h,q,ue),Me=!0,Pe="hsl"),Object.prototype.hasOwnProperty.call(C,"a")&&(b=C.a)),b=s(b),{ok:Me,format:C.format||Pe,r:Math.min(255,Math.max(c.r,0)),g:Math.min(255,Math.max(c.g,0)),b:Math.min(255,Math.max(c.b,0)),a:b}}(c);this.originalInput=c,this.r=ce.r,this.g=ce.g,this.b=ce.b,this.a=ce.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(q=b.format)&&void 0!==q?q:ce.format,this.gradientType=b.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=ce.ok}return C.prototype.isDark=function(){return this.getBrightness()<128},C.prototype.isLight=function(){return!this.isDark()},C.prototype.getBrightness=function(){var c=this.toRgb();return(299*c.r+587*c.g+114*c.b)/1e3},C.prototype.getLuminance=function(){var c=this.toRgb(),ue=c.r/255,Me=c.g/255,Pe=c.b/255;return.2126*(ue<=.03928?ue/12.92:Math.pow((ue+.055)/1.055,2.4))+.7152*(Me<=.03928?Me/12.92:Math.pow((Me+.055)/1.055,2.4))+.0722*(Pe<=.03928?Pe/12.92:Math.pow((Pe+.055)/1.055,2.4))},C.prototype.getAlpha=function(){return this.a},C.prototype.setAlpha=function(c){return this.a=s(c),this.roundA=Math.round(100*this.a)/100,this},C.prototype.isMonochrome=function(){return 0===this.toHsl().s},C.prototype.toHsv=function(){var c=O(this.r,this.g,this.b);return{h:360*c.h,s:c.s,v:c.v,a:this.a}},C.prototype.toHsvString=function(){var c=O(this.r,this.g,this.b),b=Math.round(360*c.h),q=Math.round(100*c.s),ce=Math.round(100*c.v);return 1===this.a?"hsv(".concat(b,", ").concat(q,"%, ").concat(ce,"%)"):"hsva(".concat(b,", ").concat(q,"%, ").concat(ce,"%, ").concat(this.roundA,")")},C.prototype.toHsl=function(){var c=K(this.r,this.g,this.b);return{h:360*c.h,s:c.s,l:c.l,a:this.a}},C.prototype.toHslString=function(){var c=K(this.r,this.g,this.b),b=Math.round(360*c.h),q=Math.round(100*c.s),ce=Math.round(100*c.l);return 1===this.a?"hsl(".concat(b,", ").concat(q,"%, ").concat(ce,"%)"):"hsla(".concat(b,", ").concat(q,"%, ").concat(ce,"%, ").concat(this.roundA,")")},C.prototype.toHex=function(c){return void 0===c&&(c=!1),a(this.r,this.g,this.b,c)},C.prototype.toHexString=function(c){return void 0===c&&(c=!1),"#"+this.toHex(c)},C.prototype.toHex8=function(c){return void 0===c&&(c=!1),function m(C,c,b,q,ce){var ue=[Y(Math.round(C).toString(16)),Y(Math.round(c).toString(16)),Y(Math.round(b).toString(16)),Y(I(q))];return ce&&ue[0].startsWith(ue[0].charAt(1))&&ue[1].startsWith(ue[1].charAt(1))&&ue[2].startsWith(ue[2].charAt(1))&&ue[3].startsWith(ue[3].charAt(1))?ue[0].charAt(0)+ue[1].charAt(0)+ue[2].charAt(0)+ue[3].charAt(0):ue.join("")}(this.r,this.g,this.b,this.a,c)},C.prototype.toHex8String=function(c){return void 0===c&&(c=!1),"#"+this.toHex8(c)},C.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},C.prototype.toRgbString=function(){var c=Math.round(this.r),b=Math.round(this.g),q=Math.round(this.b);return 1===this.a?"rgb(".concat(c,", ").concat(b,", ").concat(q,")"):"rgba(".concat(c,", ").concat(b,", ").concat(q,", ").concat(this.roundA,")")},C.prototype.toPercentageRgb=function(){var c=function(b){return"".concat(Math.round(100*e(b,255)),"%")};return{r:c(this.r),g:c(this.g),b:c(this.b),a:this.a}},C.prototype.toPercentageRgbString=function(){var c=function(b){return Math.round(100*e(b,255))};return 1===this.a?"rgb(".concat(c(this.r),"%, ").concat(c(this.g),"%, ").concat(c(this.b),"%)"):"rgba(".concat(c(this.r),"%, ").concat(c(this.g),"%, ").concat(c(this.b),"%, ").concat(this.roundA,")")},C.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var c="#"+a(this.r,this.g,this.b,!1),b=0,q=Object.entries(Se);b<q.length;b++){var ce=q[b];if(c===ce[1])return ce[0]}return!1},C.prototype.toString=function(c){var b=Boolean(c);c=c??this.format;var q=!1;return!b&&this.a<1&&this.a>=0&&(c.startsWith("hex")||"name"===c)?"name"===c&&0===this.a?this.toName():this.toRgbString():("rgb"===c&&(q=this.toRgbString()),"prgb"===c&&(q=this.toPercentageRgbString()),("hex"===c||"hex6"===c)&&(q=this.toHexString()),"hex3"===c&&(q=this.toHexString(!0)),"hex4"===c&&(q=this.toHex8String(!0)),"hex8"===c&&(q=this.toHex8String()),"name"===c&&(q=this.toName()),"hsl"===c&&(q=this.toHslString()),"hsv"===c&&(q=this.toHsvString()),q||this.toHexString())},C.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},C.prototype.clone=function(){return new C(this.toString())},C.prototype.lighten=function(c){void 0===c&&(c=10);var b=this.toHsl();return b.l+=c/100,b.l=l(b.l),new C(b)},C.prototype.brighten=function(c){void 0===c&&(c=10);var b=this.toRgb();return b.r=Math.max(0,Math.min(255,b.r-Math.round(-c/100*255))),b.g=Math.max(0,Math.min(255,b.g-Math.round(-c/100*255))),b.b=Math.max(0,Math.min(255,b.b-Math.round(-c/100*255))),new C(b)},C.prototype.darken=function(c){void 0===c&&(c=10);var b=this.toHsl();return b.l-=c/100,b.l=l(b.l),new C(b)},C.prototype.tint=function(c){return void 0===c&&(c=10),this.mix("white",c)},C.prototype.shade=function(c){return void 0===c&&(c=10),this.mix("black",c)},C.prototype.desaturate=function(c){void 0===c&&(c=10);var b=this.toHsl();return b.s-=c/100,b.s=l(b.s),new C(b)},C.prototype.saturate=function(c){void 0===c&&(c=10);var b=this.toHsl();return b.s+=c/100,b.s=l(b.s),new C(b)},C.prototype.greyscale=function(){return this.desaturate(100)},C.prototype.spin=function(c){var b=this.toHsl(),q=(b.h+c)%360;return b.h=q<0?360+q:q,new C(b)},C.prototype.mix=function(c,b){void 0===b&&(b=50);var q=this.toRgb(),ce=new C(c).toRgb(),ue=b/100;return new C({r:(ce.r-q.r)*ue+q.r,g:(ce.g-q.g)*ue+q.g,b:(ce.b-q.b)*ue+q.b,a:(ce.a-q.a)*ue+q.a})},C.prototype.analogous=function(c,b){void 0===c&&(c=6),void 0===b&&(b=30);var q=this.toHsl(),ce=360/b,ue=[this];for(q.h=(q.h-(ce*c>>1)+720)%360;--c;)q.h=(q.h+ce)%360,ue.push(new C(q));return ue},C.prototype.complement=function(){var c=this.toHsl();return c.h=(c.h+180)%360,new C(c)},C.prototype.monochromatic=function(c){void 0===c&&(c=6);for(var b=this.toHsv(),q=b.h,ce=b.s,ue=b.v,Me=[],Pe=1/c;c--;)Me.push(new C({h:q,s:ce,v:ue})),ue=(ue+Pe)%1;return Me},C.prototype.splitcomplement=function(){var c=this.toHsl(),b=c.h;return[this,new C({h:(b+72)%360,s:c.s,l:c.l}),new C({h:(b+216)%360,s:c.s,l:c.l})]},C.prototype.onBackground=function(c){var b=this.toRgb(),q=new C(c).toRgb();return new C({r:q.r+(b.r-q.r)*b.a,g:q.g+(b.g-q.g)*b.a,b:q.b+(b.b-q.b)*b.a})},C.prototype.triad=function(){return this.polyad(3)},C.prototype.tetrad=function(){return this.polyad(4)},C.prototype.polyad=function(c){for(var b=this.toHsl(),q=b.h,ce=[this],ue=360/c,Me=1;Me<c;Me++)ce.push(new C({h:(q+Me*ue)%360,s:b.s,l:b.l}));return ce},C.prototype.equals=function(c){return this.toRgbString()===new C(c).toRgbString()},C}()},8403:(Ze,Te,i)=>{"use strict";function e(fe=6){const T="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");let V="";for(let Q=0;Q<fe;Q++)V+=T[Math.ceil(61*Math.random())];return V}i.d(Te,{$l:()=>N,QY:()=>X,Sl:()=>K,Gt:()=>ae,Fo:()=>f,Z9:()=>a,bg:()=>m,uZ:()=>l,P_:()=>ee,Qr:()=>U,gj:()=>e});const l=(fe,T,V)=>{if(void 0===V)return Math.min(fe,T);{const Q=Math.min(T,V),Oe=Math.max(T,V);return Math.min(Oe,Math.max(fe,Q))}};function U(fe,T,V){const Q=Object.keys(V),Oe=Object.values(V);if(/^\${.+?}$/.test(fe))try{return Function(...Q,"return "+fe.slice(2,-1)).call(T,...Oe)}catch(se){console.error(se)}else if(/\${.+?}/g.test(fe))try{return fe.replace(/\${.+?}/g,se=>Function(...Q,"return "+se.slice(2,-1)).call(T,...Oe))}catch(se){console.error(se)}else try{return Function(...Q,"return "+fe).call(T,...Oe)}catch(se){console.error(se)}}var O,Y=i(7579);class N{constructor(T){this.nodeList=new Map,this.name=T.name||"main",this.url=T.url||"",this.description=T.description||"",this.id=T.id||"",this.type=T.type,this.size=T.size,"main"===T.type?this.events={onInit:[],onDestroy:[],...T.events||{}}:"modal"===T.type&&(this.events={confirm:[],cancel:[],onInit:[],onDestroy:[],...T.events||{}})}insertGtNode(){}export(){return{gt:this.gt.id,nodeList:this.gt.getSubNodesAndSelf().map(T=>T.export()),name:this.name,type:this.type,url:this.url,description:this.description,id:this.id,size:this.size,noFooter:this.noFooter,events:this.events}}}class K{constructor(T){if(this.compiled=!1,"string"==typeof T)this.data=T;else try{this.data=JSON.stringify(T)}catch(V){console.error(V)}}compile(T,V){return U(this.data,T,V)}}class X{constructor(){this.canPaste=!1,this.canCopy=!1,this.canDelete=!1,this.canCut=!1,this.canHasChild=!1,this.dynamicTemplate=!1,this.acceptedChildType=[]}static create(T,V=X.prototype){const Q=Object.create(V);return Object.assign(Q,T),Q}}class W{constructor(){this._dataSource=new Set,this._dataSource$=new Map}get data(){return this._dataSource}get dataSourceMap$(){return this._dataSource$}add(T){return this._dataSource.add(T)}keys(){return this._dataSource.keys()}values(){return this._dataSource.values()}clear(){return this._dataSource.clear()}get size(){return this._dataSource.size}forEach(T,V){this._dataSource.forEach(T,V)}setDataSource(T){this.forEach(V=>this._dataSource$.set(V.id,T(V)))}export(){return Array.from(this.values())}static create(T=[],V=new W){const Q=new W;return T.forEach(Oe=>Q.add(Oe)),Q}}!function(fe){let T;var V;(V=T=fe.PropertyEnum||(fe.PropertyEnum={})).type="type",V.id="id",V.parent="parent",V.childIndex="childIndex",V.style="style",V.property="property",V.dataSource="dataSource",V.rights="rights",V.validator="validator",V.action="action",V.template="template",V.directive="directive",V.overwrite="overwrite",V.slot="slot",V.outletID="outletID",V.variableName="variableName",V.variable="variable"}(O||(O={}));class p{constructor(T){this.sourceID=T}}class a{get(T){return this[T]instanceof p?null:this[T]}set(T,V){this[T]=V}export(){return Object.entries(this).reduce((T,[V,Q])=>(T[V]=Q instanceof p?`[DataSourcePicker]${Q.sourceID}`:Q instanceof K?`[DataBinding]${Q.data}`:Q,T),{})}static create(T,V=new a){const Q=Object.create(V);for(const Oe in T)/^\[DataSourcePicker]:/.test(T[Oe])?T[Oe]=new p(T[Oe].replace("[DataSourcePicker]","")):/^\[DataBinding]/.test(T[Oe])&&(T[Oe]=new K(T[Oe].slice(13)));return Object.assign(Q,T),Q}setDataSource(T){Object.defineProperty(this,"_dataSourceMap$",{value:T,enumerable:!1}),this._subscriptions||Object.defineProperty(this,"_subscriptions",{value:[],enumerable:!1}),Object.entries(this).forEach(([V,Q])=>{if(Q instanceof p){this[V]=null;const Oe=this._dataSourceMap$.get(Q.sourceID);this._subscriptions.push(Oe.subscribe(se=>this[V]=se))}})}clear(){for(const T in this)delete this[T];this._dataSourceMap$.clear(),this._subscriptions&&this._subscriptions.forEach(T=>T.unsubscribe())}}class m{setStyle(T,V){this[T]=V}setStyles(T){for(const V in T)typeof this[V]<"u"&&(this[V]=T[V])}clone(){}export(){return JSON.parse(JSON.stringify(this))}static create(T,V=new m){const Q=Object.create(V);return Object.assign(Q,T),Q}}class f{constructor(T,V,Q){this._rawData=T,this.inheritedNode=V,this.template=null,this.templateRoot=null,this.directive=[],this.variable=[],this.componentRef=null,this.parent=null,this.children=[],this.path=[this],V instanceof f&&(this.template=V);const{id:Oe,type:se,validator:C,directive:c,style:b,property:q,dataSource:ce,outletID:ue,variableName:Me,variable:Pe,...Fe}=T;this.id=Oe||e(),this.variableName=Me||null,this.type=se,this.outletID=ue,V?(this.core=X.create({},V.core),this.style=m.create(b||{},V.style),this.property=a.create(q||{},V.property),this.action=Object.assign(Object.create(V.action),Fe.action),this.dataSource=W.create(ce,V.dataSource),this.rights=V.rights&&Object.assign(Object.create(V.rights),Fe.rights),this.validator=C||V.validator||[],this.directive=c||V.directive||[],this.variable=Pe||V.variable||[],Object.defineProperty(this,"component",{enumerable:!1,configurable:!1,value:Q})):console.warn(`type\u4e3a${this.type}\u7684\u7ec4\u4ef6\u4e0d\u5b58\u5728`)}findClosest(T){return this.path.reverse().find(V=>V.type===T)||null}reset(){const{id:T,type:V,validator:Q,style:Oe,property:se,...C}=this._rawData;this.core=X.create({},this.inheritedNode.core),this.style=m.create(Oe||{},this.inheritedNode.style),this.action=Object.assign(Object.create(this.inheritedNode.action),C.action),this.rights=this.inheritedNode.rights&&Object.assign(Object.create(this.inheritedNode.rights),C.rights),this.validator=Q||this.inheritedNode.validator&&Object.assign(Object.create(null),this.inheritedNode.validator,Q)}addSelf(){this.parent&&this.parent.componentRef&&(this.property.show=!0,this.parent.componentRef.instance.insert(this,this.parent.children.indexOf(this)))}removeSelf(){this.parent&&this.parent.componentRef&&(this.property.show=!1,this.parent.componentRef.instance.remove(this.parent.children.indexOf(this)))}getNodesByType(T){const V=[],Q=Oe=>{Oe.type===T&&V.push(Oe),Oe.children.forEach(se=>Q(se))};return Q(this),V}getSubNodes(){if(this.isTemplateRoot)return[];const T=(V,Q=[])=>(V.forEach(Oe=>{Q.push(Oe),Oe.isTemplateRoot||T(Oe.children,Q)}),Q);return T(this.children)}getSubNodesAndSelf(){const T=(V,Q=[])=>(Q.push(V),V.isTemplateRoot||V.children.forEach(Oe=>T(Oe,Q)),Q);return T(this)}export(){return{[O.PropertyEnum.type]:this.type,[O.PropertyEnum.id]:this.id,[O.PropertyEnum.parent]:this.parent?this.parent.id:void 0,[O.PropertyEnum.childIndex]:this.parent?this.parent.children.indexOf(this):void 0,[O.PropertyEnum.dataSource]:this.dataSource.export(),[O.PropertyEnum.style]:this.style.export(),[O.PropertyEnum.property]:this.property.export(),[O.PropertyEnum.rights]:this.rights,[O.PropertyEnum.validator]:this.validator,[O.PropertyEnum.directive]:this.directive,[O.PropertyEnum.action]:this.action,[O.PropertyEnum.template]:this.template?this.template.id:void 0,[O.PropertyEnum.outletID]:this.outletID,[O.PropertyEnum.overwrite]:this.isTemplateRoot?this.overwrite.export():null,[O.PropertyEnum.variableName]:this.variableName||void 0,[O.PropertyEnum.variable]:this.variable,[O.PropertyEnum.slot]:this.isTemplateRoot?this.getNodesByType("slot").reduce((T,V)=>(T[V.template.id]=V.getSubNodes().map(Q=>Q.export()),T),{}):null}}setParent(T,V,Q){if(T)if(T===this.parent&&this.parent&&this.parent.componentRef&&this.outletID===Q){null==V&&(V=this.parent.children.length-1);const Oe=this.parent.children.indexOf(this);this.parent.children.splice(Oe,1),this.parent.children.splice(V,0,this),this.parent.componentRef.instance.move(this,V)}else{if(this.parent&&this.parent.componentRef){const Oe=this.parent.children.indexOf(this);this.parent.componentRef.instance.remove(this),this.parent.children.splice(Oe,1)}this.outletID=Q,this.parent=T,this.path=[...T.path,this],"number"==typeof V&&V>=0?T.children.splice(V,0,this):T.children.push(this),T.componentRef&&T.componentRef.instance.insert(this,T.core.dynamicTemplate?T.children.filter(({outletID:Oe})=>Oe===this.outletID).indexOf(this):T.children.indexOf(this))}else this.parent=null,this.path=[this]}}class I{constructor(){this.version="0.1.0",this.id=null,this.name=null,this.description=null,this.status=null}setProperty(T,V){this[T]=V}setProperties(T){for(const V in T)this[V]=T[V]}clear(){this.id=null,this.name=null,this.description=null,this.status=null}export(){return{version:this.version,id:this.id,name:this.name,description:this.description,status:this.status}}}class v{set(T,V){this[T]=V}export(){const T={};for(const V in this)T[V]={property:this[V].property.export(),style:this[V].style.export(),dataSource:this[V].dataSource.export()};return T}}const te={metadata:{id:null,name:"Untitled",description:null,status:null},global:{},boards:[{id:"main",type:"main",gt:"root",url:"",size:"",description:"",name:"Main",noFooter:!1,events:null,nodeList:[{type:"root",id:"root"}]}],template:[]};class ae{constructor(){this.log=new Y.x,this.metadata=new I,this.global={dataSource:[]},this.nodeList=new Map,this.boards=[],this.currentBoard=null,this.customComponent=[]}getNodeById(T){return this.nodeList.get(T)||null}getNodeByName(T){return Array.from(this.nodeList.values()).filter(({property:V})=>V.name===T)[0]}getNodeByType(T){return Array.from(this.nodeList.values()).filter(({type:V})=>T===V)}init(T){const{global:V,metadata:Q={},boards:Oe=[],template:se=[]}=this._parseGtData(T);this.global=Object.assign(this.global,V),this.metadata.setProperties(Q),this.customComponent=se.map(C=>this._generateBoardFromBoardData(C)),this.boards=Oe.map(C=>this._generateBoardFromBoardData(C)),this.setCurrentBoard(this.boards[0])}_parseGtData(T){return"string"==typeof T?JSON.parse(T,(V,Q)=>{if("string"==typeof Q){if(/^\/.+\/$/.test(Q))return new RegExp(Q.slice(1,-1));if(/^\[DataBinding]/.test(Q))return new K(Q.slice(13))}return Q}):T??te}_generateBoardFromBoardData(T){const V=new N(T);return T.nodeList.map(Q=>this.createGtNode(Q,void 0,void 0,void 0,V)).filter(Q=>!!Q),V.gt=this.getNodeById(T.gt),"custom"===V.type&&(V.gt.isTemplate=!0),V}createGtNode(T,V=this.getNodeById(T.parent),Q,Oe,se=this.currentBoard){if("string"==typeof T.template){const C=this.getNodeById(T.template);if(C&&V){const c=this.createTemplateGtNode({...T,type:C.type},V,C,T.overwrite,se);return c.isTemplateRoot=!0,c}return null}{const C=Q||this.defaultConfigMap.get(T.type),c=this.componentMap[T.type];if(!C)return this.log.next({type:"error",message:`\u7c7b\u578b\u4e3a${T.type}\u7684\u7ec4\u4ef6\u6ca1\u6709\u9ed8\u8ba4\u914d\u7f6e\uff0c\u65e0\u6cd5\u751f\u6210`,data:T}),null;if(!c)return this.log.next({type:"error",message:`\u7c7b\u578b\u4e3a${T.type}\u7684\u7ec4\u4ef6\u4e0d\u5b58\u5728\uff0c\u65e0\u6cd5\u751f\u6210`,data:T}),null;const b=new f(T,C,c);return b?(se.nodeList.set(b.id,b),this.nodeList.set(b.id,b),b.setParent(V,Oe,b.outletID),Array.isArray(T.children)&&T.children.forEach(q=>this.createGtNode(q,b)),b):null}}createTemplateGtNode(T,V,Q,Oe={},se=this.currentBoard){const c=new f(T,Q,this.componentMap[T.type]);return c.templateRoot=V.templateRoot||c,c.template=Q,c.templateRoot!==c?(c.templateRoot.overwrite[c.template.id]={property:c.property,style:c.style,dataSource:c.dataSource},c.core.canPaste=!1,c.core.canCopy=!1,c.core.canDelete=!1,c.core.canCut=!1):(c.core.canPaste=!1,c.overwrite=new v,c.slot=T.slot),c.setParent(V),se.nodeList.set(c.id,c),this.nodeList.set(c.id,c),"slot"===c.type?(c.core.canPaste=!0,((c.templateRoot.slot||{})[c.template.id]||[]).forEach(b=>{this.createGtNode(b,c,void 0,void 0,se)})):Q.children.forEach(b=>{this.createTemplateGtNode({type:b.type,...(Oe||{})[b.id]||{}},c,b,Oe,se)}),c}setCurrentBoard(T){this.currentBoard=T,this.gt=T.gt}export(){return{metadata:this.metadata.export(),global:this.global,template:this.customComponent.map(T=>T.export()),boards:this.boards.map(T=>T.export())}}exportString(){const T=(V,Q)=>Q instanceof RegExp?Q.toString():Q instanceof K?`[DataBinding]${Q.data}`:Array.isArray(Q)&&0===Q.length||"[object Object]"===Object.prototype.toString.call(Q)&&0===Object.keys(Q).length?void 0:Q;return JSON.stringify(JSON.parse(JSON.stringify(this.export(),T)),T)}destroy(){this.metadata.clear(),this.global={dataSource:[]},this.gt=null,this.nodeList.clear(),this.boards=[],this.currentBoard=null,this.customComponent=[]}}const Se={canHasChild:!1,acceptedChildType:[],canPaste:!0,canCopy:!0,canDelete:!0,canCut:!0,canCopyStyle:!0,canPasteStyle:!0,dynamicTemplate:!1},Ee=[{name:"show",label:"\u663e\u793a",type:"toggle",value:!0}],Ce=[{label:"\u5bbd\u5ea6",name:"width",type:"numberHasUnit"},{label:"\u9ad8\u5ea6",name:"height",type:"numberHasUnit"},{label:"\u5185\u8fb9\u8ddd",name:"padding",type:"fourNumbers"},{label:"\u5916\u8fb9\u8ddd",name:"margin",type:"fourNumbers"},{label:"Display",name:"display",type:"select",options:[{label:"inline",value:"inline"},{label:"inline-block",value:"inline-block"},{label:"block",value:"block"},{label:"flex",value:"flex"}]},{label:"Position",name:"position",type:"select",options:[{label:"static",value:"static"},{label:"relative",value:"relative"},{label:"absolute",value:"absolute"},{label:"fixed",value:"fixed"}]},{label:"Float",name:"float",type:"select",options:[{label:"none",value:"none"},{label:"left",value:"left"},{label:"right",value:"right"}]},{label:"Overflow",name:"overflow",type:"select",options:[{label:"auto",value:"auto"},{label:"visible",value:"visible"},{label:"hidden",value:"hidden"},{label:"scroll",value:"scroll"}]},{label:"Left",name:"left",type:"numberHasUnit"},{label:"Top",name:"top",type:"numberHasUnit"},{label:"Right",name:"right",type:"numberHasUnit"},{label:"Bottom",name:"bottom",type:"numberHasUnit"},{label:"Z-Index",name:"zIndex",type:"number"}],k={onInit:[],onDestroy:[]};function ee(fe){const{core:T={},property:V=[],style:Q=[],action:Oe=[],rights:se=!1,validator:C=!1}=fe,c=new Map;return c.set("core",{...Se,...T}),c.set("property",le([...Ee,...Array.isArray(V)?V:[]])),c.set("style",le([...Ce,...Array.isArray(Q)?Q:[]])),c.set("action",{...k,...Oe}),c.set("rights",se),c.set("validator",C),c}function le(fe){const T=new Map;return fe.forEach(V=>{T.has(V.name)?T.set(V.name,{...T.get(V.name),...V}):T.set(V.name,V)}),Array.from(T.values())}},5574:(Ze,Te,i)=>{"use strict";i.d(Te,{h3:()=>rt});var e=i(6895),l=i(3328),j=i(2293),t=i(4650),s=i(9236);const U=["gt-division",""];function Y(G,de){}let N=(()=>{class G extends l.z6{}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["div","gt-division",""]],features:[t.qOj],attrs:U,decls:1,vars:0,consts:[["gtTemplate",""]],template:function(B,y){1&B&&t.YNc(0,Y,0,0,"ng-template",0)},dependencies:[s.S],encapsulation:2}),G})();const K=["gt-image",""];let X=(()=>{class G extends l.z6{loadError(){this.property.src="assets/icons/128.png"}}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["img","gt-image",""]],hostVars:3,hostBindings:function(B,y){1&B&&t.NdJ("error",function(){return y.loadError()}),2&B&&t.Ikx("src",y.gtNode.property.src,t.LSH)("alt",y.gtNode.property.alt)("title",y.gtNode.property.title)},features:[t.qOj],attrs:K,decls:0,vars:0,template:function(B,y){},encapsulation:2}),G})();var W=i(2881);let O=(()=>{class G extends l.z6{}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["gt-text"]],features:[t.qOj],decls:2,vars:3,template:function(B,y){1&B&&(t._uU(0),t.ALo(1,"dataBinding")),2&B&&t.Oqu(t.lcZ(1,1,y.gtNode.property.text))},dependencies:[W.E],encapsulation:2}),G})(),p=(()=>{class G{}return G.\u0275fac=function(B){return new(B||G)},G.\u0275mod=t.oAB({type:G}),G.\u0275inj=t.cJS({providers:[{provide:l.dS,useValue:{root:N,division:N,template:N,slot:N,outlet:N,text:O,image:X},multi:!0},{provide:l.gx,useFactory:j.Tf,multi:!0}],imports:[e.ez,l.Bp]}),G})();var a=i(8580),m=i(4080),f=i(7340);function I(G,de){}function v(G,de){if(1&G){const B=t.EpF();t.TgZ(0,"div",2,3)(2,"h2",4)(3,"button",5),t.NdJ("click",function(){t.CHM(B);const _=t.MAs(1);return t.KtG(_.toggle())}),t._uU(4),t.qZA()(),t.TgZ(5,"div",6)(6,"div",7),t.YNc(7,I,0,0,"ng-template",8),t.qZA()()()}if(2&G){const B=de.$implicit,y=t.MAs(1);t.xp6(3),t.ekj("collapsed",!y.expanded),t.uIk("aria-expanded",y.expanded),t.xp6(1),t.hij(" ",B.title," "),t.xp6(1),t.Q6J("@bodyExpansion",y.expanded?"expanded":"collapsed"),t.xp6(1),t.uIk("data-droppable",B.id),t.xp6(1),t.Q6J("templateID",B.id)}}let te=(()=>{class G extends l.z6{}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["gt-accordion"]],features:[t.qOj],decls:2,vars:2,consts:[["cdkAccordion","",1,"accordion",3,"multi"],["class","accordion-item","cdkAccordionItem","",4,"ngFor","ngForOf"],["cdkAccordionItem","",1,"accordion-item"],["accordionItem","cdkAccordionItem"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button",3,"click"],["aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse","show",2,"overflow","hidden"],[1,"accordion-body"],["gtTemplate","",3,"templateID"]],template:function(B,y){1&B&&(t.TgZ(0,"div",0),t.YNc(1,v,8,7,"div",1),t.qZA()),2&B&&(t.Q6J("multi",y.gtNode.property.multi),t.xp6(1),t.Q6J("ngForOf",y.gtNode.property.accordionItems))},dependencies:[e.sg,s.S,a.xI,a.dD],encapsulation:2,data:{animation:[(0,f.X$)("bodyExpansion",[(0,f.SB)("collapsed, void",(0,f.oB)({height:"0px",visibility:"hidden"})),(0,f.SB)("expanded",(0,f.oB)({height:"*",visibility:"visible"})),(0,f.eR)("expanded <=> collapsed, void => collapsed",(0,f.jt)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])]}}),G})();function ae(G,de){}function Se(G,de){if(1&G){const B=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(B);const _=t.oxw();return t.KtG(_.close())}),t.qZA()}}let Ee=(()=>{class G extends l.z6{close(){this.gtNode.removeSelf()}}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["gt-alert"]],features:[t.qOj],decls:3,vars:4,consts:[["data-droppable","","role","alert",1,"alert",3,"ngClass"],["gtTemplate",""],["type","button","class","btn-close","data-bs-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(B,y){1&B&&(t.TgZ(0,"div",0),t.YNc(1,ae,0,0,"ng-template",1),t.YNc(2,Se,1,0,"button",2),t.qZA()),2&B&&(t.ekj("alert-dismissible",y.gtNode.property.dismissible),t.Q6J("ngClass","alert-"+y.gtNode.property.type),t.xp6(2),t.Q6J("ngIf",y.gtNode.property.dismissible))},dependencies:[e.mk,e.O5,s.S],encapsulation:2}),G})();const Ce=["button-group",""];function k(G,de){}let ee=(()=>{class G extends l.z6{}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["div","button-group",""]],hostVars:8,hostBindings:function(B,y){2&B&&t.ekj("btn-group","horizontal"===y.gtNode.property.orientation)("btn-group-vertical","vertical"===y.gtNode.property.orientation)("btn-group-lg","lg"===y.gtNode.property.size)("btn-group-sm","sm"===y.gtNode.property.size)},features:[t.qOj],attrs:Ce,decls:1,vars:0,consts:[["gtTemplate",""]],template:function(B,y){1&B&&t.YNc(0,k,0,0,"ng-template",0)},dependencies:[s.S],encapsulation:2}),G})();function le(G,de){if(1&G&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&G){const B=t.oxw();t.xp6(1),t.hij(" ",B.gtNode.property.title," ")}}function fe(G,de){}let T=(()=>{class G extends l.z6{}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["gt-card"]],features:[t.qOj],decls:5,vars:1,consts:[[1,"card"],["class","card-header",4,"ngIf"],[1,"card-body"],["gtTemplate",""],[1,"card-footer"],[1,"card-header"]],template:function(B,y){1&B&&(t.TgZ(0,"div",0),t.YNc(1,le,2,1,"div",1),t.TgZ(2,"div",2),t.YNc(3,fe,0,0,"ng-template",3),t.qZA(),t._UZ(4,"div",4),t.qZA()),2&B&&(t.xp6(1),t.Q6J("ngIf",y.gtNode.property.showTitle))},dependencies:[e.O5,s.S],encapsulation:2}),G})(),V=(()=>{class G{}return G.\u0275fac=function(B){return new(B||G)},G.\u0275mod=t.oAB({type:G}),G.\u0275inj=t.cJS({providers:[{provide:l.dS,useValue:{card:T,accordion:te,alert:Ee,buttonGroup:ee},multi:!0},{provide:l.gx,useFactory:j.rT,multi:!0}],imports:[e.ez,m.eL,l.Bp,a.XD]}),G})();var Q=i(433);const Oe=["gt-button",""];let se=(()=>{class G extends l.z6{buttonClick(B){this.onEvent("click",B)}get className(){return["btn",this.gtNode.property.buttonSize,this.gtNode.property.buttonColor,this.gtNode.property.buttonType].join(" ")}get buttonActive(){return this.resolveDataBinding(this.property.active)}get disabled(){return this.resolveDataBinding(this.property.disabled)}get type(){return"button"}onclick(){this.onEvent("click")}}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["button","gt-button",""]],hostVars:6,hostBindings:function(B,y){1&B&&t.NdJ("click",function(){return y.onclick()}),2&B&&(t.Ikx("disabled",y.disabled)("type",y.type),t.Tol(y.className),t.ekj("active",y.buttonActive))},exportAs:["gt-button"],features:[t.qOj],attrs:Oe,decls:2,vars:3,template:function(B,y){1&B&&(t._uU(0),t.ALo(1,"dataBinding")),2&B&&t.Oqu(t.lcZ(1,1,y.gtNode.property.text))},dependencies:[W.E],encapsulation:2}),G})();const C=["gt-form",""];function c(G,de){}let b=(()=>{class G extends l.z6{reset(){this.formGroup.reset()}validate(){Object.values(this.formGroup.controls).forEach(B=>B.markAsTouched())}}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["form","gt-form",""]],features:[t.qOj],attrs:C,decls:1,vars:0,consts:[["gtTemplate",""]],template:function(B,y){1&B&&t.YNc(0,c,0,0,"ng-template",0)},dependencies:[s.S],encapsulation:2}),G})();var q=i(4968),ce=i(2722);function ue(G,de){if(1&G&&(t.TgZ(0,"label",4),t._uU(1),t.qZA()),2&G){const B=t.oxw();t.Q6J("for","form-node-"+B.gtNode.id),t.xp6(1),t.Oqu(B.gtNode.property.labelText)}}function Me(G,de){if(1&G){const B=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(B);const _=t.oxw(2);return t.KtG(_.spin(-1))}),t._uU(1," - "),t.qZA()}}function Pe(G,de){if(1&G){const B=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(B);const _=t.oxw(2);return t.KtG(_.spin(1))}),t._uU(1," + "),t.qZA()}}function Fe(G,de){if(1&G){const B=t.EpF();t.ynx(0,5),t.YNc(1,Me,2,0,"button",6),t.TgZ(2,"input",7),t.NdJ("change",function(){t.CHM(B);const _=t.oxw();return t.KtG(_.onEvent("change"))})("blur",function(){t.CHM(B);const _=t.oxw();return t.KtG(_.onEvent("blur"))}),t.qZA(),t.YNc(3,Pe,2,0,"button",6),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.BQk()}if(2&G){const B=t.oxw();t.Q6J("formGroup",B.formGroup),t.xp6(1),t.Q6J("ngIf","number"===B.property.inputType),t.xp6(1),t.ekj("is-valid",B.control.touched&&B.control.valid)("is-invalid",B.control.touched&&B.control.invalid),t.Q6J("type",B.property.inputType)("id","form-node-"+B.gtNode.id)("readonly",B.gtNode.property.readonly)("formControlName",B.gtNode.property.name),t.uIk("placeholder",B.gtNode.property.placeholder),t.xp6(1),t.Q6J("ngIf","number"===B.property.inputType),t.xp6(1),t.ekj("valid-feedback",B.control.valid)("invalid-feedback",B.control.invalid),t.xp6(1),t.hij(" ",B.errorText(B.control.errors)," ")}}function We(G,de){if(1&G){const B=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(B);const _=t.oxw(2);return t.KtG(_.spin(-1))}),t._uU(1," - "),t.qZA()}}function et(G,de){if(1&G){const B=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(B);const _=t.oxw(2);return t.KtG(_.spin(1))}),t._uU(1," + "),t.qZA()}}function Le(G,de){if(1&G){const B=t.EpF();t.ynx(0),t.YNc(1,We,2,0,"button",6),t.TgZ(2,"input",9,10),t.NdJ("ngModelChange",function(_){t.CHM(B);const h=t.oxw();return t.KtG(h.gtNode.property.value=_)})("change",function(){t.CHM(B);const _=t.oxw();return t.KtG(_.onEvent("change"))})("blur",function(){t.CHM(B);const _=t.oxw();return t.KtG(_.onEvent("blur"))})("focus",function(_){t.CHM(B);const h=t.MAs(3),x=t.oxw();return t.KtG(x.onFocus(_,h))}),t.qZA(),t.YNc(5,et,2,0,"button",6),t.TgZ(6,"div"),t._uU(7),t.qZA(),t.BQk()}if(2&G){const B=t.MAs(4),y=t.oxw();t.xp6(1),t.Q6J("ngIf","number"===y.property.inputType),t.xp6(1),t.ekj("is-valid",B.control.touched&&B.control.valid)("is-invalid",B.control.touched&&B.control.invalid),t.Q6J("id","form-node-"+y.gtNode.id)("type",y.property.inputType)("readonly",y.gtNode.property.readonly)("ngModel",y.gtNode.property.value),t.uIk("placeholder",y.gtNode.property.placeholder),t.xp6(3),t.Q6J("ngIf","number"===y.property.inputType),t.xp6(1),t.ekj("valid-feedback",B.control.valid)("invalid-feedback",B.control.invalid),t.xp6(1),t.hij(" ",y.errorText(B.control.errors)," ")}}let Ye=(()=>{class G extends l.ub{onFocus(B,y){"number"===this.property.inputType&&(0,q.R)(y,"wheel").pipe((0,ce.R)((0,q.R)(y,"blur"))).subscribe(_=>{_.preventDefault(),_.stopPropagation();const h=this.property.value,x=h?+h:0;Number.isNaN(x)||(this.property.value=x-Math.sign(_.deltaY)*Math.ceil(Math.abs(_.deltaY)/100))})}spin(B){const y=this.control.value,_=y?+y:0;Number.isNaN(_)||this.control.setValue(_+B)}}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["gt-input"]],hostAttrs:[1,"d-block"],features:[t.qOj],decls:4,vars:4,consts:[["class","form-label",3,"for",4,"ngIf"],[1,"input-group","has-validation",3,"ngClass"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"form-label",3,"for"],[3,"formGroup"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","text",1,"form-control",3,"type","id","readonly","formControlName","change","blur"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","text",1,"form-control",3,"id","type","readonly","ngModel","ngModelChange","change","blur","focus"],["input","","ngModel","ngModel"]],template:function(B,y){1&B&&(t.YNc(0,ue,2,2,"label",0),t.TgZ(1,"div",1),t.YNc(2,Fe,6,17,"ng-container",2),t.YNc(3,Le,8,16,"ng-container",3),t.qZA()),2&B&&(t.Q6J("ngIf",y.gtNode.property.showLabel),t.xp6(1),t.Q6J("ngClass",y.property.inputSize),t.xp6(1),t.Q6J("ngIf",y.formGroup),t.xp6(1),t.Q6J("ngIf",!y.formGroup))},dependencies:[e.mk,e.O5,Q.Fj,Q.JJ,Q.JL,Q.On,Q.sg,Q.u],encapsulation:2}),G})();function Ke(G,de){if(1&G&&(t.TgZ(0,"label",7),t._uU(1),t.qZA()),2&G){const B=t.oxw().$implicit,y=t.oxw(2);t.Q6J("for",y.gtNode.id+"-"+B.value),t.xp6(1),t.Oqu(B.label)}}function qe(G,de){if(1&G&&(t.TgZ(0,"div",4),t._UZ(1,"input",5),t.YNc(2,Ke,2,2,"label",6),t.qZA()),2&G){const B=de.$implicit,y=t.oxw(2);t.ekj("form-check-inline","form-check-inline"===y.property.layout)("form-check-reverse","form-check-reverse"===y.property.layout),t.xp6(1),t.Q6J("type",y.property.inputType)("formControlName",y.property.name)("value",B.value)("id",y.gtNode.id+"-"+B.value),t.xp6(1),t.Q6J("ngIf",y.property.showLabel)}}function ye(G,de){if(1&G&&(t.ynx(0,2),t.YNc(1,qe,3,9,"div",3),t.BQk()),2&G){const B=t.oxw();t.Q6J("formGroup",B.formGroup),t.xp6(1),t.Q6J("ngForOf",B.property.options)}}function we(G,de){if(1&G&&(t.TgZ(0,"label",7),t._uU(1),t.qZA()),2&G){const B=t.oxw().$implicit,y=t.oxw(2);t.Q6J("for",y.gtNode.id+"-"+B.value),t.xp6(1),t.Oqu(B.label)}}function Ne(G,de){if(1&G){const B=t.EpF();t.TgZ(0,"div",4)(1,"input",8),t.NdJ("ngModelChange",function(_){t.CHM(B);const h=t.oxw(2);return t.KtG(h.property.value=_)}),t.qZA(),t.YNc(2,we,2,2,"label",6),t.qZA()}if(2&G){const B=de.$implicit,y=t.oxw(2);t.ekj("form-check-inline","form-check-inline"===y.property.layout)("form-check-reverse","form-check-reverse"===y.property.layout),t.xp6(1),t.Q6J("type",y.property.inputType)("name",y.property.name)("value",B.value)("ngModel",y.property.value)("id",y.gtNode.id+"-"+B.value),t.xp6(1),t.Q6J("ngIf",y.property.showLabel)}}function Ve(G,de){if(1&G&&(t.ynx(0),t.YNc(1,Ne,3,10,"div",3),t.BQk()),2&G){const B=t.oxw();t.xp6(1),t.Q6J("ngForOf",B.property.options)}}let Be=(()=>{class G extends l.ub{}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["gt-radio"]],features:[t.qOj],decls:2,vars:2,consts:[[3,"formGroup",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],["class","form-check",3,"form-check-inline","form-check-reverse",4,"ngFor","ngForOf"],[1,"form-check"],[1,"form-check-input",3,"type","formControlName","value","id"],["class","form-check-label",3,"for",4,"ngIf"],[1,"form-check-label",3,"for"],[1,"form-check-input",3,"type","name","value","ngModel","id","ngModelChange"]],template:function(B,y){1&B&&(t.YNc(0,ye,2,2,"ng-container",0),t.YNc(1,Ve,2,1,"ng-container",1)),2&B&&(t.Q6J("ngIf",y.formGroup),t.xp6(1),t.Q6J("ngIf",!y.formGroup))},dependencies:[e.sg,e.O5,Q.Fj,Q.JJ,Q.JL,Q.On,Q.sg,Q.u],encapsulation:2}),G})();function Z(G,de){if(1&G&&(t.TgZ(0,"label",4),t._uU(1),t.ALo(2,"dataBinding"),t.qZA()),2&G){const B=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,B.gtNode.property.labelText))}}function ie(G,de){if(1&G&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&G){const B=de.$implicit,y=t.oxw(2);t.uIk("value",B[y.property.valueField]),t.xp6(1),t.hij(" ",B[y.property.labelField]," ")}}function S(G,de){if(1&G&&(t.ynx(0,5),t.TgZ(1,"select",6),t._UZ(2,"option",7),t.YNc(3,ie,2,2,"option",8),t.ALo(4,"dataBinding"),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.BQk()),2&G){const B=t.oxw();t.Q6J("formGroup",B.formGroup),t.xp6(1),t.ekj("is-valid",B.control.touched&&B.control.valid)("is-invalid",B.control.touched&&B.control.invalid),t.Q6J("formControlName",B.gtNode.property.name)("multiple",B.property.multiple),t.xp6(1),t.uIk("selected",null===B.control.value),t.xp6(1),t.Q6J("ngForOf",t.lcZ(4,14,B.property.options)),t.xp6(2),t.ekj("valid-feedback",B.control.valid)("invalid-feedback",B.control.invalid),t.xp6(1),t.hij(" ",B.errorText(B.control.errors)," ")}}function P(G,de){if(1&G&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&G){const B=de.$implicit;t.uIk("value",B.value),t.xp6(1),t.hij(" ",B.label," ")}}function pe(G,de){if(1&G){const B=t.EpF();t.ynx(0),t.TgZ(1,"select",9,10),t.NdJ("ngModelChange",function(_){t.CHM(B);const h=t.oxw();return t.KtG(h.property.value=_)}),t.ALo(3,"dataBinding"),t._UZ(4,"option",11),t.YNc(5,P,2,2,"option",8),t.ALo(6,"dataBinding"),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.qZA(),t.BQk()}if(2&G){const B=t.MAs(2),y=t.oxw();t.xp6(1),t.ekj("is-valid",B.control.touched&&B.control.valid)("is-invalid",B.control.touched&&B.control.invalid),t.Q6J("disabled",t.lcZ(3,14,y.gtNode.property.disabled))("ngModel",y.property.value)("multiple",y.property.multiple),t.xp6(3),t.uIk("selected",null===B.control.value),t.xp6(1),t.Q6J("ngForOf",t.lcZ(6,16,y.property.options)),t.xp6(2),t.ekj("valid-feedback",B.control.valid)("invalid-feedback",B.control.invalid),t.xp6(1),t.hij(" ",y.errorText(B.control.errors)," ")}}let ge=(()=>{class G extends l.ub{}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["gt-select"]],hostAttrs:[1,"d-block"],features:[t.qOj],decls:4,vars:4,consts:[["class","form-label",4,"ngIf"],[1,"input-group","has-validation",3,"ngClass"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"form-label"],[3,"formGroup"],[1,"form-select",3,"formControlName","multiple"],["disabled",""],[4,"ngFor","ngForOf"],[1,"form-select",3,"disabled","ngModel","multiple","ngModelChange"],["ngModel","ngModel"],["value",""]],template:function(B,y){1&B&&(t.YNc(0,Z,3,3,"label",0),t.TgZ(1,"div",1),t.YNc(2,S,7,16,"ng-container",2),t.YNc(3,pe,9,18,"ng-container",3),t.qZA()),2&B&&(t.Q6J("ngIf",y.gtNode.property.showLabel),t.xp6(1),t.Q6J("ngClass",y.property.inputSize),t.xp6(1),t.Q6J("ngIf",y.formGroup),t.xp6(1),t.Q6J("ngIf",!y.formGroup))},dependencies:[e.mk,e.sg,e.O5,Q.YN,Q.Kr,Q.K7,Q.JJ,Q.JL,Q.On,Q.sg,Q.u,W.E],encapsulation:2}),G})();function Ue(G,de){if(1&G&&(t.TgZ(0,"label",4),t._uU(1),t.qZA()),2&G){const B=t.oxw();t.xp6(1),t.Oqu(B.gtNode.property.labelText)}}function z(G,de){if(1&G&&(t.ynx(0,5),t._UZ(1,"textarea",6),t.TgZ(2,"div"),t._uU(3),t.qZA(),t.BQk()),2&G){const B=t.oxw();t.Q6J("formGroup",B.formGroup),t.xp6(1),t.ekj("is-valid",B.control.touched&&B.control.valid)("is-invalid",B.control.touched&&B.control.invalid),t.Q6J("rows",B.gtNode.property.textareaRows)("placeholder",B.gtNode.property.placeholder||"")("formControlName",B.gtNode.property.name),t.xp6(1),t.ekj("valid-feedback",B.control.valid)("invalid-feedback",B.control.invalid),t.xp6(1),t.hij(" ",B.errorText(B.control.errors)," ")}}function me(G,de){if(1&G){const B=t.EpF();t.ynx(0),t.TgZ(1,"textarea",7,8),t.NdJ("ngModelChange",function(_){t.CHM(B);const h=t.oxw();return t.KtG(h.gtNode.property.value=_)}),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.BQk()}if(2&G){const B=t.MAs(2),y=t.oxw();t.xp6(1),t.ekj("is-valid",B.control.touched&&B.control.valid)("is-invalid",B.control.touched&&B.control.invalid),t.Q6J("name",y.property.name)("rows",y.gtNode.property.textareaRows)("placeholder",y.gtNode.property.placeholder||"")("ngModel",y.gtNode.property.value),t.xp6(2),t.ekj("valid-feedback",B.control.valid)("invalid-feedback",B.control.invalid),t.xp6(1),t.hij(" ",y.errorText(B.control.errors)," ")}}let M=(()=>{class G extends l.ub{}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["gt-textarea"]],hostAttrs:[1,"d-block"],features:[t.qOj],decls:4,vars:4,consts:[["class","form-label",4,"ngIf"],[1,"input-group","has-validation",3,"ngClass"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"form-label"],[3,"formGroup"],[1,"form-control",3,"rows","placeholder","formControlName"],[1,"form-control",3,"name","rows","placeholder","ngModel","ngModelChange"],["ngModel","ngModel"]],template:function(B,y){1&B&&(t.YNc(0,Ue,2,1,"label",0),t.TgZ(1,"div",1),t.YNc(2,z,4,13,"ng-container",2),t.YNc(3,me,5,13,"ng-container",3),t.qZA()),2&B&&(t.Q6J("ngIf",y.gtNode.property.showLabel),t.xp6(1),t.Q6J("ngClass",y.property.inputSize),t.xp6(1),t.Q6J("ngIf",y.formGroup),t.xp6(1),t.Q6J("ngIf",!y.formGroup))},dependencies:[e.mk,e.O5,Q.Fj,Q.JJ,Q.JL,Q.On,Q.sg,Q.u],encapsulation:2}),G})();function $(G,de){if(1&G&&(t.ynx(0,4),t._UZ(1,"input",5),t.TgZ(2,"label",6),t._uU(3),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.BQk()),2&G){const B=t.oxw();t.Q6J("formGroup",B.formGroup),t.xp6(1),t.ekj("is-valid",B.control.touched&&B.control.valid)("is-invalid",B.control.touched&&B.control.invalid),t.Q6J("id","form-node-"+B.gtNode.id)("formControlName",B.property.name),t.xp6(1),t.Q6J("for","form-node-"+B.gtNode.id),t.xp6(1),t.Oqu(B.property.labelText),t.xp6(1),t.ekj("valid-feedback",B.control.valid)("invalid-feedback",B.control.invalid),t.xp6(1),t.hij(" ",B.errorText(B.control.errors)," ")}}function _e(G,de){if(1&G){const B=t.EpF();t.ynx(0),t.TgZ(1,"input",7,8),t.NdJ("ngModelChange",function(_){t.CHM(B);const h=t.oxw();return t.KtG(h.property.value=_)}),t.qZA(),t.TgZ(3,"label",6),t._uU(4),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.BQk()}if(2&G){const B=t.MAs(2),y=t.oxw();t.xp6(1),t.ekj("is-valid",B.control.touched&&B.control.valid)("is-invalid",B.control.touched&&B.control.invalid),t.Q6J("id","form-node-"+y.gtNode.id)("ngModel",y.property.value),t.xp6(2),t.Q6J("for","form-node-"+y.gtNode.id),t.xp6(1),t.Oqu(y.property.labelText),t.xp6(1),t.ekj("valid-feedback",B.control.valid)("invalid-feedback",B.control.invalid),t.xp6(1),t.hij(" ",y.errorText(B.control.errors)," ")}}let ke=(()=>{class G extends l.ub{}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["gt-toggle"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"input-group","has-validation"],[1,"form-check","form-switch"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],["type","checkbox","role","switch",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"],["type","checkbox","role","switch",1,"form-check-input",3,"id","ngModel","ngModelChange"],["ngModel","ngModel"]],template:function(B,y){1&B&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,$,6,14,"ng-container",2),t.YNc(3,_e,7,13,"ng-container",3),t.qZA()()),2&B&&(t.xp6(2),t.Q6J("ngIf",y.formGroup),t.xp6(1),t.Q6J("ngIf",!y.formGroup))},dependencies:[e.O5,Q.Wl,Q.JJ,Q.JL,Q.On,Q.sg,Q.u],encapsulation:2}),G})(),je=(()=>{class G{}return G.\u0275fac=function(B){return new(B||G)},G.\u0275mod=t.oAB({type:G}),G.\u0275inj=t.cJS({providers:[{provide:l.dS,useValue:{radio:Be,checkbox:Be,toggle:ke,button:se,input:Ye,form:b,textarea:M,select:ge},multi:!0},{provide:l.gx,useFactory:j.Am,multi:!0}],imports:[e.ez,Q.u5,Q.UX,l.Bp]}),G})();const at=["canvas"];let ct=(()=>{class G extends l.z6{ngOnInit(){super.ngOnInit(),this.draw(this.canvas.nativeElement.getContext("2d"))}draw(B){(0,j.u1)(B,this.property.title,this.property.data,this.property.gaugeMax,this.property.gaugeMin,this.property.direction),requestAnimationFrame(()=>this.draw(B))}}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["gt-battery"]],viewQuery:function(B,y){if(1&B&&t.Gf(at,7),2&B){let _;t.iGM(_=t.CRH())&&(y.canvas=_.first)}},features:[t.qOj],decls:7,vars:3,consts:[[1,"text-center","text-truncate"],[1,"flex-grow-1","overflow-hidden","h-100"],[1,"d-block"],["canvas",""]],template:function(B,y){1&B&&(t.TgZ(0,"div",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t._UZ(3,"canvas",2,3),t.qZA(),t.TgZ(5,"div",0),t._uU(6),t.qZA()),2&B&&(t.xp6(1),t.hij(" ",y.property.title," "),t.xp6(5),t.AsE(" ",y.property.data||0,"/",y.property.gaugeMax," "))},encapsulation:2}),G})();var ut=i(2021);function De(G,de){}let Je=(()=>{class G extends l.z6{}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["gt-gauge"]],features:[t.qOj],decls:4,vars:8,consts:[["gt-gauge","",3,"max","min","startColor","endColor","data"],[1,"px-2","text-center"]],template:function(B,y){1&B&&(t.YNc(0,De,0,0,"ng-template",0),t.ALo(1,"dataBinding"),t.TgZ(2,"div",1),t._uU(3),t.qZA()),2&B&&(t.Q6J("max",y.property.gaugeMax)("min",y.property.gaugeMin)("startColor",y.property.startColor)("endColor",y.property.endColor)("data",t.lcZ(1,6,y.property.data)),t.xp6(3),t.Oqu(y.gtNode.property.title))},dependencies:[ut.Y,W.E],encapsulation:2,changeDetection:0}),G})();var Ie=i(8870);let Re=(()=>{class G extends l.z6{}return G.\u0275fac=function(){let de;return function(y){return(de||(de=t.n5z(G)))(y||G)}}(),G.\u0275cmp=t.Xpm({type:G,selectors:[["gt-water"]],features:[t.qOj],decls:10,vars:15,consts:[[1,"h-100","d-flex","flex-column"],[1,"position-relative","flex-grow-1"],["gt-waterBall","",1,"d-block","mx-auto",3,"value","max","min","minColor","maxColor","background"],[1,"position-absolute","top-50","start-50","translate-middle","text-white"],[1,"text-truncate","text-center","p-2"]],template:function(B,y){1&B&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"canvas",2),t.ALo(3,"dataBinding"),t.TgZ(4,"span",3),t._uU(5),t.ALo(6,"number"),t.ALo(7,"dataBinding"),t.qZA()(),t.TgZ(8,"div",4),t._uU(9),t.qZA()()),2&B&&(t.xp6(2),t.Q6J("value",t.lcZ(3,8,y.property.data))("max",y.property.gaugeMax)("min",y.property.gaugeMin)("minColor",y.property.minColor)("maxColor",y.property.maxColor)("background",y.property.background),t.xp6(3),t.Oqu(t.xi3(6,10,t.lcZ(7,13,y.gtNode.property.data),"1.0-1")),t.xp6(4),t.Oqu(y.property.title))},dependencies:[Ie.a,e.JJ,W.E],encapsulation:2}),G})(),ze=(()=>{class G{}return G.\u0275fac=function(B){return new(B||G)},G.\u0275mod=t.oAB({type:G}),G.\u0275inj=t.cJS({providers:[{provide:l.dS,useValue:{gauge:Je,water:Re,battery:ct},multi:!0},{provide:l.gx,useFactory:j.Nt,multi:!0}],imports:[e.ez,l.Bp,j.WU]}),G})(),rt=(()=>{class G{}return G.\u0275fac=function(B){return new(B||G)},G.\u0275mod=t.oAB({type:G}),G.\u0275inj=t.cJS({imports:[p,ze,je,V]}),G})()},2021:(Ze,Te,i)=>{"use strict";i.d(Te,{Y:()=>s});var e=i(727),l=i(2293),j=i(4650),t=i(3353);let s=(()=>{class U{constructor(N,K,X){this._ngZone=N,this.subscription=e.w0.EMPTY,this.gauge=new l.aC(K.element.nativeElement.parentElement,X.SAFARI)}set min(N){this.gauge.min=+N,this.gauge.render()}set max(N){this.gauge.max=+N,this.gauge.render()}set startColor(N){this.gauge.color1=N,this.gauge.render()}set endColor(N){this.gauge.color2=N,this.gauge.render()}set data(N){this._ngZone.runOutsideAngular(()=>{this.subscription.unsubscribe(),this.subscription=(0,l.if)(this.gauge.value,N,Math.abs(N-this.gauge.value)/(this.gauge.max-this.gauge.min)*1500).subscribe(K=>this.gauge.value=K)})}ngOnDestroy(){this.subscription.unsubscribe()}}return U.\u0275fac=function(N){return new(N||U)(j.Y36(j.R0b),j.Y36(j.s_b),j.Y36(t.t4))},U.\u0275dir=j.lG2({type:U,selectors:[["","gt-gauge",""]],inputs:{min:"min",max:"max",startColor:"startColor",endColor:"endColor",data:"data"}}),U})()},8870:(Ze,Te,i)=>{"use strict";i.d(Te,{a:()=>Y});var e=i(727),l=i(6299),j=i(4412);function t(N){const{r:K,g:X,b:W,a:O}=new j.C(N);return[K/255,X/255,W/255,O]}var s=i(2974),U=i(4650);let Y=(()=>{class N{constructor(X,W){this._ngZone=W,this.subscription=e.w0.EMPTY,this._ngZone.runOutsideAngular(()=>this.waterBall=(0,l.Nu)(X.nativeElement))}get min(){return this._min}set min(X){this._min=X,this.updateValue()}get max(){return this._max}set max(X){this._max=X,this.updateValue()}get value(){return this._value}set value(X){this._value=X,this.updateValue()}get minColor(){return this._minColor}set minColor(X){this._minColor=X,this.updateValue()}get maxColor(){return this._maxColor}set maxColor(X){this._maxColor=X,this.updateValue()}set background(X){this._ngZone.runOutsideAngular(()=>(0,l.if)(this.waterBall.background,t(X)).subscribe(W=>this.waterBall.background=W))}updateValue(){this._ngZone.runOutsideAngular(()=>{if("number"==typeof this.max&&"number"==typeof this.min&&"number"==typeof this.value){const X=(this.max-this.min)*this.waterBall.process+this.min;this.subscription.unsubscribe(),this.subscription=(0,l.if)(isNaN(X)?0:X,this.value).subscribe(W=>{this.waterBall.process=(W-this.min)/(this.max-this.min),this.waterBall.color=this.getColor(this.waterBall.process)})}})}getColor(X){return(0,s.s)(t(this.minColor),t(this.maxColor))(X)}}return N.\u0275fac=function(X){return new(X||N)(U.Y36(U.SBq),U.Y36(U.R0b))},N.\u0275dir=U.lG2({type:N,selectors:[["","gt-waterBall",""]],inputs:{min:"min",max:"max",value:"value",minColor:"minColor",maxColor:"maxColor",background:"background"}}),N})()},6299:(Ze,Te,i)=>{"use strict";function j(O){const p={time:0,process:0,_color:[0,0,0],get color(){return this._color},set color(a){this._color=a},_background:[0,0,0],get background(){return this._background},set background(a){this._background=a}};return setTimeout(()=>{const a=O.getContext("webgl",{antialias:!0,premultipliedAlpha:!1,preserveDrawingBuffer:!0});O.width=0,O.height=0;const m=function U(O,p,a){const m=s(O,O.VERTEX_SHADER,p),f=s(O,O.FRAGMENT_SHADER,a),I=O.createProgram();return O.attachShader(I,m),O.attachShader(I,f),O.linkProgram(I),O.getProgramParameter(I,O.LINK_STATUS)?I:(O.deleteProgram(I),null)}(a,"attribute vec4 position;void main(){gl_Position=position;}","#define PI 3.14159\n#define DBLPI 6.28318\nprecision mediump float;uniform vec2 resolution;uniform float time;uniform float process;uniform vec3 color;uniform vec3 background;float pixel=1./min(resolution.x,resolution.y);float amplitude=sin(process*PI)*.08;float circle(vec2 st){vec2 dist=st-vec2(.5);float smoothFract=3.*pixel;float d=dot(dist,dist)*4.;return smoothstep(d-smoothFract,d+smoothFract,1.);}float water(vec2 _st,float waveNum){ return smoothstep(_st.y-pixel,_st.y+pixel,cos(fract(_st.x*waveNum)*DBLPI)*amplitude/2.+process)*.9;}void main(){vec2 st=gl_FragCoord.xy/resolution.xy;float alpha1=circle(st)*water(st+vec2(time*.3,-.1*amplitude),1.8);float alpha2=circle(st)*water(st-vec2(time+.2,.1*amplitude),1.2);vec4 color1=vec4(color/2.,alpha1);vec4 color2=vec4(color,alpha2);vec4 bg=vec4(background,circle(st));vec4 w= mix(color1,color2,alpha2);gl_FragColor=mix(bg,w,w.a);}"),f=a.getAttribLocation(m,"position"),I=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,I),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,1,-1,-1,1,-1]),a.STATIC_DRAW);const v=a.getUniformLocation(m,"resolution"),te=a.getUniformLocation(m,"time"),ae=a.getUniformLocation(m,"process"),Se=a.getUniformLocation(m,"color"),Ee=a.getUniformLocation(m,"background");requestAnimationFrame(function Ce(k){p.time=2e-4*k,function t(O,p=1){const a=Math.max(Math.min(O.parentElement.clientWidth,O.parentElement.clientHeight),100);O.width!==a&&(O.width=O.height=a*devicePixelRatio,O.style.width=a+"px",O.style.height=a+"px")}(a.canvas),a.viewport(0,0,a.canvas.width,a.canvas.height),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.useProgram(m),a.enableVertexAttribArray(f),a.bindBuffer(a.ARRAY_BUFFER,I),a.vertexAttribPointer(f,2,a.FLOAT,!1,0,0),a.uniform2f(v,a.canvas.width,a.canvas.height),a.uniform1f(te,p.time),a.uniform1f(ae,p.process),a.uniform3f(Se,p.color[0],p.color[1],p.color[2]),a.uniform3f(Ee,p.background[0],p.background[1],p.background[2]),a.drawArrays(a.TRIANGLES,0,6),requestAnimationFrame(Ce)})}),p}function s(O,p,a){const m=O.createShader(p);return O.shaderSource(m,a),O.compileShader(m),O.getShaderParameter(m,O.COMPILE_STATUS)?m:(O.deleteShader(m),null)}i.d(Te,{aC:()=>K,u1:()=>X,if:()=>Y.i,Nu:()=>j});var Y=i(2974),N=i(8403);class K{constructor(p=document.body,a,{background:m,foreground:f,min:I=0,max:v=100}={min:0,max:100}){this.container=p,this.isSafari=a,this._value=0,this.color1="#5b79f1",this.color2="#29ffc6",this.fontColor1="#fff",this.axisFontColor="#696cab",this.tickColor1="#545fab",this.tickColor2="#696cab",this.indicatorColor="#b42531",this.indicatorBaseColor="#e4e5ed",this.devicePixelRatio=window.devicePixelRatio||1,this.canvas=document.createElement("canvas"),p.prepend(this.canvas),this.width=50,this.height=50,this.min=I,this.max=v,this.ctx=this.canvas.getContext("2d"),this.arcLength=2*Math.PI*.65,this.startRadian=-Math.PI-Math.PI/2+(2*Math.PI-this.arcLength)/2,this.endRadian=Math.PI/2-(2*Math.PI-this.arcLength)/2,this.background=m||"#121224",this.foreground=f||"#40e87b",this.render()}get percent(){return(0,N.uZ)((this.value-this.min)/(this.max-this.min),0,1)}get value(){return this._value}set value(p){this._value=p,this.render()}get width(){return this.canvas.width}set width(p){this.canvas.width=p*this.devicePixelRatio,this.canvas.style.width=p+"px"}get height(){return this.canvas.height}set height(p){this.canvas.height=p*this.devicePixelRatio,this.canvas.style.height=p+"px"}draw(){const p=this.ctx,a=this.radius-this.thickness/2;p.save(),p.clearRect(0,0,this.width,this.height),p.translate(this.width/2,this.height/2/.84),p.scale(this.devicePixelRatio,this.devicePixelRatio),p.lineWidth=this.thickness,p.lineCap="round",p.strokeStyle=this.background,p.beginPath(),p.arc(0,0,a,this.startRadian,this.endRadian),p.stroke();const m=p.createConicGradient(this.isSafari?Math.PI:Math.PI/2,0,0);m.addColorStop(.2,this.color1),m.addColorStop(.8,this.color2),p.strokeStyle=m,p.beginPath(),p.arc(0,0,a,this.startRadian,this.startRadian+this.percent*this.arcLength),p.stroke(),p.font=`bold ${Math.round(this.size/200*32)}px -apple-system, Microsoft Yahei`,p.fillStyle=this.fontColor1,p.textBaseline="top",p.textAlign="center",p.fillText(`${(+this.value).toFixed(1)} `,0,a*Math.sin(this.endRadian)*1.75),p.font=`${Math.round(this.size/200*12)}px -apple-system, Microsoft Yahei`,p.fillStyle=this.axisFontColor,p.textBaseline="alphabetic",p.textAlign="center",p.fillText(this.min+"",-a*Math.cos(this.endRadian),1.5*a*Math.sin(this.endRadian)),p.fillText(this.max+"",a*Math.cos(this.endRadian),1.5*a*Math.sin(this.endRadian)),p.restore()}drawIndicator(){const p=this.ctx,a=.75*(this.radius-this.thickness);p.save(),p.translate(this.width/2,this.height/2/.84),p.scale(this.devicePixelRatio,this.devicePixelRatio),p.rotate((this.percent-.5)*this.arcLength),p.fillStyle=this.indicatorBaseColor,p.beginPath(),p.arc(0,0,this.indicatorWidth,0,2*Math.PI),p.closePath(),p.fill(),p.fillStyle=this.indicatorColor,p.beginPath(),p.arc(0,0,this.indicatorWidth/2,0,Math.PI),p.lineTo(-this.indicatorWidth/6,-a),p.arc(0,-a,this.indicatorWidth/6,-Math.PI,0),p.lineTo(this.indicatorWidth/2,0),p.closePath(),p.fill(),p.fillStyle=this.indicatorBaseColor,p.beginPath(),p.arc(0,0,this.indicatorWidth/6,0,2*Math.PI),p.closePath(),p.fill(),p.restore()}drawTicks(){const p=this.ctx,a=this.radius-this.thickness-this.tickPadding;for(let f=0;f<=30;f++)p.save(),p.translate(this.width/2,this.height/2/.84),p.scale(this.devicePixelRatio,this.devicePixelRatio),p.rotate(this.arcLength/30*f+this.startRadian),p.beginPath(),p.moveTo(a,0),f%3==0?(p.lineWidth=this.tickWidth,p.strokeStyle=this.tickColor1,p.lineTo(a-this.tickLength,0)):(p.lineWidth=.7*this.tickWidth,p.strokeStyle=this.tickColor2,p.lineTo(a-.4*this.tickLength,0)),p.stroke(),p.restore()}resize(){const p=Math.max(Math.min(this.container.clientWidth,this.container.clientHeight/.76-30),100);this.size!==p&&(this.size=p,this.width=p,this.height=.76*p,this.radius=Math.round(p/2*.9),this.thickness=Math.round(p/300*12),this.tickLength=Math.round(p/300*10),this.tickPadding=Math.round(p/300*8),this.tickWidth=Math.round(p/300*3),this.indicatorWidth=Math.round(p/300*18))}render(){this.resize(),this.width>20?(this.draw(),this.drawTicks(),this.drawIndicator()):this.ctx.clearRect(0,0,this.width,this.height)}}function X(O,p="",a=0,m=100,f=0,I="vertical"){const v=O.canvas;v.width=v.parentElement.clientWidth,v.height=v.parentElement.clientHeight;let te=Math.floor("vertical"===I?v.height/Math.min(.02*v.height,v.width):v.width/Math.min(.02*v.width,v.height));te=Math.max(Math.min(te,30),1);const ae=("vertical"===I?v.height:v.width)/te,Se=.6*ae,Ee=Math.min(5*Se,.6*v.width,.6*v.height),Ce=.4*ae,k=.5*Math.min(Se,Ee),ee="#0cc41a",fe=a/(m-f);O.clearRect(0,0,v.width,v.height),O.save(),O.translate(v.width/2,v.height/2),"horizontal"===I&&O.rotate(Math.PI/2),O.scale(1,-1),O.translate(-Ee/2,"vertical"===I?-v.height/2:-v.width/2),O.fillStyle="#121224";for(let T=0;T<te;T++)W(O,Ee,Se,k,T*ae);O.fillStyle=ee,O.shadowBlur=4*Ce,O.shadowColor=ee;for(let T=0;T<Math.round(fe*te);T++)W(O,Ee,Se,k,T*ae);O.restore(),O.save(),"vertical"===I?(O.textAlign="center",O.font="bold 16px Kanit",O.fillStyle=ee,O.textBaseline="top",O.textBaseline="bottom"):(O.textAlign="right",O.font="bold 12px Kanit",O.fillStyle=ee,O.textBaseline="middle",O.textBaseline="middle",O.textAlign="left"),O.restore()}function W(O,p,a,m,f){O.beginPath(),O.arc(m,f+m,m,Math.PI,Math.PI/2*3),O.lineTo(p-m,f),O.arc(p-m,f+m,m,-Math.PI/2,0),O.lineTo(p,f+a-m),O.arc(p-m,f+a-m,m,0,Math.PI/2),O.lineTo(m,f+a),O.arc(m,f+a-m,m,Math.PI/2,Math.PI),O.lineTo(0,f+m),O.closePath(),O.fill()}},2974:(Ze,Te,i)=>{"use strict";i.d(Te,{i:()=>Y,s:()=>W});var e=i(7272),l=i(8690),j=i(5698),t=i(4004),s=i(2529),U=i(8403);function Y(O,p,a=500){const m=W(O,p);return N(0,a),function X(O,p,a){return(0,e.z)((0,l.R)().pipe((0,t.U)(({elapsed:m})=>m/a),(0,s.o)(m=>m<1)),(0,l.R)().pipe((0,j.q)(1),(0,t.U)(()=>1))).pipe((0,t.U)(m=>O(function K(O){return 1-Math.pow(O-1,4)}(m))))}(m,0,a)}const N=(O,p)=>{const a=p-O;return m=>((m=(0,U.uZ)(m,O,p))-O)/a};function W(O,p){return a=>Array.isArray(O)&&Array.isArray(p)?O.map((m,f)=>(p[f]-m)*a+m):"number"==typeof O&&"number"==typeof p?(p-O)*a+O:p}},2293:(Ze,Te,i)=>{"use strict";i.d(Te,{aC:()=>O.aC,WU:()=>N,u1:()=>O.u1,Tf:()=>l,rT:()=>j,Am:()=>t,Nt:()=>W,if:()=>O.if});var e=i(8403);const l=()=>{const p=(0,e.P_)({core:{canHasChild:!0},style:[{label:"\u9ad8\u5ea6",name:"height",type:"numberHasUnit"},{name:"background",type:"color"},{name:"flexDirection",type:"select",options:[{label:"row",value:"row"},{label:"column",value:"column"},{label:"row-reverse",value:"row-reverse"},{label:"column-reverse",value:"column-reverse"}]},{name:"flexGrow",type:"number"},{name:"flexShrink",type:"number"}],rights:!1,validator:!1}),a=(0,e.P_)({core:{canHasChild:!0},style:[{name:"background",type:"color"},{name:"flexDirection",type:"select",options:[{label:"row",value:"row"},{label:"column",value:"column"},{label:"row-reverse",value:"row-reverse"},{label:"column-reverse",value:"column-reverse"}]},{name:"flexGrow",type:"number"},{name:"flexShrink",type:"number"},{name:"border",type:"border"}],rights:!1}),m=(0,e.P_)({property:[{label:"\u6587\u5b57",name:"text",type:"textarea",value:"Some Text",canBind:!0}],style:[{label:"Font Size",name:"fontSize",type:"numberHasUnit"},{label:"Font Weight",name:"fontWeight",type:"select",options:[{label:"100",value:"100"},{label:"200",value:"200"},{label:"300",value:"300"},{label:"400",value:"400"},{label:"500",value:"500"},{label:"600",value:"600"},{label:"700",value:"700"},{label:"800",value:"800"},{label:"900",value:"900"}]}]}),f=(0,e.P_)({property:[{options:[],label:"\u56fe\u6807\u7c7b\u578b",name:"iconType",type:"icon"}]});return{root:p,division:a,template:(0,e.P_)({core:{canHasChild:!0,canCopy:!0,canDelete:!0,canCut:!0},style:[{name:"background",type:"color"},{name:"flexDirection",type:"select",options:[{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"}]},{name:"flexGrow",type:"number"},{name:"flexShrink",type:"number"}],rights:!1,validator:!1}),slot:(0,e.P_)({core:{canHasChild:!0,canDelete:!0},style:[{name:"background",type:"color"},{name:"flexDirection",type:"select",options:[{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"}]},{name:"flexGrow",type:"number"},{name:"flexShrink",type:"number"}],validator:!1}),text:m,icon:f,outlet:(0,e.P_)({core:{canHasChild:!0,canDelete:!0},validator:!1}),image:(0,e.P_)({property:[{label:"\u56fe\u7247\u5730\u5740",type:"text",name:"src"},{label:"alt",type:"text",name:"alt"},{label:"title",type:"text",name:"title"}]})}},j=()=>({card:(0,e.P_)({core:{canHasChild:!0},style:[{name:"flexDirection",type:"select",options:[{label:"row",value:"row"},{label:"column",value:"column"},{label:"row-reverse",value:"row-reverse"},{label:"column-reverse",value:"column-reverse"}]},{name:"flexGrow",type:"number"},{name:"flexShrink",type:"number"}],property:[{label:"\u6807\u9898",name:"title",type:"text",value:"\u6807\u9898",canBind:!0},{label:"\u663e\u793a\u6807\u9898",name:"showTitle",type:"toggle",value:!0}]}),accordion:(0,e.P_)({core:{canHasChild:!0,dynamicTemplate:!0},style:[{name:"flexDirection",type:"select",options:[{label:"row",value:"row"},{label:"column",value:"column"},{label:"row-reverse",value:"row-reverse"},{label:"column-reverse",value:"column-reverse"}]},{name:"flexGrow",type:"number"},{name:"flexShrink",type:"number"}],property:[{label:"Multi",name:"multi",type:"toggle"},{label:"Items",name:"accordionItems",type:"button"}]}),alert:(0,e.P_)({core:{canHasChild:!0},property:[{name:"type",type:"select",value:"primary",options:[{label:"primary",value:"primary"},{label:"secondary",value:"secondary"},{label:"success",value:"success"},{label:"danger",value:"danger"},{label:"warning",value:"warning"},{label:"info",value:"info"},{label:"light",value:"light"},{label:"dark",value:"dark"}]},{name:"dismissible",type:"toggle",value:!1}]}),buttonGroup:(0,e.P_)({core:{canHasChild:!0,acceptedChildType:["buttonGroup","button"]},property:[{type:"select",name:"size",value:"",options:[{label:"Large",value:"lg"},{label:"Default",value:""},{label:"Small",value:"sm"}]},{type:"select",name:"orientation",value:"horizontal",options:[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"}]}]})});function t(){return{radio:(0,e.P_)({property:[{label:"name",name:"name",type:"text"},{label:"\u663e\u793alabel",name:"showLabel",type:"toggle",value:!0},{name:"layout",type:"select",options:[{label:"Default",value:""},{label:"Inline",value:"form-check-inline"},{label:"Reverse",value:"form-check-reverse"}]},{name:"value",type:"text"},{name:"options",type:"table",columns:[{prop:"label",name:"label",value:null},{prop:"value",name:"value",value:null}],value:[]}]}),checkbox:(0,e.P_)({property:[{label:"name",name:"name",type:"text"},{label:"\u663e\u793alabel",name:"showLabel",type:"toggle",value:!0},{name:"layout",type:"select",options:[{label:"Default",value:""},{label:"Inline",value:"form-check-inline"},{label:"Reverse",value:"form-check-reverse"}]},{name:"value",type:"text"},{name:"options",type:"table",columns:[{prop:"label",name:"label",value:null},{prop:"value",name:"value",value:null}],value:[]}]}),toggle:(0,e.P_)({property:[{label:"name",name:"name",type:"text"},{label:"labelText",name:"labelText",type:"text"}]}),button:(0,e.P_)({property:[{label:"\u6587\u5b57",name:"text",type:"text",value:"Button",canBind:!0},{label:"\u5c3a\u5bf8",name:"buttonSize",type:"select",options:[{label:"lg",value:"btn-lg"},{label:"md",value:""},{label:"sm",value:"btn-sm"}]},{label:"\u989c\u8272",name:"buttonColor",type:"select",value:"btn-primary",options:[{label:"primary",value:"btn-primary"},{label:"secondary",value:"btn-secondary"},{label:"success",value:"btn-success"},{label:"warning",value:"btn-warning"},{label:"danger",value:"btn-danger"},{label:"info",value:"btn-info"},{label:"light",value:"btn-light"},{label:"dark",value:"btn-dark"},{label:"link",value:"btn-link"},{label:"primary-outline",value:"btn-outline-primary"},{label:"secondary-outline",value:"btn-outline-secondary"},{label:"success-outline",value:"btn-outline-success"},{label:"warning-outline",value:"btn-outline-warning"},{label:"danger-outline",value:"btn-outline-danger"},{label:"info-outline",value:"btn-outline-info"},{label:"light-outline",value:"btn-outline-light"},{label:"dark-outline",value:"btn-outline-dark"}]},{label:"\u7981\u7528",name:"disabled",type:"toggle",canBind:!0},{label:"Active",name:"active",type:"toggle",canBind:!0}],action:{click:[]}}),input:(0,e.P_)({property:[{label:"name",name:"name",type:"text"},{label:"\u663e\u793alabel",name:"showLabel",type:"toggle",value:!1},{label:"labelText",name:"labelText",type:"text"},{label:"\u5c3a\u5bf8",name:"inputSize",type:"select",options:[{label:"lg",value:"input-group-lg"},{label:"md",value:""},{label:"sm",value:"input-group-sm"}]},{label:"\u7c7b\u578b",name:"inputType",type:"select",value:"text",options:[{label:"text",value:"text"},{label:"number",value:"number"},{label:"password",value:"password"},{label:"file",value:"file"}]},{label:"\u7981\u7528",name:"disabled",type:"toggle",value:!1,canBind:!0},{label:"\u53ea\u8bfb",name:"readonly",type:"toggle",value:!1},{label:"\u5360\u4f4d\u7b26",name:"placeholder",type:"text"}],validator:[]}),select:(0,e.P_)({property:[{label:"name",name:"name",type:"text",canBind:!0},{label:"\u663e\u793alabel",name:"showLabel",type:"toggle",value:!1},{label:"labelText",name:"labelText",type:"text",canBind:!0},{label:"\u5c3a\u5bf8",name:"inputSize",type:"select",options:[{label:"lg",value:"input-group-lg"},{label:"md",value:""},{label:"sm",value:"input-group-sm"}]},{label:"\u503c",name:"value",type:"text"},{label:"\u6570\u636e",name:"data",type:"text",canBind:!0},{label:"\u7981\u7528",name:"disabled",type:"toggle",value:!1},{label:"\u591a\u9009",name:"multiple",type:"toggle",value:!1},{label:"Label\u5b57\u6bb5",name:"labelField",type:"text",value:"label"},{label:"Value\u5b57\u6bb5",name:"valueField",type:"text",value:"value"},{name:"options",type:"table",columns:[{prop:"label",name:"label"},{prop:"value",name:"value"}],value:[],canBind:!0}]}),textarea:(0,e.P_)({property:[{label:"name",name:"name",type:"text"},{label:"\u663e\u793alabel",name:"showLabel",type:"toggle",value:!1},{label:"labelText",name:"labelText",type:"text"},{label:"\u5c3a\u5bf8",name:"inputSize",type:"select",options:[{label:"lg",value:"input-group-lg"},{label:"md",value:""},{label:"sm",value:"input-group-sm"}]},{label:"\u503c",name:"value",type:"text"},{label:"\u7981\u7528",name:"disabled",type:"toggle",value:!1},{label:"\u5360\u4f4d\u7b26",name:"placeholder",type:"text"},{label:"Rows",name:"textareaRows",type:"number",value:5}],rights:!1}),form:(0,e.P_)({core:{canHasChild:!0},rights:!1,validator:!1})}}var s=i(6895),U=i(3353),Y=i(4650);let N=(()=>{class p{}return p.\u0275fac=function(m){return new(m||p)},p.\u0275mod=Y.oAB({type:p}),p.\u0275inj=Y.cJS({imports:[s.ez,U.ud]}),p})();i(2021),i(8870);const W=()=>({gauge:(0,e.P_)({property:[{name:"title",type:"text"},{name:"gaugeNormalMin",type:"number"},{name:"gaugeNormalMax",type:"number"},{name:"gaugeMin",type:"number",value:0},{name:"gaugeMax",type:"number",value:100},{name:"startColor",type:"color",value:"#5b79f1"},{name:"endColor",type:"color",value:"#29ffc6"},{name:"data",type:"number",canBind:!0}],style:[{name:"display",type:"select",value:"inline-block"}]}),water:(0,e.P_)({property:[{name:"title",type:"text"},{name:"gaugeNormalMin",type:"number"},{name:"gaugeNormalMax",type:"number"},{name:"gaugeMin",type:"number",value:0},{name:"gaugeMax",type:"number",value:100},{name:"minColor",type:"color",value:"#5b79f1"},{name:"maxColor",type:"color",value:"#29ffc6"},{name:"background",type:"color",value:"#033E49"},{name:"data",type:"number",value:50}],style:[{name:"display",type:"select",value:"inline-block"}]}),battery:(0,e.P_)({property:[{name:"title",type:"text"},{name:"gaugeMin",type:"number",value:0},{name:"gaugeMax",type:"number",value:100},{name:"direction",type:"select",value:"vertical",options:[{label:"vertical",value:"vertical"},{label:"horizontal",value:"horizontal"}]},{name:"data",type:"number",canBind:!0}],style:[{name:"display",type:"select",value:"flex"},{name:"flexDirection",type:"select",value:"column"},{name:"alignItems",type:"select",value:"stretch"}]})});var O=i(6299)},6363:(Ze,Te,i)=>{"use strict";i.d(Te,{Z:()=>X});var e=i(4650),l=i(8403),j=i(8372),t=i(6451);class s{constructor(){this.selected=[]}init(p){this.name=p.name,this.description=p.description,this.selected=p.selectedNodes||[],this.rightTabIndex=p.activeRightTab||0,this.configAccordionExpanded=p.configAccordionExpanded||{},this.elementAccordionExpanded=p.elementAccordionExpanded||{},this.currentBoardName=p.currentBoardName}activateRightTab(p){this.rightTabIndex=p}changeCurrentBoard(p){this.currentBoardName=p.name}changeConfigAccordionExpanded(p,a){this.configAccordionExpanded[p]=a}changeElementAccordionExpanded(p,a){this.elementAccordionExpanded[p]=a}export(){return{name:this.name,description:this.description,currentBoardName:this.currentBoardName,elementAccordionExpanded:this.elementAccordionExpanded,configAccordionExpanded:this.configAccordionExpanded,activeRightTab:this.rightTabIndex,selectedNodes:this.selected}}}var U=i(7088),Y=i(3290);class N{constructor(){this.historyMaxLength=10,this.history=[]}get(){return this.history}push(p){this.history.length>=this.historyMaxLength&&(this.history=this.history.slice(this.history.length-this.historyMaxLength-1)),this.history.push(p)}pop(){return this.history.pop()}clear(){this.history=[]}}var K=i(3430);let X=(()=>{class O extends l.Gt{constructor(a,m,f){super(),this.events=a,this.defaultConfigMap=f,this.mode="edit",this.showReferenceLine=!0,this.copiedNode=[],this.remoteCustomComponent={},this.selected=[],this.onEvents=new e.vpe,this.history=new N,this.undoHistory=new N,this.settings=new s,this.componentMap=Object.assign({},...m),this.events.onEvent.subscribe(I=>{switch(I.type){case"CHANGE_PROPERTY":case"INSERT_NODE":case"MOVE_NODE":case"REMOVE_NODE":this.history.push(I),this.undoHistory.clear()}}),(0,t.T)(this.events.CHANGE_STYLE,this.events.CHANGE_PROPERTY,this.events.CHANGE_ACTION,this.events.CHANGE_DATASOURCE,this.events.CHANGE_VALIDATOR,this.events.CHANGE_RIGHTS,this.events.PASTE_STYLE,this.events.MOVE_NODE,this.events.REMOVE_NODE,this.events.INSERT_NODE,this.events.UNDO,this.events.REDO).pipe((0,j.b)(3e4)).subscribe(I=>this.events.AUTO_SAVE.next({config:this.exportString(),setting:this.settings.export()})),this.events.CHANGE_SELECT.subscribe(I=>this.settings.selected=I.map(({id:v})=>v)),this.events.UPDATE_TEMPLATE.subscribe(({})=>{})}get darkMode(){return O.darkMode}initSettings(a){this.settings.init(a),this.settings.selected.forEach(m=>{const f=this.getNodeById(m);f&&this.changeSelect(f,!0)})}undo(){const a=this.history.get();if(a.length){const m=a.pop();if("CHANGE_PROPERTY"===m.type){const{name:f,gtNode:I,previousValue:v,value:te}=m.data;I.property[f]=v,this.undoHistory.push({type:m.type,data:{name:f,gtNode:I,previousValue:te,value:v}}),this.events.UNDO.next(m)}if("INSERT_NODE"===m.type){const{gtNode:f,parent:I,index:v}=m.data;I.children.splice(v,1),I.componentRef.instance.remove(v),this._removeGtNode(f),this.undoHistory.push(m),this.events.UNDO.next(m)}if("REMOVE_NODE"===m.type&&(this.undoHistory.push(m),m.data.forEach(({gtNode:f,parent:I,index:v})=>{I.children.splice(v,0,f),this.nodeList.set(f.id,f),this.currentBoard.nodeList.set(f.id,f),I.componentRef.instance.insert(f,v)}),this.events.UNDO.next(m)),"MOVE_NODE"===m.type){this.undoHistory.push(m);const{gtNode:f,previousParent:I,previousIndex:v}=m.data;f.setParent(I,v),this.events.UNDO.next(m)}}else this.log.next({type:"info",message:"\u6682\u65e0\u53ef\u64a4\u9500\u7684\u64cd\u4f5c\uff01",data:null})}redo(){const a=this.undoHistory.get();if(a.length){const m=a.pop();if("CHANGE_PROPERTY"===m.type){const{name:f,gtNode:I,previousValue:v,value:te}=m.data;I.property[f]=v,this.history.push({type:m.type,data:{name:f,gtNode:I,previousValue:te,value:v}}),this.events.REDO.next(m)}if("INSERT_NODE"===m.type){this.history.push(m);const{gtNode:f,parent:I,index:v}=m.data;I.children.splice(v,0,f),this.nodeList.set(f.id,f),this.currentBoard.nodeList.set(f.id,f),I.componentRef.instance.insert(f,v),this.events.REDO.next(m)}if("MOVE_NODE"===m.type){this.history.push(m);const{gtNode:f,parent:I,index:v}=m.data;f.setParent(I,v),this.events.REDO.next(m)}}else this.log.next({type:"info",message:"\u6682\u65e0\u53ef\u91cd\u505a\u7684\u64cd\u4f5c\uff01",data:null})}changeSelect(a,m){if(a){if(!this.currentBoard.nodeList.has(a.id))return;this.selected.includes(a)?m?this.selected.splice(this.selected.indexOf(a),1):this.selected=1===this.selected.length?[]:[a]:m?this.selected.push(a):this.selected=[a]}else this.selected=[];this.events.CHANGE_SELECT.next(this.selected)}addBoard(){const a=new l.$l({name:"Modal",type:"modal",url:"",id:(0,l.gj)(),size:"xl",events:null,description:"",noFooter:!0});return a.gt=this.createGtNode({type:"root"},void 0,void 0,void 0,a),this.boards.push(a),this.setCurrentBoard(a),this.events.CHANGE_BOARD.next(a),a}addCustomComponent(a="custom"){const m=new l.$l({type:a,id:(0,l.gj)(),name:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6",events:null,description:"",noFooter:!0,size:null,url:""});m.gt=this.createGtNode({type:"template"},void 0,void 0,void 0,m),m.gt.isTemplate=!0,this.customComponent.push(m),this.setCurrentBoard(m)}addRemoteCustomComponent(a,m,f,{type:I="custom",id:v=(0,l.gj)(),gt:te}){const ae={type:I,id:v,gt:this.createGtNode(te),name:m,description:f};ae.gt.isTemplate=!0,Object.defineProperty(this.remoteCustomComponent,a,{value:ae,enumerable:!0}),this.customComponent.push(ae)}removeBoard(a){const m=this.boards.indexOf(a),f=this.boards.indexOf(this.currentBoard);this.boards.splice(m,1),m===f&&this.setCurrentBoard(this.boards[m-1]||this.boards[0]),this._removeGtNode(a.gt)}dropNode(a,m,f,I){if(a.parent===m&&(void 0===f?a.parent.children.indexOf(a)===a.parent.children.length-1:a.parent.children.indexOf(a)===f))return;const v=a.parent,te=v.children.indexOf(a);a.setParent(m,f,I),this.events.MOVE_NODE.next({gtNode:a,parent:m,index:f,previousParent:v,previousIndex:-1===te?void 0:te})}addNode(a,m,f=-1,I={},v){const te=this.createGtNode({type:a,outletID:v,...I},m,void 0,f);return te?(this.selected=[te],this.events.INSERT_NODE.next({gtNode:te,parent:m,index:f}),this.events.CHANGE_SELECT.next(this.selected),te):null}addCustomNode(a,m,f=-1){const I=this.customComponent.filter(v=>v.id===a)[0].gt;return this.createGtNode({type:"template",template:I.id},m)}removeNode(){const a=[];if(!this.selected||this.selected.some(m=>"root"===m.type))return this.log.next({type:"error",message:"\u65e0\u6cd5\u5220\u9664",data:null});this.selected.forEach(m=>{m.template&&m.isTemplateRoot&&m.template.inheritList&&m.template.inheritList.splice(m.template.inheritList.indexOf(m),1),this._removeGtNode(m);const f=m.parent.children.indexOf(m);m.parent.componentRef.instance.remove(m),m.parent.children.splice(f,1),a.push({gtNode:m,parent:m.parent,index:f})}),this.selected=[],this.events.REMOVE_NODE.next(a),this.events.CHANGE_SELECT.next(this.selected)}setCurrentBoard(a){super.setCurrentBoard(a),this.events.CHANGE_BOARD.next(a)}copyStyle(){1===this.selected.length?(this.copiedStyle=this.selected[0].style.export(),this.events.COPY_STYLE.next(this.copiedStyle)):this.log.next({type:"error",message:"\u65e0\u6cd5\u590d\u5236\u6837\u5f0f\uff0c\u56e0\u4e3a\u5f53\u524d\u9009\u4e2d\u4e86\u591a\u4e2a\u8282\u70b9"})}pasteStyle(){const a=this.copiedStyle;this.selected.forEach(({core:m,style:f})=>m.canPasteStyle&&f.setStyles(a)),this.events.PASTE_STYLE.next({pastedNodes:this.selected,pastedStyle:this.copiedStyle})}copyNode(){this.copiedNode=this.selected.map(({id:a})=>a)}pasteNode(a){const m=v=>{const te=v.export();if(v.isTemplateRoot)for(const ae in te.slot)te.slot[ae].forEach(Se=>delete Se.id);else te.children=v.children.map(ae=>m(ae));return delete te.id,te};let I,f=null;if(a.core.canHasChild)f=a;else for(;a.parent;){if(a.parent.core.canHasChild){f=a.parent,I=a.parent.children.indexOf(a)+1;break}a=a.parent}!f||this.copiedNode.forEach(v=>{const te=this.createGtNode(m(this.getNodeById(v)),f,void 0,typeof I>"u"?I:I++);this.events.INSERT_NODE.next({parent:f,gtNode:te,index:I})})}removeCustomComponent(a){this.selected=[a.gt],this.removeNode(),this.customComponent.splice(this.customComponent.indexOf(a),1)}_removeGtNode(a){this.currentBoard.nodeList.delete(a.id),this.nodeList.delete(a.id),a.children.forEach(m=>this._removeGtNode(m))}exportSettings(){return this.settings.export()}}return O.darkMode=!1,O.\u0275fac=function(a){return new(a||O)(e.LFG(K.n),e.LFG(U.ty),e.LFG(Y.K))},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac}),O})();const W=matchMedia("(prefers-color-scheme: dark)");X.darkMode=W.matches,W.addEventListener("change",function(){X.darkMode=this.matches})},1194:(Ze,Te,i)=>{"use strict";i.d(Te,{Z:()=>e.Z});var e=i(6363)},9401:(Ze,Te,i)=>{"use strict";i.d(Te,{E:()=>j});var e=i(8403),l=i(4650);let j=(()=>{class t{transform(U,...Y){return U instanceof e.Sl||"string"==typeof U&&/\${.+?}/.test(U)?"~~\u6570\u636e\u7ed1\u5b9a~~":U}}return t.\u0275fac=function(U){return new(U||t)},t.\u0275pipe=l.Yjl({name:"dataBinding",type:t,pure:!1}),t})()},414:(Ze,Te,i)=>{"use strict";i.d(Te,{N:()=>X});var e=i(3555),l=i(3290),j=i(7088),t=i(4650),s=i(6895),U=i(433),Y=i(6704);function N(W,O){if(1&W){const p=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.TgZ(4,"div",9)(5,"button",10)(6,"i",11),t._uU(7,"list"),t.qZA()(),t.TgZ(8,"button",12),t.NdJ("click",function(){const f=t.CHM(p).$implicit,I=t.oxw(2);return t.KtG(I.editAction(f))}),t.TgZ(9,"i",11),t._uU(10,"edit"),t.qZA()(),t.TgZ(11,"button",12),t.NdJ("click",function(){const f=t.CHM(p).$implicit,I=t.oxw(2);return t.KtG(I.removeAction(f))}),t.TgZ(12,"i",11),t._uU(13,"close"),t.qZA()()()()(),t.TgZ(14,"div",13)(15,"div",14)(16,"label",15),t._uU(17,"Description"),t.qZA(),t.TgZ(18,"input",16),t.NdJ("ngModelChange",function(m){const I=t.CHM(p).$implicit;return t.KtG(I.desc=m)}),t.qZA()()()()}if(2&W){const p=O.$implicit;t.xp6(3),t.hij(" ",p.type," "),t.xp6(15),t.Q6J("ngModel",p.desc)}}function K(W,O){if(1&W){const p=t.EpF();t.TgZ(0,"div",4),t.NdJ("cdkDropListDropped",function(m){const I=t.CHM(p).$implicit,v=t.oxw();return t.KtG(v.dropped(m,I.actions))}),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.YNc(3,N,19,2,"div",5),t.qZA()}if(2&W){const p=O.$implicit;t.xp6(2),t.Oqu(p.type),t.xp6(1),t.Q6J("ngForOf",p.actions)}}let X=(()=>{class W{constructor(p,a,m){this.configMap=p,this.editEvent=a,this.cdr=m}set gtNode(p){this.updateGtNode(p)}get gtNode(){return this._gtNode}updateGtNode(p){const a=this.configMap.get(p.type);if(a){const m=a.get("action");this.actionTypes=m?Object.keys(m).map(f=>({text:f})):[]}else this.actionTypes=[];this._gtNode=p,this.actions=Object.entries(this.gtNode.action).map(([m,f])=>({type:m,actions:f})),this.cdr.detectChanges()}addAction(p){this.editEvent.forEach(a=>{a&&a({gtNode:this.gtNode,type:"action",args:[],cb:m=>{this.gtNode.action.hasOwnProperty(p.text)||(this.gtNode.action[p.text]=[]),this.gtNode.action[p.text].push({type:p.text,desc:null,script:m,scopes:[]}),this.updateGtNode(this.gtNode)}})})}editAction(p){this.editEvent.forEach(a=>{a&&a({gtNode:this.gtNode,type:"action",args:[p.script],cb:m=>{p.script=m}})})}removeAction(p){const a=this.gtNode.action[p.type],m=a.indexOf(p);a.splice(m,1),this.updateGtNode(this.gtNode)}dropped(p,a){(0,e.bA)(a,p.previousIndex,p.currentIndex)}}return W.\u0275fac=function(p){return new(p||W)(t.Y36(l.a),t.Y36(j.dd),t.Y36(t.sBO))},W.\u0275cmp=t.Xpm({type:W,selectors:[["gt-panel-action"]],inputs:{gtNode:"gtNode"},decls:4,vars:2,consts:function(){let O;return O=" Add ",[["cdkDropList","",3,"cdkDropListDropped",4,"ngFor","ngForOf"],[1,"d-grid","gap-2","mt-2"],["gt-dropdown","",1,"btn","btn-light",3,"items","itemClick"],O,["cdkDropList","",3,"cdkDropListDropped"],["class","card mb-3 transform","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragLockAxis","y",1,"card","mb-3","transform"],[1,"card-header"],[1,"d-flex","justify-content-between"],[1,"btn-group","btn-group-sm"],["cdkDragHandle","",1,"btn","btn-light","btn-sm"],[1,"gt-icon"],[1,"btn","btn-light","btn-sm",3,"click"],[1,"card-body"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"]]},template:function(p,a){1&p&&(t.YNc(0,K,4,2,"div",0),t.TgZ(1,"div",1)(2,"button",2),t.NdJ("itemClick",function(f){return a.addAction(f)}),t.SDv(3,3),t.qZA()()),2&p&&(t.Q6J("ngForOf",a.actions),t.xp6(2),t.Q6J("items",a.actionTypes))},dependencies:[s.sg,U.Fj,U.JJ,U.On,e.Wj,e.Zt,e.Bh,Y.w],encapsulation:2}),W})()},2851:(Ze,Te,i)=>{"use strict";i.d(Te,{A:()=>t});var e=i(4650),l=i(3555);const j=["*"];let t=(()=>{class s{constructor(){this.removeItem=new e.vpe}}return s.\u0275fac=function(Y){return new(Y||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["gt-panel-card"]],inputs:{item:"item"},outputs:{removeItem:"removeItem"},ngContentSelectors:j,decls:13,vars:1,consts:[["cdkDrag","","cdkDragLockAxis","y",1,"card","mb-3","transform"],[1,"card-header"],[1,"d-flex","justify-content-between"],[1,"btn-group","btn-group-sm"],["cdkDragHandle","",1,"btn","btn-light","btn-sm"],[1,"gt-icon"],[1,"btn","btn-light","btn-sm",3,"click"],[1,"card-body"]],template:function(Y,N){1&Y&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.TgZ(4,"div",3)(5,"button",4)(6,"i",5),e._uU(7,"list"),e.qZA()(),e.TgZ(8,"button",6),e.NdJ("click",function(){return N.removeItem.emit(N.item)}),e.TgZ(9,"i",5),e._uU(10,"close"),e.qZA()()()()(),e.TgZ(11,"div",7),e.Hsn(12),e.qZA()()),2&Y&&(e.xp6(3),e.hij(" ",N.item.title," "))},dependencies:[l.Zt,l.Bh],encapsulation:2}),s})()},7707:(Ze,Te,i)=>{"use strict";i.d(Te,{U:()=>m});var e=i(4650),l=i(433),j=i(8403),t=i(727),s=i(6895);function U(f,I){1&f&&(e.TgZ(0,"div",9),e._uU(1," ~~DataBinding~~ "),e.qZA())}function Y(f,I){if(1&f&&e._UZ(0,"input",14),2&f){const v=e.oxw(2).$implicit;e.ekj("is-invalid",v.control.touched&&v.control.invalid),e.Q6J("formControlName",v.name)}}function N(f,I){if(1&f&&e._UZ(0,"input",15),2&f){const v=e.oxw(2).$implicit;e.ekj("is-invalid",v.control.touched&&v.control.invalid),e.Q6J("formControlName",v.name)}}function K(f,I){if(1&f&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&f){const v=I.$implicit;e.Q6J("value",v.value),e.xp6(1),e.hij(" ",v.label," ")}}function X(f,I){if(1&f&&(e.TgZ(0,"select",16),e.YNc(1,K,2,2,"option",17),e.qZA()),2&f){const v=e.oxw(2).$implicit;e.ekj("is-invalid",v.control.touched&&v.control.invalid),e.Q6J("formControlName",v.name),e.xp6(1),e.Q6J("ngForOf",v.options)}}function W(f,I){if(1&f&&(e.ynx(0)(1,10),e.YNc(2,Y,1,3,"input",11),e.YNc(3,N,1,3,"input",12),e.YNc(4,X,2,4,"select",13),e.BQk()()),2&f){const v=e.oxw().$implicit;e.xp6(1),e.Q6J("ngSwitch",v.type),e.xp6(1),e.Q6J("ngSwitchCase","text"),e.xp6(1),e.Q6J("ngSwitchCase","number"),e.xp6(1),e.Q6J("ngSwitchCase","select")}}function O(f,I){if(1&f){const v=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(v);const ae=e.oxw().$implicit;return e.KtG(ae.control.reset())}),e.TgZ(1,"i",20),e._uU(2,"close"),e.qZA()()}}function p(f,I){if(1&f){const v=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(v);const ae=e.oxw().$implicit,Se=e.oxw();return e.KtG(Se.expressionClick.emit(ae))}),e._uU(1," f(x) "),e.qZA()}}function a(f,I){if(1&f&&(e.TgZ(0,"div",2)(1,"label",3),e._uU(2),e.qZA(),e.TgZ(3,"div",4),e.YNc(4,U,2,0,"div",5),e.YNc(5,W,5,4,"ng-container",6),e.YNc(6,O,3,0,"button",7),e.YNc(7,p,2,0,"button",7),e.TgZ(8,"div",8),e._uU(9),e.ALo(10,"json"),e.qZA()()()),2&f){const v=I.$implicit,te=e.oxw();e.xp6(2),e.Oqu(v.label||v.name),e.xp6(2),e.Q6J("ngIf",te.isDataBinding(v.control.value)),e.xp6(1),e.Q6J("ngIf",!te.isDataBinding(v.control.value)),e.xp6(1),e.Q6J("ngIf",null!==v.control.value),e.xp6(1),e.Q6J("ngIf",v.expression),e.xp6(2),e.hij(" ",e.lcZ(10,6,te.formGroup.get(v.name).errors)," ")}}let m=(()=>{class f{constructor(){this.formGroup=new l.cw({}),this.subscription=t.w0.EMPTY,this.expressionClick=new e.vpe,this.formChange=new e.vpe}set value(v){this.formGroup.setValue(v)}get formList(){return this._formList}set formList(v){Object.keys(this.formGroup.controls).forEach(te=>this.formGroup.removeControl(te)),this._formList=v.map(te=>{const ae=new l.NI({value:void 0!==te.value?te.value:null,disabled:te.disabled},te.validators);return this.formGroup.addControl(te.name,ae),{...te,control:ae}})}ngOnInit(){this.subscription=this.formGroup.valueChanges.subscribe(()=>this.formChange.emit(this.formGroup))}ngOnDestroy(){this.subscription.unsubscribe()}isDataBinding(v){return v instanceof j.Sl}}return f.\u0275fac=function(v){return new(v||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["gt-panel-form"]],inputs:{value:"value",formList:"formList"},outputs:{expressionClick:"expressionClick",formChange:"formChange"},decls:2,vars:2,consts:[[3,"formGroup"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],[1,"form-label"],[1,"input-group","input-group-sm","has-validation"],["class","form-control",4,"ngIf"],[4,"ngIf"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"invalid-feedback"],[1,"form-control"],[3,"ngSwitch"],["type","text","class","form-control",3,"formControlName","is-invalid",4,"ngSwitchCase"],["type","number","class","form-control",3,"formControlName","is-invalid",4,"ngSwitchCase"],["class","form-select",3,"formControlName","is-invalid",4,"ngSwitchCase"],["type","text",1,"form-control",3,"formControlName"],["type","number",1,"form-control",3,"formControlName"],[1,"form-select",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"gt-icon"]],template:function(v,te){1&v&&(e.TgZ(0,"form",0),e.YNc(1,a,11,8,"div",1),e.qZA()),2&v&&(e.Q6J("formGroup",te.formGroup),e.xp6(1),e.Q6J("ngForOf",te.formList))},dependencies:[s.sg,s.O5,s.RF,s.n9,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,s.Ts],encapsulation:2}),f})()},7080:(Ze,Te,i)=>{"use strict";i.d(Te,{V:()=>s});var e=i(4650),l=i(6895),j=i(6344);function t(U,Y){if(1&U){const N=e.EpF();e.TgZ(0,"tr")(1,"th",14),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",15),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"i",16),e.NdJ("click",function(){const W=e.CHM(N).$implicit,O=e.oxw();return e.KtG(O.actionEdit(W))}),e._uU(9,"edit"),e.qZA(),e.TgZ(10,"i",17),e.NdJ("click",function(){const W=e.CHM(N).$implicit,O=e.oxw();return e.KtG(O.delete(W))}),e._uU(11,"minus"),e.qZA()()()}if(2&U){const N=Y.$implicit,K=Y.index;e.xp6(2),e.Oqu(K+1),e.xp6(2),e.Oqu(N.type),e.xp6(1),e.Q6J("title",N.desc),e.xp6(1),e.Oqu(N.desc)}}let s=(()=>{class U{get actions(){return Object.values(this.board.events).reduce((N,K)=>N.concat(K),[])}get board(){return this._board}set board(N){this._board=N,this.formList=[{label:"name",value:N.name,type:"text",name:"name"},{label:"type",value:N.type,type:"text",name:"type",disabled:!0},{label:"url",value:N.url,type:"text",name:"url"},{hide:"modal"!==N.type,label:"size",value:N.size||"",type:"select",name:"size",options:[{label:"xl",value:"xl"},{label:"lg",value:"lg"},{label:"md",value:""},{label:"sm",value:"sm"}]}]}onchange(N){const{name:K,value:X}=N;this.board[K]=X}onclick({}){}actionEdit(N=null){}delete(N){}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275cmp=e.Xpm({type:U,selectors:[["gt-board-edit"]],inputs:{board:"board"},decls:19,vars:2,consts:function(){let Y,N,K,X,W;return Y=" Index ",N=" Category ",K=" Description ",X=" Operation ",W=" Add ",[[3,"formList","formChange","formClick"],[1,"table","table-bordered","m-0"],[1,"text-truncate",2,"width","3.8em"],Y,[1,"text-truncate",2,"width","4em"],N,[1,"text-truncate"],K,[1,"text-truncate",2,"width","5em"],X,[4,"ngFor","ngForOf"],[1,"d-grid","gap-2","mt-2"],[1,"btn","btn-light",3,"click"],W,["scope","row"],[1,"text-truncate",3,"title"],["title","Edit",1,"gt-icon",2,"cursor","pointer",3,"click"],["title","Remove",1,"gt-icon",2,"cursor","pointer",3,"click"]]},template:function(N,K){1&N&&(e.TgZ(0,"properties-form",0),e.NdJ("formChange",function(W){return K.onchange(W)})("formClick",function(W){return K.onclick(W)}),e.qZA(),e.TgZ(1,"p"),e._uU(2,"Actions"),e.qZA(),e.TgZ(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),e.SDv(7,3),e.qZA(),e.TgZ(8,"th",4),e.SDv(9,5),e.qZA(),e.TgZ(10,"th",6),e.SDv(11,7),e.qZA(),e.TgZ(12,"th",8),e.SDv(13,9),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,t,12,4,"tr",10),e.qZA()(),e.TgZ(16,"div",11)(17,"button",12),e.NdJ("click",function(){return K.actionEdit()}),e.SDv(18,13),e.qZA()()),2&N&&(e.Q6J("formList",K.formList),e.xp6(15),e.Q6J("ngForOf",K.actions))},dependencies:[l.sg,j.q],encapsulation:2,changeDetection:0}),U})()},4443:(Ze,Te,i)=>{"use strict";i.d(Te,{F:()=>s});var e=i(4650),l=i(3290),j=i(6344),t=i(3430);let s=(()=>{class U{constructor(N,K,X){this.events=N,this.cdr=K,this.configList=X,this.openDialog=new e.vpe}set gtNode(N){this._gtNode=N,this.formList=this.getFormList()}get gtNode(){return this._gtNode}getFormList(){return this.configList.get(this.gtNode.type).get(this.type).map(N=>({...N,value:this.gtNode[this.type][N.name],inherit:this.gtNode.template?!Object.prototype.hasOwnProperty.call(this.gtNode[this.type],N.name):void 0}))}onclick({formItem:N,formControl:K}){this.openDialog.emit({type:this.type,gtNode:this.gtNode,args:[N.name,K.value],cb:X=>this.onchange({formItem:{...N,value:X},formControl:K})})}inheritClick({formItem:N,formControl:K}){if(!1===N.inherit){const X=this.gtNode[this.type][N.name];Reflect.deleteProperty(this.gtNode[this.type],N.name),K.reset(this.gtNode[this.type][N.name],{emitEvent:!1}),this.events["CHANGE_"+this.type.toUpperCase()].next({name:N.name,value:void 0,previousValue:X,gtNode:this.gtNode}),N.inherit=!0,this.cdr.markForCheck()}}onchange({formItem:N,formControl:K}){const{name:X,value:W}=N,O=this.gtNode[this.type][X];this.gtNode[this.type][X]=W,this.events["CHANGE_"+this.type.toUpperCase()].next({name:X,value:W,previousValue:O,gtNode:this.gtNode}),this.gtNode.template&&(N.inherit=!1),void 0!==N.inherit&&(N.inherit=!this.gtNode[this.type].hasOwnProperty(X)),K.setValue(N.value,{emitEvent:!1,onlySelf:!0}),this.cdr.markForCheck()}dataBind({formItem:N,formControl:K}){this.openDialog.emit({type:this.type,gtNode:this.gtNode,args:["bindData",N.name,K.value],cb:X=>this.onchange({formItem:{...N,value:X},formControl:K})})}}return U.\u0275fac=function(N){return new(N||U)(e.Y36(t.n),e.Y36(e.sBO),e.Y36(l.a))},U.\u0275cmp=e.Xpm({type:U,selectors:[["gt-panel-config"]],viewQuery:function(N,K){if(1&N&&e.Gf(j.q,7),2&N){let X;e.iGM(X=e.CRH())&&(K.formComp=X.first)}},inputs:{type:"type",gtNode:"gtNode"},outputs:{openDialog:"openDialog"},decls:1,vars:1,consts:[[3,"formList","formChange","formClick","dataBindClick","inheritClick"]],template:function(N,K){1&N&&(e.TgZ(0,"properties-form",0),e.NdJ("formChange",function(W){return K.onchange(W)})("formClick",function(W){return K.onclick(W)})("dataBindClick",function(W){return K.dataBind(W)})("inheritClick",function(W){return K.inheritClick(W)}),e.qZA()),2&N&&e.Q6J("formList",K.formList)},dependencies:[j.q],encapsulation:2,changeDetection:0}),U})()},7807:(Ze,Te,i)=>{"use strict";i.d(Te,{O:()=>p});var e=i(3555),l=i(4650),j=i(433),t=i(8403),s=i(6895),U=i(6704),Y=i(7707);const N=["dropdown"];function K(a,m){if(1&a){const f=l.EpF();l.TgZ(0,"li",15)(1,"h6",16),l._uU(2,"Input"),l.qZA(),l.TgZ(3,"gt-panel-form",17),l.NdJ("formChange",function(v){l.CHM(f);const te=l.oxw().$implicit,ae=l.oxw();return l.KtG(ae.formChange(v,te,"input"))})("expressionClick",function(v){l.CHM(f);const te=l.oxw(2);return l.KtG(te.editExpression(v))}),l.qZA()()}if(2&a){const f=l.oxw().$implicit;l.xp6(3),l.Q6J("formList",f.form.input)}}function X(a,m){if(1&a){const f=l.EpF();l.TgZ(0,"li",15)(1,"h6",16),l._uU(2,"Output"),l.qZA(),l.TgZ(3,"gt-panel-form",17),l.NdJ("formChange",function(v){l.CHM(f);const te=l.oxw().$implicit,ae=l.oxw();return l.KtG(ae.formChange(v,te,"output"))})("expressionClick",function(v){l.CHM(f);const te=l.oxw(2);return l.KtG(te.editExpression(v))}),l.qZA()()}if(2&a){const f=l.oxw().$implicit;l.xp6(3),l.Q6J("formList",f.form.output)}}function W(a,m){if(1&a){const f=l.EpF();l.TgZ(0,"div",6)(1,"div",7)(2,"div",8),l._uU(3),l.TgZ(4,"div",9)(5,"button",10)(6,"i",11),l._uU(7,"list"),l.qZA()(),l.TgZ(8,"button",12),l.NdJ("click",function(){const te=l.CHM(f).$implicit,ae=l.oxw();return l.KtG(ae.removeValidator(te))}),l.TgZ(9,"i",11),l._uU(10,"close"),l.qZA()()()()(),l.TgZ(11,"ul",13),l.YNc(12,K,4,1,"li",14),l.YNc(13,X,4,1,"li",14),l.qZA()()}if(2&a){const f=m.$implicit;l.xp6(3),l.hij(" ",f.title," "),l.xp6(9),l.Q6J("ngIf",f.form.input),l.xp6(1),l.Q6J("ngIf",f.form.output)}}const O=[{text:"if"},{text:"for"}];let p=(()=>{class a{constructor(f){this.cdr=f,this.openDialog=new l.vpe,this.directives=[],this.directiveTypes=O}set gtNode(f){this.directives=f.directive.map(({type:I,value:v})=>this.getDirective(I,v)),this._gtNode=f}get gtNode(){return this._gtNode}formChange(f,I,v){f.valid&&(I.value[v]=f.value,this.updateGtNodeValidator())}getDirective(f,I={}){switch(f){case"if":return{title:f,form:{input:[{type:"text",name:"default",value:I.input?.default,expression:!0,validators:j.kI.required}]},value:{}};case"for":return{title:f,form:{input:[{type:"text",name:"default",value:I.input?.default,expression:!0,validators:j.kI.required}],output:[{type:"text",name:"index",value:I.output?.index},{type:"text",name:"item",value:I.output?.item}],export:[]},value:{}};default:throw new Error}}addDirective(f){this.directives.push(this.getDirective(f)),this.updateGtNodeValidator()}removeValidator(f){this.directives.splice(this.directives.indexOf(f),1),this.updateGtNodeValidator()}updateGtNodeValidator(){this.gtNode.directive=this.directives.map(f=>({needTemplate:!0,type:f.title,value:f.value}))}editExpression(f){this.openDialog.emit({type:"expression",args:[f.control.value instanceof t.Sl?f.control.value.data:void 0],cb:v=>{f.control.setValue(new t.Sl(v)),this.cdr.markForCheck()}})}dropped(f){(0,e.bA)(this.directives,f.previousIndex,f.currentIndex),this.updateGtNodeValidator()}}return a.\u0275fac=function(f){return new(f||a)(l.Y36(l.sBO))},a.\u0275cmp=l.Xpm({type:a,selectors:[["gt-panel-directive"]],viewQuery:function(f,I){if(1&f&&l.Gf(N,7),2&f){let v;l.iGM(v=l.CRH())&&(I.dropdown=v.first)}},inputs:{gtNode:"gtNode"},outputs:{openDialog:"openDialog"},decls:6,vars:2,consts:function(){let m;return m=" Add ",[["cdkDropList","",3,"cdkDropListDropped"],["class","card mb-3 transform","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],[1,"d-grid","gap-2","mt-2"],["gt-dropdown","",1,"btn","btn-light",3,"items","itemClick"],["dropdownButton",""],m,["cdkDrag","","cdkDragLockAxis","y",1,"card","mb-3","transform"],[1,"card-header"],[1,"d-flex","justify-content-between"],[1,"btn-group","btn-group-sm"],["cdkDragHandle","",1,"btn","btn-light","btn-sm"],[1,"gt-icon"],[1,"btn","btn-light","btn-sm",3,"click"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngIf"],[1,"list-group-item"],[1,"card-title","text-center"],[3,"formList","formChange","expressionClick"]]},template:function(f,I){1&f&&(l.TgZ(0,"div",0),l.NdJ("cdkDropListDropped",function(te){return I.dropped(te)}),l.YNc(1,W,14,3,"div",1),l.qZA(),l.TgZ(2,"div",2)(3,"button",3,4),l.NdJ("itemClick",function(te){return I.addDirective(te.text)}),l.SDv(5,5),l.qZA()()),2&f&&(l.xp6(1),l.Q6J("ngForOf",I.directives),l.xp6(2),l.Q6J("items",I.directiveTypes))},dependencies:[s.sg,s.O5,e.Wj,e.Zt,e.Bh,U.w,Y.U],encapsulation:2}),a})()},3547:(Ze,Te,i)=>{"use strict";i.d(Te,{J:()=>X});var e=i(3555),l=i(4650),j=i(6895),t=i(6344),s=i(6704),U=i(2851);const Y=["dropdown"];function N(O,p){if(1&O){const a=l.EpF();l.TgZ(0,"gt-panel-card",5),l.NdJ("removeItem",function(){const I=l.CHM(a).$implicit,v=l.oxw();return l.KtG(v.removeValidator(I))}),l.TgZ(1,"properties-form",6),l.NdJ("formChange",function(f){const v=l.CHM(a).$implicit,te=l.oxw();return l.KtG(te.formChange(v,f))}),l.qZA()()}if(2&O){const a=p.$implicit;l.Q6J("item",a),l.xp6(1),l.Q6J("formList",a.formList)}}const K=[{text:"min"},{text:"max"},{text:"required"},{text:"requiredTrue"},{text:"email"},{text:"minLength"},{text:"maxLength"},{text:"pattern"}];let X=(()=>{class O{constructor(){this.validators=[],this.validatorTypes=K}set gtNode(a){this._gtNode=a,this.validators=a.validator.map(({type:m,value:f})=>({title:m,formList:W(m,f),value:f}))}get gtNode(){return this._gtNode}formChange(a,m){a.value=m.formControl.root.value,this.updateGtNodeValidator()}addValidator(a){const m=W(a);this.validators.push({title:a,formList:m,value:{}}),this.updateGtNodeValidator()}removeValidator(a){this.validators.splice(this.validators.indexOf(a),1),this.updateGtNodeValidator()}updateGtNodeValidator(){this.gtNode.validator=this.validators.map(a=>({type:a.title,value:a.value}))}dropped(a){(0,e.bA)(this.validators,a.previousIndex,a.currentIndex),(0,e.bA)(this.gtNode.validator,a.previousIndex,a.currentIndex)}}return O.\u0275fac=function(a){return new(a||O)},O.\u0275cmp=l.Xpm({type:O,selectors:[["gt-panel-validator"]],viewQuery:function(a,m){if(1&a&&l.Gf(Y,7),2&a){let f;l.iGM(f=l.CRH())&&(m.dropdown=f.first)}},inputs:{gtNode:"gtNode"},decls:5,vars:2,consts:function(){let p;return p=" Add ",[["cdkDropList","",3,"cdkDropListDropped"],[3,"item","removeItem",4,"ngFor","ngForOf"],[1,"d-grid","gap-2","mt-2"],["gt-dropdown","",1,"btn","btn-light",3,"items","itemClick"],p,[3,"item","removeItem"],[3,"formList","formChange"]]},template:function(a,m){1&a&&(l.TgZ(0,"div",0),l.NdJ("cdkDropListDropped",function(I){return m.dropped(I)}),l.YNc(1,N,2,2,"gt-panel-card",1),l.qZA(),l.TgZ(2,"div",2)(3,"button",3),l.NdJ("itemClick",function(I){return m.addValidator(I.text)}),l.SDv(4,4),l.qZA()()),2&a&&(l.xp6(1),l.Q6J("ngForOf",m.validators),l.xp6(2),l.Q6J("items",m.validatorTypes))},dependencies:[j.sg,t.q,e.Wj,s.w,U.A],encapsulation:2}),O})();function W(O,p={}){switch(O){case"min":return[{type:"number",name:"min",value:p.min},{type:"text",name:"errorText",value:p.errorText}];case"max":return[{type:"number",name:"max",value:p.max},{type:"text",name:"errorText",value:p.errorText}];case"required":case"requiredTrue":case"email":default:return[{type:"text",name:"errorText",value:p.errorText}];case"minLength":return[{type:"number",name:"minLength",value:p.minLength},{type:"text",name:"errorText",value:p.errorText}];case"maxLength":return[{type:"number",name:"maxLength",value:p.maxLength},{type:"text",name:"errorText",value:p.errorText}];case"pattern":return[{type:"text",name:"pattern",value:p.pattern},{type:"text",name:"errorText",value:p.errorText}]}}},6941:(Ze,Te,i)=>{"use strict";i.d(Te,{L:()=>X});var e=i(4650),l=i(433),j=i(8403),t=i(6895),s=i(7707);const U=["editTemplate"];function Y(W,O){if(1&W){const p=e.EpF();e.TgZ(0,"div")(1,"div",14)(2,"label",15),e.SDv(3,16),e.qZA(),e.TgZ(4,"div",17),e._uU(5),e.qZA()(),e.TgZ(6,"div",14)(7,"label",15),e.SDv(8,18),e.qZA(),e.TgZ(9,"div",17),e._uU(10),e.qZA()(),e.TgZ(11,"div",14)(12,"label",15),e.SDv(13,19),e.qZA(),e.TgZ(14,"div",17),e._uU(15),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){e.CHM(p);const m=e.oxw().$implicit,f=e.oxw();return e.KtG(f.editingVariable=m)}),e.SDv(17,20),e.qZA(),e.TgZ(18,"button",10),e.NdJ("click",function(){e.CHM(p);const m=e.oxw().$implicit,f=e.oxw();return e.KtG(f.removeVariable(m))}),e.SDv(19,21),e.qZA()()}if(2&W){const p=e.oxw().$implicit;e.xp6(5),e.Oqu(p.name),e.xp6(5),e.Oqu(p.type),e.xp6(5),e.Oqu(p.value)}}function N(W,O){if(1&W){const p=e.EpF();e.TgZ(0,"div")(1,"gt-panel-form",22,23),e.NdJ("expressionClick",function(m){e.CHM(p);const f=e.oxw(2);return e.KtG(f.editExpression(m))}),e.qZA(),e.TgZ(3,"button",10),e.NdJ("click",function(){e.CHM(p);const m=e.MAs(2),f=e.oxw().$implicit,I=e.oxw();return e.KtG(I.finishEdit(m.formGroup,f))}),e.SDv(4,24),e.qZA()()}if(2&W){const p=e.oxw().$implicit,a=e.oxw();e.xp6(1),e.Q6J("formList",a.formList)("value",p)}}function K(W,O){if(1&W&&(e.TgZ(0,"li",12),e.YNc(1,Y,20,3,"div",13),e.YNc(2,N,5,2,"div",13),e.qZA()),2&W){const p=O.$implicit,a=e.oxw();e.xp6(1),e.Q6J("ngIf",p!==a.editingVariable),e.xp6(1),e.Q6J("ngIf",p===a.editingVariable)}}let X=(()=>{class W{constructor(p){this.cdr=p,this.editingVariable=null,this.openDialog=new e.vpe,this.formList=[{label:"\u53d8\u91cf\u540d",name:"name",type:"text",validators:l.kI.required},{label:"\u6570\u636e\u7c7b\u578b",name:"type",type:"select",validators:l.kI.required,options:[{label:"Boolean",value:"Boolean"},{label:"String",value:"String"},{label:"Number",value:"Number"},{label:"Null",value:"Null"}]},{label:"\u53d8\u91cf\u503c",name:"value",type:"text",validators:l.kI.required,expression:!0}]}set gtNode(p){this._gtNode=p,this.variableName=p.variableName,this.variables=p.variable}get gtNode(){return this._gtNode}variableNameChange(){this.gtNode.variableName=this.variableName}addVariable(p){if(p.invalid)return void Object.values(p.controls).forEach(m=>m.markAsTouched());const a=this.normalizeVariable(p.value);if(a){if(this.gtNode.variable.find(({name:m})=>m===a.name))return void p.get("name")?.setErrors({text:"\u53d8\u91cf\u540d\u51b2\u7a81"});this.gtNode.variable.push(a),p.reset()}}normalizeVariable(p){switch(p.value instanceof j.Sl&&(p.type="DataBinding"),p.type){case"Boolean":p.value=!!p.value;break;case"String":p.value=String(p.value);break;case"Number":p.value=Number(p.value);break;case"Null":p.value=null;break;case"DataBinding":break;default:return null}return{...p}}removeVariable(p){this.gtNode.variable.splice(this.gtNode.variable.indexOf(p),1)}finishEdit(p,a){if(p.invalid)return void Object.values(p.controls).forEach(f=>f.markAsTouched());const m=this.normalizeVariable(p.value);if(m){if(this.gtNode.variable.find(I=>I!==a&&I.name===m.name))return void p.get("name")?.setErrors({text:"\u53d8\u91cf\u540d\u51b2\u7a81"});const f=this.gtNode.variable.indexOf(a);this.gtNode.variable.splice(f,1,m),this.editingVariable=null}}editExpression(p){this.openDialog.emit({type:"expression",args:[p.control.value instanceof j.Sl?p.control.value.data:void 0],cb:m=>{p.control.setValue(new j.Sl(m)),this.cdr.markForCheck()}})}}return W.\u0275fac=function(p){return new(p||W)(e.Y36(e.sBO))},W.\u0275cmp=e.Xpm({type:W,selectors:[["gt-panel-variable"]],viewQuery:function(p,a){if(1&p&&e.Gf(U,7),2&p){let m;e.iGM(m=e.CRH())&&(a.editTemplate=m.first)}},inputs:{gtNode:"gtNode"},outputs:{openDialog:"openDialog"},decls:12,vars:3,consts:function(){let O,p,a,m,f,I,v,te;return O=" Component Variable Name ",p="Add",a="Variable Name",m="Data Type",f="Value",I="Edit",v=" Remove ",te=" Finish ",[[1,"card"],[1,"card-header"],[1,"card-title"],O,["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item","bg-secondary-subtle"],[3,"formList","expressionClick"],["form",""],["type","button",1,"btn","btn-link",3,"click"],p,[1,"list-group-item"],[4,"ngIf"],[1,"mb-3"],[1,"form-label"],a,[1,"form-control"],m,f,I,v,[3,"formList","value","expressionClick"],["editForm",""],te]},template:function(p,a){if(1&p){const m=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.SDv(3,3),e.qZA(),e.TgZ(4,"input",4),e.NdJ("ngModelChange",function(I){return a.variableName=I})("ngModelChange",function(){return a.variableNameChange()}),e.qZA()(),e.TgZ(5,"ul",5),e.YNc(6,K,3,2,"li",6),e.TgZ(7,"li",7)(8,"gt-panel-form",8,9),e.NdJ("expressionClick",function(I){return a.editExpression(I)}),e.qZA(),e.TgZ(10,"button",10),e.NdJ("click",function(){e.CHM(m);const I=e.MAs(9);return e.KtG(a.addVariable(I.formGroup))}),e.SDv(11,11),e.qZA()()()()}2&p&&(e.xp6(4),e.Q6J("ngModel",a.variableName),e.xp6(2),e.Q6J("ngForOf",a.variables),e.xp6(2),e.Q6J("formList",a.formList))},dependencies:[t.sg,t.O5,l.Fj,l.JJ,l.On,s.U],encapsulation:2}),W})()},6344:(Ze,Te,i)=>{"use strict";i.d(Te,{q:()=>Ue});var e=i(4650),l=i(433),j=i(6451),t=i(8372),s=i(8505),U=i(7579);let Y=(()=>{class z{constructor(){this.buttonClick=new U.x}}return z.\u0275fac=function(M){return new(M||z)},z.\u0275prov=e.Yz7({token:z,factory:z.\u0275fac}),z})();var N=i(8403),K=i(727),X=i(9646),W=i(4004),O=i(1884),p=i(4080),a=i(5698),m=i(8184),f=i(6895),I=i(7521);let v=(()=>{class z{constructor(M,$,_e,ke,je){this.overlay=M,this.elementRef=$,this.formItem=_e,this.formControl=ke,this.formGroup=je,this.color="transparent",this.onchange=new e.vpe}set value(M){this.color=M||""}showColorPicker(){const M=this.overlay.create({width:"16rem",hasBackdrop:!0,backdropClass:"",disposeOnNavigation:!0,positionStrategy:this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:8},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:8},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetY:-8},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-8}])});M.backdropClick().subscribe(()=>M.dispose()),M.attach(new p.C5(I.KY)).instance.onChangeComplete.subscribe(_e=>{const{r:ke,g:je,b:at,a:ct}=_e.color.rgb,ut=1===ct?_e.color.hex:`rgba(${ke}, ${je}, ${at}, ${ct})`;this.color=ut,this.formControl.setValue(ut)})}valueChange(M){}}return z.\u0275fac=function(M){return new(M||z)(e.Y36(m.aV),e.Y36(e.SBq),e.Y36("FormItem"),e.Y36(l.NI),e.Y36(l.cw))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-color"]],inputs:{disabled:"disabled",value:"value"},outputs:{onchange:"onchange"},decls:5,vars:7,consts:[[1,"input-group",2,"flex-wrap","nowrap",3,"formGroup"],[1,"input-group-text"],["type","hidden",3,"formControlName","ngModelChange"],[1,"form-control","text-truncate",2,"height","calc(2.5rem - 2px)",3,"click"]],template:function(M,$){1&M&&(e.TgZ(0,"div",0),e._UZ(1,"span",1),e.TgZ(2,"input",2),e.NdJ("ngModelChange",function(ke){return $.valueChange(ke)}),e.qZA(),e.TgZ(3,"div",3),e.NdJ("click",function(){return $.showColorPicker()}),e._uU(4),e.qZA()()),2&M&&(e.Q6J("formGroup",$.formGroup),e.xp6(1),e.Udp("background-color",$.formControl.value||"transparent"),e.xp6(1),e.Q6J("formControlName",$.formItem.name),e.xp6(1),e.ekj("disabled",$.disabled),e.xp6(1),e.hij(" ",$.formControl.value," "))},dependencies:[l.Fj,l.JJ,l.JL,l.sg,l.u],encapsulation:2}),z})();const te=["dropdown"];function ae(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"li",14),e.NdJ("click",function(){const ke=e.CHM(M).$implicit,je=e.oxw().type,at=e.oxw();return e.KtG(at.changeDropdown(je,ke))}),e.TgZ(1,"a",15),e._uU(2),e.qZA()()}if(2&z){const M=me.$implicit,$=e.oxw().active;e.ekj("active",M===$),e.xp6(1),e.ekj("active",M===$),e.xp6(1),e.Oqu(M)}}function Se(z,me){if(1&z&&(e.TgZ(0,"ul",12),e.YNc(1,ae,3,5,"li",13),e.qZA()),2&z){const M=me.items;e.xp6(1),e.Q6J("ngForOf",M)}}let Ee=(()=>{class z{constructor(M,$,_e,ke,je){this.overlay=M,this.vcr=$,this.formItem=_e,this.formControl=ke,this.formGroup=je,this.onchange=new e.vpe,this.overlayRef=null,this.units=["px","%","em"],this.active="",this.border={left:"1px solid #ccc",top:"2px dashed #000",right:"3px dotted pink",bottom:"3px none red",all:"3px dashed #123456"},this.borderStyles=["solid","dashed","dotted","none"],this.borderIconMap={solid:"solid_line",dashed:"dashed_line",dotted:"dotted_line",none:"close"}}set value(M){this.border=M||{}}switchBorder(M){this.active=M;const $=this.border[M]?this.border[M].split(" "):[];if($[0]){const _e=$[0].match(/\d*/);this.borderWidth=_e?_e[0]:null,this.borderUnit=$[0].replace(/\d*/,"")}else this.borderWidth=null,this.borderUnit=null;this.borderStyle=$[1]||"none",this.borderColor=$[2]}changeColor(M){this.borderColor=M,this.change()}changeWidth(M){this.borderWidth=M,this.change()}changeStyle(M){"none"===M?(this.borderWidthDisabled=!0,this.borderColorDisabled=!0):(this.borderWidthDisabled=!1,this.borderColorDisabled=!1),this.borderStyle=M.value,this.change()}change(){this.border[this.active]=[this.borderWidth+this.borderUnit,this.borderStyle,this.borderColor].join(" "),this.formItem.value=this.border,this.formGroup.get(this.formItem.name).setValue(this.formItem.value),this.onchange.emit(this.border)}showDropdown(M,$){const _e={type:$};switch($){case"borderStyle":_e.items=this.borderStyles,_e.active=this.borderStyle;break;case"borderUnit":_e.items=this.units,_e.active=this.borderUnit}const ke=new p.UE(this.dropdown,this.vcr,_e);this.overlayRef=this.overlay.create({hasBackdrop:!0,backdropClass:"",disposeOnNavigation:!0,positionStrategy:this.overlay.position().flexibleConnectedTo(M.target).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}),this.overlayRef.attach(ke),this.overlayRef.backdropClick().pipe((0,a.q)(1)).subscribe(()=>{this.overlayRef.dispose(),this.overlayRef=null})}changeDropdown(M,$){switch(M){case"borderStyle":this.borderStyle=$;break;case"borderUnit":this.borderUnit=$}this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null),this.change()}}return z.\u0275fac=function(M){return new(M||z)(e.Y36(m.aV),e.Y36(e.s_b),e.Y36("FormItem"),e.Y36(l.NI),e.Y36(l.cw))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-border"]],viewQuery:function(M,$){if(1&M&&e.Gf(te,5),2&M){let _e;e.iGM(_e=e.CRH())&&($.dropdown=_e.first)}},inputs:{value:"value"},outputs:{onchange:"onchange"},decls:16,vars:18,consts:[[1,"border-box","mb-2"],[1,"border-item","border-all",3,"click"],[1,"border-item","border-left",3,"click"],[1,"border-item","border-top",3,"click"],[1,"border-item","border-right",3,"click"],[1,"border-item","border-bottom",3,"click"],[1,"mb-2","input-group","input-group-sm",2,"flex-wrap","nowrap"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],[1,"gt-icon"],["type","text","title","","size","1","name","",1,"form-control",3,"disabled","ngModel","ngModelChange"],[3,"value","disabled","onchange"],["dropdown",""],[1,"dropdown-menu",2,"display","block","min-width","auto","position","static"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],["href","javascript:void(0)",1,"dropdown-item"]],template:function(M,$){1&M&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return $.switchBorder("all")}),e.qZA(),e.TgZ(2,"div",2),e.NdJ("click",function(){return $.switchBorder("left")}),e.qZA(),e.TgZ(3,"div",3),e.NdJ("click",function(){return $.switchBorder("top")}),e.qZA(),e.TgZ(4,"div",4),e.NdJ("click",function(){return $.switchBorder("right")}),e.qZA(),e.TgZ(5,"div",5),e.NdJ("click",function(){return $.switchBorder("bottom")}),e.qZA()(),e.TgZ(6,"div",6)(7,"button",7),e.NdJ("click",function(ke){return $.showDropdown(ke,"borderStyle")}),e.TgZ(8,"i",8),e._uU(9),e.qZA()(),e.TgZ(10,"input",9),e.NdJ("ngModelChange",function(ke){return $.borderWidth=ke})("ngModelChange",function(){return $.changeWidth($.borderWidth)}),e.qZA(),e.TgZ(11,"button",7),e.NdJ("click",function(ke){return $.showDropdown(ke,"borderUnit")}),e._uU(12),e.qZA()(),e.TgZ(13,"properties-color",10),e.NdJ("onchange",function(ke){return $.changeColor(ke)}),e.qZA(),e.YNc(14,Se,2,1,"ng-template",null,11,e.W1O)),2&M&&(e.xp6(1),e.ekj("active","all"===$.active),e.xp6(1),e.ekj("active","left"===$.active),e.xp6(1),e.ekj("active","top"===$.active),e.xp6(1),e.ekj("active","right"===$.active),e.xp6(1),e.ekj("active","bottom"===$.active),e.xp6(2),e.Q6J("disabled",!$.active),e.xp6(2),e.Oqu($.borderIconMap[$.borderStyle]),e.xp6(1),e.Q6J("disabled",!$.active||"none"===$.borderStyle)("ngModel",$.borderWidth),e.xp6(1),e.Q6J("disabled",!$.active||"none"===$.borderStyle),e.xp6(1),e.hij(" ",$.borderUnit," "),e.xp6(1),e.Q6J("value",$.borderColor)("disabled",!$.active||"none"===$.borderStyle))},dependencies:[f.sg,l.Fj,l.JJ,l.On,v],encapsulation:2}),z})(),Ce=(()=>{class z{constructor(M,$){this.formControlService=M,this.formItem=$,this.buttonClick=new e.vpe}}return z.\u0275fac=function(M){return new(M||z)(e.Y36(Y),e.Y36("FormItem"))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-button"]],outputs:{buttonClick:"buttonClick"},decls:2,vars:0,consts:[["type","button",1,"btn","btn-light",3,"click"]],template:function(M,$){1&M&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return $.formControlService.buttonClick.next($.formItem)}),e._uU(1," \u7f16\u8f91 "),e.qZA())},encapsulation:2}),z})(),k=(()=>{class z{constructor(M,$){this.formItem=M,this.formControl=$,this.dataReset=new e.vpe}}return z.\u0275fac=function(M){return new(M||z)(e.Y36("FormItem"),e.Y36(l.NI))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-data-binding"]],outputs:{dataReset:"dataReset"},decls:5,vars:1,consts:[[1,"input-group"],["type","text","disabled","",1,"form-control",3,"value"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"gt-icon"]],template:function(M,$){1&M&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return $.formControl.reset()}),e.TgZ(3,"i",3),e._uU(4,"close"),e.qZA()()()),2&M&&(e.xp6(1),e.Q6J("value","\u6570\u636e\u7ed1\u5b9a\u4e2d"))},encapsulation:2}),z})();function ee(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"input",1),e.NdJ("change",function(_e){const je=e.CHM(M).index,at=e.oxw();return e.KtG(at._onchange(_e.target.value,je))}),e.qZA()}if(2&z){const M=me.$implicit,$=me.index,_e=e.oxw();e.Q6J("value",M.value)("disabled",$&&!_e.values[$-1].value.trim())}}let le=(()=>{class z{constructor(M,$,_e){this.formItem=M,this.formControl=$,this.formGroup=_e}get values(){const M=(""+(this.formControl.value||"")).split(" ");return[{value:M[0]?M[0].match(/(-|\d)+/)[0]:""},{value:M[1]?M[1].match(/(-|\d)+/)[0]:""},{value:M[2]?M[2].match(/(-|\d)+/)[0]:""},{value:M[3]?M[3].match(/(-|\d)+/)[0]:""}]}_onchange(M,$){this.values[$].value=M,this.formItem.value=this.values.reduce((_e,{value:ke})=>0==+ke?_e+ke+" ":_e+ke+"px ","").trim(),this.formControl.setValue(this.formItem.value)}}return z.\u0275fac=function(M){return new(M||z)(e.Y36("FormItem"),e.Y36(l.NI),e.Y36(l.cw))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-four-numbers"]],hostAttrs:[1,"input-group"],decls:1,vars:1,consts:[["class","form-control","title","","type","number","pattern","[0-9]*",3,"value","disabled","change",4,"ngFor","ngForOf"],["title","","type","number","pattern","[0-9]*",1,"form-control",3,"value","disabled","change"]],template:function(M,$){1&M&&e.YNc(0,ee,1,2,"input",0),2&M&&e.Q6J("ngForOf",$.values)},dependencies:[f.sg],encapsulation:2}),z})();function fe(z,me){if(1&z&&(e.TgZ(0,"option",2),e._UZ(1,"i"),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&z){const M=me.$implicit;e.Q6J("ngValue",M.value),e.xp6(1),e.Tol("fa fa-"+M.value),e.xp6(2),e.Oqu(M.value)}}let T=(()=>{class z{constructor(M,$,_e){this.formItem=M,this.formControl=$,this.formGroup=_e}}return z.\u0275fac=function(M){return new(M||z)(e.Y36("FormItem"),e.Y36(l.NI),e.Y36(l.cw))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-icon"]],decls:2,vars:2,consts:[[1,"form-select",3,"formControlName"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(M,$){1&M&&(e.TgZ(0,"select",0),e.YNc(1,fe,4,4,"option",1),e.qZA()),2&M&&(e.Q6J("formControlName",$.formItem.name),e.xp6(1),e.Q6J("ngForOf",$.formItem.options))},dependencies:[f.sg,l.YN,l.Kr,l.EJ,l.JJ,l.u],encapsulation:2}),z})();function V(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"input",4),e.NdJ("wheel",function(_e){e.CHM(M);const ke=e.oxw();return e.KtG(ke.onwheel(_e))})("ngModelChange",function(_e){e.CHM(M);const ke=e.oxw();return e.KtG(ke.setValue(_e))}),e.qZA()}if(2&z){const M=e.oxw();e.Q6J("formControlName",M.formItem.name)}}function Q(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"input",5),e.NdJ("wheel",function(_e){e.CHM(M);const ke=e.oxw();return e.KtG(ke.onwheel(_e))})("ngModelChange",function(_e){e.CHM(M);const ke=e.oxw();return e.KtG(ke.setValue(_e))}),e.qZA()}if(2&z){const M=e.oxw();e.Q6J("type",M.formItem.type)("formControlName",M.formItem.name)}}let Oe=(()=>{class z{constructor(M,$,_e){this.formItem=M,this.formControl=$,this.formGroup=_e}onwheel(M){document.activeElement===M.target&&(M.preventDefault(),"number"===this.formItem.type&&this.formControl.setValue(Number(this.formControl.value)-Math.sign(M.deltaY)))}setValue(M){}}return z.\u0275fac=function(M){return new(M||z)(e.Y36("FormItem"),e.Y36(l.NI),e.Y36(l.cw))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-input"]],decls:4,vars:3,consts:[[3,"formGroup"],[3,"ngSwitch"],["type","number","class","form-control","title","","autocomplete","off","pattern","[0-9]*",3,"formControlName","wheel","ngModelChange",4,"ngSwitchCase"],["class","form-control","title","","autocomplete","off",3,"type","formControlName","wheel","ngModelChange",4,"ngSwitchDefault"],["type","number","title","","autocomplete","off","pattern","[0-9]*",1,"form-control",3,"formControlName","wheel","ngModelChange"],["title","","autocomplete","off",1,"form-control",3,"type","formControlName","wheel","ngModelChange"]],template:function(M,$){1&M&&(e.ynx(0,0)(1,1),e.YNc(2,V,1,1,"input",2),e.YNc(3,Q,1,2,"input",3),e.BQk()()),2&M&&(e.Q6J("formGroup",$.formGroup),e.xp6(1),e.Q6J("ngSwitch",$.formItem.type),e.xp6(1),e.Q6J("ngSwitchCase","number"))},dependencies:[f.RF,f.n9,f.ED,l.Fj,l.wV,l.JJ,l.JL,l.c5,l.sg,l.u],encapsulation:2}),z})();function se(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"tr")(1,"td",5),e._uU(2),e.qZA(),e.TgZ(3,"td",5),e._uU(4),e.qZA(),e.TgZ(5,"td",6)(6,"a")(7,"i",4),e.NdJ("click",function(){const ke=e.CHM(M).$implicit,je=e.oxw();return e.KtG(je.deleteRow(ke))}),e._uU(8,"minus"),e.qZA()()()()}if(2&z){const M=me.$implicit;e.xp6(1),e.Q6J("title",M.key),e.xp6(1),e.Oqu(M.key),e.xp6(1),e.Q6J("title",M.value),e.xp6(1),e.Oqu(M.value)}}let C=(()=>{class z{constructor(){this.onchange=new e.vpe}add(){this.formItem.value[this.key]=this.value&&this.value.trim()||"",this.onchange.emit(this.formItem),this.key=this.value=""}deleteRow({key:M}){delete this.formItem.value[M],this.onchange.emit(this.formItem)}}return z.\u0275fac=function(M){return new(M||z)},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-object"]],inputs:{formItem:"formItem",relateList:"relateList"},outputs:{onchange:"onchange"},decls:20,vars:5,consts:[[1,"table","table-bordered","table-condensed","table-sm"],[2,"width","20px"],[4,"ngFor","ngForOf"],["type","text","title","",1,"form-control","input-xs",3,"ngModel","ngModelChange"],[1,"gt-icon",3,"click"],[1,"text-truncate",3,"title"],[2,"padding","4px"]],template:function(M,$){1&M&&(e.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th"),e._uU(4,"Key"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Value"),e.qZA(),e._UZ(7,"th",1),e.qZA()(),e.TgZ(8,"tbody"),e.YNc(9,se,9,4,"tr",2),e.ALo(10,"keyvalue"),e.TgZ(11,"tr")(12,"td")(13,"input",3),e.NdJ("ngModelChange",function(ke){return $.key=ke}),e.qZA()(),e.TgZ(14,"td")(15,"input",3),e.NdJ("ngModelChange",function(ke){return $.value=ke}),e.qZA()(),e.TgZ(16,"td")(17,"a")(18,"i",4),e.NdJ("click",function(){return $.add()}),e._uU(19,"plus"),e.qZA()()()()()()),2&M&&(e.xp6(9),e.Q6J("ngForOf",e.lcZ(10,3,$.formItem.value)),e.xp6(4),e.Q6J("ngModel",$.key),e.xp6(2),e.Q6J("ngModel",$.value))},dependencies:[f.sg,l.Fj,l.JJ,l.On,f.Nd],encapsulation:2}),z})();function c(z,me){if(1&z&&(e.TgZ(0,"option",2),e._uU(1),e.qZA()),2&z){const M=me.$implicit;e.Q6J("ngValue",M.value),e.xp6(1),e.hij(" ",M.label," ")}}let b=(()=>{class z{constructor(M,$,_e){this.formItem=M,this.formControl=$,this.formGroup=_e,this.onclick=new e.vpe}}return z.\u0275fac=function(M){return new(M||z)(e.Y36("FormItem"),e.Y36(l.NI),e.Y36(l.cw))},z.\u0275cmp=e.Xpm({type:z,selectors:[["property-select"]],outputs:{onclick:"onclick"},decls:4,vars:4,consts:[[1,"input-group",3,"formGroup"],[1,"form-select",3,"formControlName"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(M,$){1&M&&(e.TgZ(0,"div",0)(1,"select",1),e._UZ(2,"option",2),e.YNc(3,c,2,2,"option",3),e.qZA()()),2&M&&(e.Q6J("formGroup",$.formGroup),e.xp6(1),e.Q6J("formControlName",$.formItem.name),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(1),e.Q6J("ngForOf",$.formItem.options))},dependencies:[f.sg,l.YN,l.Kr,l.EJ,l.JJ,l.JL,l.sg,l.u],encapsulation:2}),z})();function q(z,me){if(1&z&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&z){const M=me.$implicit;e.xp6(1),e.Oqu(M.name)}}function ce(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"td",9),e.NdJ("dblclick",function(){e.CHM(M);const _e=e.oxw().$implicit,ke=e.oxw().index,je=e.oxw(2);return e.KtG(je.editMap[_e.prop+ke]=!0)}),e._uU(1),e.qZA()}if(2&z){const M=e.oxw().$implicit,$=e.oxw().$implicit;e.Q6J("title",$[M.prop]),e.xp6(1),e.hij(" ",$[M.prop]," ")}}function ue(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"td",10)(1,"input",11),e.NdJ("ngModelChange",function(_e){e.CHM(M);const ke=e.oxw().$implicit,je=e.oxw().$implicit;return e.KtG(je[ke.prop]=_e)})("blur",function(){e.CHM(M);const _e=e.oxw().$implicit,ke=e.oxw().index,je=e.oxw(2);return e.KtG(je.editMap[_e.prop+ke]=!1)}),e.qZA()()}if(2&z){const M=e.oxw().$implicit,$=e.oxw().$implicit;e.Q6J("title",$[M.prop]),e.xp6(1),e.Q6J("ngModel",$[M.prop])}}function Me(z,me){if(1&z&&(e.ynx(0),e.YNc(1,ce,2,2,"td",7),e.YNc(2,ue,2,2,"td",8),e.BQk()),2&z){const M=me.$implicit,$=e.oxw().index,_e=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!_e.editMap[M.prop+$]),e.xp6(1),e.Q6J("ngIf",_e.editMap[M.prop+$])}}function Pe(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"tr"),e.YNc(1,Me,3,2,"ng-container",2),e.TgZ(2,"td",5)(3,"a")(4,"i",6),e.NdJ("click",function(){const ke=e.CHM(M).$implicit,je=e.oxw(2);return e.KtG(je.delete(ke))}),e._uU(5,"minus"),e.qZA()()()()}if(2&z){const M=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",M.formItem.columns)}}function Fe(z,me){if(1&z&&(e.ynx(0),e.YNc(1,Pe,6,1,"tr",2),e.BQk()),2&z){const M=e.oxw();e.xp6(1),e.Q6J("ngForOf",M.formControl.value)}}function We(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"td")(1,"input",12),e.NdJ("change",function(_e){const je=e.CHM(M).index,at=e.oxw(2);return e.KtG(at._onchange(_e,je))}),e.qZA()()}if(2&z){const M=me.$implicit;e.xp6(1),e.Q6J("value",M.value)}}function et(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"tr"),e.YNc(1,We,2,1,"td",2),e.TgZ(2,"td",5)(3,"a")(4,"i",6),e.NdJ("click",function(){e.CHM(M);const _e=e.oxw();return e.KtG(_e.add())}),e._uU(5,"plus"),e.qZA()()()()}if(2&z){const M=e.oxw();e.xp6(1),e.Q6J("ngForOf",M.formItem.columns)}}let Le=(()=>{class z{constructor(M,$,_e){this.formItem=M,this.formControl=$,this.formGroup=_e,this.onclick=new e.vpe,this.editMap={}}add(){this.formItem.value.push(this.formItem.columns.reduce((M,$)=>(M[$.prop]=$.value,$.value=null,M),{})),this.formControl.setValue([...this.formItem.value])}delete(M){this.formItem.value.splice(this.formItem.value.indexOf(M),1),this.formItem.value=[...this.formItem.value],this.formControl.setValue(this.formItem.value)}_onchange(M,$){M.preventDefault(),M.stopPropagation(),this.formItem.columns[$].value=M.target.value,this.formControl.setValue(this.formItem.value)}}return z.\u0275fac=function(M){return new(M||z)(e.Y36("FormItem"),e.Y36(l.NI),e.Y36(l.cw))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-table"]],outputs:{onclick:"onclick"},decls:9,vars:3,consts:[[2,"overflow-x","auto","margin-bottom","10px"],[1,"table","table-bordered","table-condensed","table-sm",2,"margin","0"],[4,"ngFor","ngForOf"],[2,"width","20px"],[4,"ngIf"],[2,"padding","4px"],[1,"gt-icon",3,"click"],[3,"title","dblclick",4,"ngIf"],[3,"title",4,"ngIf"],[3,"title","dblclick"],[3,"title"],["title","","type","text","autofocus","",1,"form-control",3,"ngModel","ngModelChange","blur"],["type","text","title","",1,"form-control","input-xs",3,"value","change"]],template:function(M,$){1&M&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr"),e.YNc(4,q,2,1,"th",2),e._UZ(5,"th",3),e.qZA()(),e.TgZ(6,"tbody"),e.YNc(7,Fe,2,1,"ng-container",4),e.YNc(8,et,6,1,"tr",4),e.qZA()()()),2&M&&(e.xp6(4),e.Q6J("ngForOf",$.formItem.columns),e.xp6(3),e.Q6J("ngIf",$.formControl.value.length),e.xp6(1),e.Q6J("ngIf","button"!==$.formItem.tableAddType))},dependencies:[f.sg,f.O5,l.Fj,l.JJ,l.On],encapsulation:2}),z})(),Ye=(()=>{class z{constructor(M,$){this.viewContainerRef=M,this.injector=$}insert(M,$,_e=[],ke){const je=e.zs3.create({providers:_e,parent:this.injector});return this.viewContainerRef.createComponent($,{index:ke,injector:je})}move(M,$){$!==this.viewContainerRef.indexOf(M)&&this.viewContainerRef.move(M,$)}remove(M){this.viewContainerRef.remove(M)}}return z.\u0275fac=function(M){return new(M||z)(e.Y36(e.s_b),e.Y36(e.zs3))},z.\u0275dir=e.lG2({type:z,selectors:[["","template-directive",""]]}),z})(),Ke=(()=>{class z{constructor(M,$,_e){this.formItem=M,this.formControl=$,this.formGroup=_e,this.options={language:"json",formatOnType:!0,formatOnPaste:!0,automaticLayout:!0,lineNumbersMinChars:2},this.onchange=new e.vpe}onInit(M){M.getModel().updateOptions({tabSize:2}),M.addAction({id:"saveScript",label:"\u4fdd\u5b58",keybindings:[],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:()=>(this.formControl.setValue(JSON.parse(this.rawScript.replace(/(\r|\n|\s+)/g,""))),null)}),M.setValue(JSON.stringify(this.formItem.value)),setTimeout(()=>M.getAction("editor.action.formatDocument").run(),100)}}return z.\u0275fac=function(M){return new(M||z)(e.Y36("FormItem"),e.Y36(l.NI),e.Y36(l.cw))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-textarea"]],outputs:{onchange:"onchange"},decls:2,vars:2,consts:[[3,"formGroup"],["cols","30","rows","10",1,"form-control",3,"formControlName"]],template:function(M,$){1&M&&(e.ynx(0,0),e._UZ(1,"textarea",1),e.BQk()),2&M&&(e.Q6J("formGroup",$.formGroup),e.xp6(1),e.Q6J("formControlName",$.formItem.name))},dependencies:[l.Fj,l.JJ,l.JL,l.sg,l.u],encapsulation:2}),z})(),qe=(()=>{class z{constructor(M,$,_e){this.formItem=M,this.formControl=$,this.formGroup=_e}}return z.\u0275fac=function(M){return new(M||z)(e.Y36("FormItem"),e.Y36(l.NI),e.Y36(l.cw))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-toggle"]],hostAttrs:[1,"py-2","d-block"],decls:3,vars:4,consts:[[1,"form-check","form-switch",3,"formGroup"],["type","checkbox","role","switch",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"]],template:function(M,$){1&M&&(e.TgZ(0,"div",0),e._UZ(1,"input",1)(2,"label",2),e.qZA()),2&M&&(e.Q6J("formGroup",$.formGroup),e.xp6(1),e.Q6J("id",$.formItem.name)("formControlName",$.formItem.name),e.xp6(1),e.Q6J("for",$.formItem.name))},dependencies:[l.Wl,l.JJ,l.JL,l.sg,l.u],encapsulation:2}),z})();const ye=["dropdown"],we=["unitEl"];function Ne(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"li",8),e.NdJ("click",function(){const ke=e.CHM(M).$implicit,je=e.oxw(2);return e.KtG(je.change(ke))}),e.TgZ(1,"a",9),e._uU(2),e.qZA()()}if(2&z){const M=me.$implicit,$=e.oxw(2);e.ekj("active",M===$.unit),e.xp6(1),e.ekj("active",M===$.unit),e.xp6(1),e.Oqu(M)}}function Ve(z,me){if(1&z&&(e.TgZ(0,"ul",6),e.YNc(1,Ne,3,5,"li",7),e.qZA()),2&z){const M=e.oxw();e.xp6(1),e.Q6J("ngForOf",M.units)}}const Be=function(){return{standalone:!0}};let Z=(()=>{class z{constructor(M,$,_e,ke,je,at){this.cdf=M,this.overlay=$,this.vcr=_e,this.formItem=ke,this.formControl=je,this.formGroup=at,this.onchange=new e.vpe,this.unit="\\",this.units=["px","%","em","rem"],this.setValue(je.value),this.formControl.valueChanges.subscribe(ct=>this.setValue(ct))}setValue(M){M?(this.input=M.match(/([\d.-]|auto)/)?M.match(/([\d.-]+|auto)/)[0]:"",this.unit=M.match(/(px|%|em|rem|vw|vh)$/)?M.match(/(px|%|em|rem|vw|vh)$/)[0]:"\\"):(this.input="",this.unit="\\")}switchUnit(){if(this.disabled)return;const M=this.overlay.position().flexibleConnectedTo(this.unitEl).withPositions([{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}]);this.overlayRef=this.overlay.create({positionStrategy:M,disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.block(),backdropClass:"",hasBackdrop:!0});const $=new p.UE(this.dropdown,this.vcr);this.overlayRef.attach($),this.overlayRef.backdropClick().pipe((0,a.q)(1)).subscribe(()=>this.overlayRef&&this.overlayRef.dispose())}onwheel(M){if(document.activeElement!==M.target)return;M.preventDefault();const $=this.input?+this.input:0;Number.isNaN($)||(this.input=$-Math.sign(M.deltaY),this.change())}change(M){void 0!==M&&(this.unit=M);const $=this.formControl;"auto"===this.input?(this.unit="\\",$.setValue(this.input),this.onchange.emit(this.input)):($.setValue(this.input+this.unit),this.onchange.emit(this.input+this.unit)),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null),this.cdf.detectChanges()}}return z.\u0275fac=function(M){return new(M||z)(e.Y36(e.sBO),e.Y36(m.aV),e.Y36(e.s_b),e.Y36("FormItem"),e.Y36(l.NI),e.Y36(l.cw))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-unit-input"]],viewQuery:function(M,$){if(1&M&&(e.Gf(ye,7),e.Gf(we,7)),2&M){let _e;e.iGM(_e=e.CRH())&&($.dropdown=_e.first),e.iGM(_e=e.CRH())&&($.unitEl=_e.first)}},inputs:{disabled:"disabled"},outputs:{onchange:"onchange"},decls:8,vars:7,consts:[[1,"input-group",2,"flex-wrap","nowrap",3,"formGroup"],["type","number","title","","size","1","name","","pattern","[0-9]*",1,"form-control",3,"ngModel","disabled","ngModelOptions","ngModelChange","wheel","change"],["type","hidden",3,"formControlName","ngModelChange"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["unitEl",""],["dropdown",""],[1,"dropdown-menu",2,"display","block","min-width","auto","position","static"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],["href","javascript:void(0)",1,"dropdown-item"]],template:function(M,$){1&M&&(e.TgZ(0,"div",0)(1,"input",1),e.NdJ("ngModelChange",function(ke){return $.input=ke})("wheel",function(ke){return $.onwheel(ke)})("change",function(){return $.change()}),e.qZA(),e.TgZ(2,"input",2),e.NdJ("ngModelChange",function(ke){return $.setValue(ke)}),e.qZA(),e.TgZ(3,"button",3,4),e.NdJ("click",function(){return $.switchUnit()}),e._uU(5),e.qZA()(),e.YNc(6,Ve,2,1,"ng-template",null,5,e.W1O)),2&M&&(e.Q6J("formGroup",$.formGroup),e.xp6(1),e.Q6J("ngModel",$.input)("disabled",$.disabled)("ngModelOptions",e.DdM(6,Be)),e.xp6(1),e.Q6J("formControlName",$.formItem.name),e.xp6(3),e.hij(" ",$.unit," "))},dependencies:[f.sg,l.Fj,l.wV,l.JJ,l.JL,l.c5,l.On,l.sg,l.u],encapsulation:2}),z})();function ie(z,me){}function S(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(M);const _e=e.oxw();return e.KtG(_e.inheritClick.emit({formItem:_e.formItem,formControl:_e.formControl}))}),e.TgZ(1,"i",8),e._uU(2),e.qZA()()}if(2&z){const M=e.oxw();e.ekj("active",M.formItem.inherit),e.Q6J("disabled",M.formItem.inherit),e.xp6(2),e.Oqu("bind")}}function P(z,me){if(1&z){const M=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(M);const _e=e.oxw();return e.KtG(_e.dataBindClick.emit({formItem:_e.formItem,formControl:_e.formControl}))}),e._uU(1," B "),e.qZA()}}let pe=(()=>{class z{constructor(M,$,_e){this.formItem=M,this.formControl=$,this.formGroup=_e,this.inheritClick=new e.vpe,this.dataBindClick=new e.vpe,this.dataReset=new e.vpe,this.subscription=K.w0.EMPTY}ngOnInit(){this.subscription=(0,j.T)(this.formControl.valueChanges,(0,X.of)(this.formControl.value)).pipe((0,W.U)(M=>M instanceof N.Sl),(0,O.x)()).subscribe(M=>{this.template.remove();const $=this.getComponentByType(this.formItem.type);!$||this.template.insert(this.formItem,$,[{provide:l.cw,useValue:this.formGroup},{provide:l.NI,useValue:this.formControl},{provide:"FormItem",useValue:this.formItem}])})}ngOnDestroy(){this.subscription.unsubscribe()}getComponentByType(M){if(this.formControl.value instanceof N.Sl)return k;switch(M){case"numberHasUnit":return Z;case"fourNumbers":return le;case"table":return Le;case"object":return C;case"select":return b;case"text":case"number":return Oe;case"icon":return T;case"textarea":return Ke;case"color":return v;case"border":return Ee;case"toggle":return qe;case"button":return Ce}}}return z.\u0275fac=function(M){return new(M||z)(e.Y36("FormItem"),e.Y36(l.NI),e.Y36(l.cw))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-form-group"]],viewQuery:function(M,$){if(1&M&&e.Gf(Ye,7),2&M){let _e;e.iGM(_e=e.CRH())&&($.template=_e.first)}},outputs:{inheritClick:"inheritClick",dataBindClick:"dataBindClick",dataReset:"dataReset"},decls:8,vars:8,consts:[[1,"row","mb-2",3,"formGroup"],[1,"col-4","col-form-label","text-truncate","pe-0",3,"title"],[1,"col-8","position-relative"],[1,"form-item",3,"ngSwitch"],["template-directive",""],["type","button","class","btn btn-light btn-sm","style","position: absolute;left: -1.5rem;top: 0.2rem;width: auto;",3,"active","disabled","click",4,"ngIf"],["type","button","class","btn btn-light btn-sm","style","position: absolute;right: -1rem;top: 0.2rem;width: auto;",3,"click",4,"ngIf"],["type","button",1,"btn","btn-light","btn-sm",2,"position","absolute","left","-1.5rem","top","0.2rem","width","auto",3,"disabled","click"],[1,"gt-icon","prepend-icon"],["type","button",1,"btn","btn-light","btn-sm",2,"position","absolute","right","-1rem","top","0.2rem","width","auto",3,"click"]],template:function(M,$){1&M&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"div",3),e.YNc(5,ie,0,0,"ng-template",4),e.qZA(),e.YNc(6,S,3,4,"button",5),e.YNc(7,P,2,0,"button",6),e.qZA()()),2&M&&(e.Q6J("formGroup",$.formGroup),e.xp6(1),e.Q6J("title",$.formItem.label||$.formItem.name),e.xp6(1),e.Oqu($.formItem.label||$.formItem.name),e.xp6(1),e.ekj("invalid",$.formControl.invalid),e.xp6(1),e.Q6J("ngSwitch",$.formItem.type),e.xp6(2),e.Q6J("ngIf",void 0!==$.formItem.inherit),e.xp6(1),e.Q6J("ngIf",$.formItem.canBind))},dependencies:[f.O5,f.RF,l.JL,l.sg,Ye],encapsulation:2}),z})();function ge(z,me){}let Ue=(()=>{class z{constructor(M,$,_e){this.cdr=M,this.iterableDiffers=$,this.formControlService=_e,this.formGroup=new l.cw({}),this._differ=this.iterableDiffers.find([]).create((ke,je)=>je.type+"-"+je.name),this._subscriptions=new Map,this.formChange=new e.vpe,this.formClick=new e.vpe,this.dataBindClick=new e.vpe,this.inheritClick=new e.vpe,this.dataReset=new e.vpe,this.formControlService.buttonClick.subscribe(ke=>this.formClick.emit({formItem:ke,formControl:this.formGroup.get(ke.name)}))}set formList(M){const $=this._differ.diff(M);$&&$.forEachOperation(({item:_e,previousIndex:ke},je,at)=>{if(null===ke){const ut=new l.NI(void 0===_e.value?null:_e.value,{validators:_e.validator,updateOn:_e.updateOn});this.formGroup.addControl(_e.name,ut);const{instance:De}=this.template.insert(_e,pe,[{provide:l.cw,useValue:this.formGroup},{provide:l.NI,useValue:ut},{provide:"FormItem",useValue:_e}],at);this._subscriptions.set(_e.name,(0,j.T)(ut.valueChanges.pipe((0,t.b)(100),(0,s.b)(Je=>{_e.value=Je,this.formChange.emit({formItem:_e,formControl:ut})})),De.dataBindClick.pipe((0,s.b)(Je=>this.dataBindClick.emit(Je))),De.inheritClick.pipe((0,s.b)(Je=>this.inheritClick.emit(Je))),De.dataReset.pipe()).subscribe())}else if(null===at)this.formGroup.removeControl(_e.name),this.template.remove(null===je?void 0:je),this._subscriptions.get(_e.name).unsubscribe();else if(null!==je){const ut=this.template.viewContainerRef.get(je);this.template.move(ut,at)}}),M.forEach(({name:_e,value:ke=null})=>{const je=this.formGroup.get(_e);je&&je.setValue(ke,{emitEvent:!1})}),this.cdr.markForCheck()}ngOnDestroy(){this._subscriptions.forEach(M=>M.unsubscribe()),this._subscriptions.clear()}}return z.\u0275fac=function(M){return new(M||z)(e.Y36(e.sBO),e.Y36(e.ZZ4),e.Y36(Y))},z.\u0275cmp=e.Xpm({type:z,selectors:[["properties-form"]],viewQuery:function(M,$){if(1&M&&e.Gf(Ye,7),2&M){let _e;e.iGM(_e=e.CRH())&&($.template=_e.first)}},inputs:{formList:"formList"},outputs:{formChange:"formChange",formClick:"formClick",dataBindClick:"dataBindClick",inheritClick:"inheritClick",dataReset:"dataReset"},features:[e._Bn([Y])],decls:1,vars:0,consts:[["template-directive",""]],template:function(M,$){1&M&&e.YNc(0,ge,0,0,"ng-template",0)},dependencies:[Ye],encapsulation:2,changeDetection:0}),z})()},6704:(Ze,Te,i)=>{"use strict";i.d(Te,{w:()=>O});var e=i(4650),l=i(727),j=i(6451),t=i(8505),s=i(5698),U=i(6895);function Y(p,a){if(1&p&&(e.TgZ(0,"i",4),e._uU(1),e.qZA()),2&p){const m=e.oxw().$implicit;e.xp6(1),e.Oqu(m.icon)}}function N(p,a){if(1&p){const m=e.EpF();e.TgZ(0,"li")(1,"a",2),e.NdJ("click",function(){const v=e.CHM(m).$implicit,te=e.oxw();return e.KtG(te.itemClick.emit(v))}),e.YNc(2,Y,2,1,"i",3),e._uU(3),e.qZA()()}if(2&p){const m=a.$implicit;e.xp6(1),e.ekj("active",m.active),e.xp6(1),e.Q6J("ngIf",m.icon),e.xp6(1),e.Oqu(m.text)}}let K=(()=>{class p{constructor(){this.itemClick=new e.vpe}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275cmp=e.Xpm({type:p,selectors:[["gt-dropdown"]],inputs:{items:"items"},outputs:{itemClick:"itemClick"},decls:2,vars:1,consts:[[1,"dropdown-menu","d-block","position-static","w-100","shadow"],[4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],["class","gt-icon me-3",4,"ngIf"],[1,"gt-icon","me-3"]],template:function(m,f){1&m&&(e.TgZ(0,"ul",0),e.YNc(1,N,4,4,"li",1),e.qZA()),2&m&&(e.xp6(1),e.Q6J("ngForOf",f.items))},dependencies:[U.sg,U.O5],encapsulation:2}),p})();var X=i(4080),W=i(8184);let O=(()=>{class p{constructor(m,f){this.elementRef=m,this.overlay=f,this.itemClick=new e.vpe,this.overlayRef=null,this.overlaySubscription=l.w0.EMPTY}click(){this.overlayRef=this.overlay.create({hasBackdrop:!0,backdropClass:"",disposeOnNavigation:!0,positionStrategy:this.overlay.position().flexibleConnectedTo(this.elementRef).withPositions([{overlayX:"start",overlayY:"top",originX:"start",originY:"bottom",offsetY:6},{overlayX:"start",overlayY:"bottom",originX:"start",originY:"top",offsetY:-6},{overlayX:"end",overlayY:"bottom",originX:"end",originY:"top",offsetY:-6},{overlayX:"end",overlayY:"top",originX:"end",originY:"bottom",offsetY:6}])});const m=this.overlayRef.attach(new X.C5(K)).instance;m.items=this.items,this.overlaySubscription=(0,j.T)(this.overlayRef.backdropClick(),m.itemClick.pipe((0,t.b)(f=>this.itemClick.emit(f)))).pipe((0,s.q)(1)).subscribe(()=>this.closeOverlay())}closeOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlaySubscription.unsubscribe(),this.overlayRef=null,this.overlaySubscription=l.w0.EMPTY)}}return p.\u0275fac=function(m){return new(m||p)(e.Y36(e.SBq),e.Y36(W.aV))},p.\u0275dir=e.lG2({type:p,selectors:[["","gt-dropdown",""]],hostBindings:function(m,f){1&m&&e.NdJ("click",function(){return f.click()})},inputs:{items:"items"},outputs:{itemClick:"itemClick"}}),p})()},5066:(Ze,Te,i)=>{"use strict";i.d(Te,{S3:()=>Y.S,z8:()=>t});var e=i(445),l=i(6895),j=i(4650);let t=(()=>{class N{}return N.\u0275fac=function(X){return new(X||N)},N.\u0275mod=j.oAB({type:N}),N.\u0275inj=j.cJS({imports:[l.ez,e.vT]}),N})();i(2187);var Y=i(5137)},5137:(Ze,Te,i)=>{"use strict";i.d(Te,{S:()=>j});var e=i(4650),l=i(8403);let j=(()=>{class t{constructor(U,Y,N){this.viewContainerRef=U,this.cdr=Y,this.injector=N}insert(U,Y){const N=e.zs3.create({providers:[{provide:l.Fo,useValue:U}],parent:this.injector}),K=this.viewContainerRef.createComponent(U.component,{index:Y,injector:N});return U.componentRef=K,this.cdr.detectChanges(),K}remove(U){this.viewContainerRef.remove(U),this.cdr.detectChanges()}move(U,Y){const N=this.viewContainerRef.move(U.componentRef.hostView,Y);return this.cdr.detectChanges(),N}clear(){this.viewContainerRef.clear(),this.cdr.detectChanges()}}return t.\u0275fac=function(U){return new(U||t)(e.Y36(e.s_b),e.Y36(e.sBO),e.Y36(e.zs3))},t.\u0275dir=e.lG2({type:t,selectors:[["","gtTemplate",""]],inputs:{templateID:"templateID"}}),t})()},9547:(Ze,Te,i)=>{"use strict";i.d(Te,{f:()=>Pt});var e=i(4650),l=i(9521),j=i(727),t=i(4968),s=i(9300),U=i(8505),Y=i(3900),N=i(5698),K=i(2229),X=i.n(K),W=i(2187),O=i(7088),p=i(5066),a=i(1194),m=i(3430),f=i(445),I=i(6834),v=i(7062),te=i(5197),ae=i(5747),Se=i(5137);const Ee=["page"];function Ce(ne,ve){}let k=(()=>{class ne{constructor(d,L,H,he,Ae,He,Qe,ot){this.el=d,this.gt=L,this.events=H,this.translateAnimation=he,this.viewContainerRef=Ae,this.cdr=He,this.direction=Qe,this._gtContextMenu=ot,this.gtNodeHover=new e.vpe,this.transform="matrix(1, 0, 0, 1, 0, 0)",this.itemName=null,this.events.CHANGE_BOARD.subscribe(()=>this.init())}blackboardClick(d){if("move"!==this.gt.mode){const L=this.getTargetNode(d);L&&this.gt.changeSelect(L,d.metaKey||d.ctrlKey)}}blackBoardContextmenu(d){d.stopPropagation(),d.preventDefault();const L=this.getTargetNode(d);!L||(this.gt.selected.includes(L)||this.gt.changeSelect(L),this._gtContextMenu&&this._gtContextMenu(this.gt,"gtNode",L,d))}blackboardMousemove(d){if("move"!==this.gt.mode){const L=this.getTargetNode(d);this.gtNodeHover.emit(L)}}ngOnInit(){this.initDragEvent()}ngAfterViewInit(){this.resetPosition()}init(){this.template.clear(),this.template.insert(this.gt.gt)}resetPosition(){const d=this.viewContainerRef.element.nativeElement.offsetWidth,L=this.viewContainerRef.element.nativeElement.offsetHeight;this.page.nativeElement.style.width=Math.min(d-100,800)+"px",this.page.nativeElement.style.height=Math.max(L-100,1e3)+"px",this.transform=`matrix(1,0,0,1,${("ltr"===this.direction.value?1:-1)*Math.max(d/2-this.page.nativeElement.offsetWidth/2,50)},60)`,this.cdr.detectChanges()}getTargetNode(d){const L=(0,W.oq)(d.target,".gt-node");return L?this.gt.getNodeById(L.dataset.id):null}initDragEvent(){const d=new W.nc(this.el.nativeElement),L=this.gt;Object.defineProperty(d,"disabled",{get:()=>"move"===L.mode}),d.drop.subscribe(({parentElement:H,refChild:he,target:Ae,placeholder:He})=>{const Qe=Array.prototype.filter.call(H.children,tt=>tt!==Ae).map(tt=>tt.getBoundingClientRect());H.insertBefore(Ae,he);const ot=Ae.getBoundingClientRect(),nt=Array.prototype.filter.call(H.children,tt=>tt!==Ae).map(tt=>tt.getBoundingClientRect());Array.prototype.filter.call(H.children,tt=>tt!==Ae).forEach((tt,it)=>{this.translateAnimation.add({element:tt,from:{left:Qe[it].left-nt[it].left,top:Qe[it].top-nt[it].top}})}),He.style.width=ot.width+"px",He.style.height=ot.height+"px",this.translateAnimation.add({element:He,to:{left:ot.left,top:ot.top}})}),d.dragEnd.subscribe(({parentElement:H,refChild:he,target:Ae})=>{const He=Ae.dataset.id,Qe=(0,W.VJ)(H).dataset.id,ot=this.gt.getNodeById(He),nt=this.gt.getNodeById(Qe),tt=he&&he.dataset.id?this.gt.getNodeById(he.dataset.id):null;ot&&nt?this.gt.dropNode(ot,nt,tt?nt.children.indexOf(tt):void 0,H.dataset.droppable):console.error("something wrong!")})}}return ne.\u0275fac=function(d){return new(d||ne)(e.Y36(e.SBq),e.Y36(a.Z),e.Y36(m.n),e.Y36(W.j8),e.Y36(e.s_b),e.Y36(e.sBO),e.Y36(f.Is),e.Y36(O.Kq,8))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["gt-blackboard"]],viewQuery:function(d,L){if(1&d&&(e.Gf(p.S3,7),e.Gf(Ee,7)),2&d){let H;e.iGM(H=e.CRH())&&(L.template=H.first),e.iGM(H=e.CRH())&&(L.page=H.first)}},hostAttrs:[1,"position-relative","d-flex","flex-column","flex-grow-1","overflow-hidden"],hostBindings:function(d,L){1&d&&e.NdJ("click",function(he){return L.blackboardClick(he)})("contextmenu",function(he){return L.blackBoardContextmenu(he)})("mousemove",function(he){return L.blackboardMousemove(he)})},outputs:{gtNodeHover:"gtNodeHover"},features:[e._Bn([W.j8])],decls:4,vars:15,consts:[["page-structure","","gtPan","",1,"oblique-stripes","overflow-auto","position-relative","h-100",3,"panTarget","panDisabled","updateTransform"],["gtResize","","gtZoom","","resizes","all","page-structure-source","",1,"gt-page","shadow-lg",3,"minWidth","maxWidth","minHeight","maxHeight","transform","gtZoomDisabled","zoomZone","updateTransform"],["page",""],["gtTemplate",""]],template:function(d,L){if(1&d&&(e.TgZ(0,"div",0),e.NdJ("updateTransform",function(he){return L.transform=he}),e.TgZ(1,"div",1,2),e.NdJ("updateTransform",function(he){return L.transform=he}),e.YNc(3,Ce,0,0,"ng-template",3),e.qZA()()),2&d){const H=e.MAs(2);e.ekj("overflow-auto","edit"===L.gt.mode)("overflow-hidden","move"===L.gt.mode),e.Q6J("panTarget",H)("panDisabled","move"!==L.gt.mode),e.xp6(1),e.Udp("transform",L.transform),e.Q6J("minWidth",300)("maxWidth",5e3)("minHeight",500)("maxHeight",5e3)("transform",!0)("gtZoomDisabled","move"!==L.gt.mode)("zoomZone",L.el.nativeElement)}},dependencies:[I.c,v.O,v.K,te.y,ae.w,Se.S],encapsulation:2}),ne})();var ee=i(6895),le=i(4080),fe=i(1281),T=i(7340),V=i(3555);function Q(ne,ve){}let Oe=(()=>{class ne{constructor(d){this.gt=d,this.windowClose=new e.vpe}}return ne.\u0275fac=function(d){return new(d||ne)(e.Y36(a.Z))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["gt-float-bar"]],inputs:{icon:"icon",componentPortal:"componentPortal"},outputs:{windowClose:"windowClose"},decls:11,vars:6,consts:[["cdkDrag","","cdkDragBoundary","html","gtResize","",1,"card",2,"width","260px","height","600px",3,"resizes","minWidth","minHeight","transform"],["cdkDragHandle","",1,"card-header","bg-body",2,"cursor","move"],[1,"nav","nav-pills","card-header-pills"],[1,"nav-item"],[1,"nav-link","active"],[1,"gt-icon"],[1,"nav-item","ms-auto","mt-1"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"card-body","p-0","overflow-scroll"],[3,"cdkPortalOutlet"]],template:function(d,L){1&d&&(e.TgZ(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4)(5,"i",5),e._uU(6),e.qZA()()(),e.TgZ(7,"li",6)(8,"button",7),e.NdJ("click",function(){return L.windowClose.emit()}),e.qZA()()()(),e.TgZ(9,"div",8),e.YNc(10,Q,0,0,"ng-template",9),e.qZA()()),2&d&&(e.Q6J("resizes","all")("minWidth",180)("minHeight",300)("transform",!0),e.xp6(6),e.Oqu(L.icon),e.xp6(4),e.Q6J("cdkPortalOutlet",L.componentPortal))},dependencies:[V.Zt,V.Bh,le.Pl,I.c],encapsulation:2,data:{animation:[(0,T.X$)("fade",[(0,T.SB)("in",(0,T.oB)({transform:"scale(1)",opacity:1})),(0,T.eR)("void => *",[(0,T.oB)({transform:"scale(.8)",opacity:0}),(0,T.jt)("250ms ease-out")])])]}}),ne})();var se=i(9841),C=i(6451),c=i(9646),b=i(8372),q=i(9875),ce=i(4443),ue=i(3547),Me=i(7807),Pe=i(6941),Fe=i(414),We=i(8580);const et=["*"];let Le=(()=>{class ne{constructor(){this.multi=!1}}return ne.\u0275fac=function(d){return new(d||ne)},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["gt-accordion"]],inputs:{multi:"multi"},ngContentSelectors:et,decls:2,vars:1,consts:[["cdkAccordion","",1,"accordion","accordion-flush","border-bottom",3,"multi"]],template:function(d,L){1&d&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA()),2&d&&e.Q6J("multi",L.multi)},dependencies:[We.xI],encapsulation:2}),ne})();var Ye=i(8414);function Ke(ne,ve){1&ne&&(e.TgZ(0,"div",2),e.SDv(1,3),e.qZA())}function qe(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"gt-accordion-item",12),e.NdJ("opened",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.opened("variable"))})("closed",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.closed("variable"))}),e.TgZ(1,"gt-panel-variable",13),e.NdJ("openDialog",function(H){e.CHM(d);const he=e.oxw(2);return e.KtG(he.onOpenDialog(H))}),e.qZA()()}if(2&ne){const d=e.oxw(2);e.Q6J("expanded",d.gt.settings.configAccordionExpanded.variable),e.xp6(1),e.Q6J("gtNode",d.gtNode)}}function ye(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"gt-accordion-item",14),e.NdJ("opened",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.opened("property"))})("closed",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.closed("property"))}),e.TgZ(1,"gt-panel-config",15),e.NdJ("openDialog",function(H){e.CHM(d);const he=e.oxw(2);return e.KtG(he.onOpenDialog(H))}),e.qZA()()}if(2&ne){const d=e.oxw(2);e.Q6J("expanded",d.gt.settings.configAccordionExpanded.property),e.xp6(1),e.Q6J("type","property")("gtNode",d.gtNode)}}function we(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"gt-accordion-item",16),e.NdJ("opened",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.opened("style"))})("closed",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.closed("style"))}),e.TgZ(1,"gt-panel-config",15),e.NdJ("openDialog",function(H){e.CHM(d);const he=e.oxw(2);return e.KtG(he.onOpenDialog(H))}),e.qZA()()}if(2&ne){const d=e.oxw(2);e.Q6J("expanded",d.gt.settings.configAccordionExpanded.style),e.xp6(1),e.Q6J("type","style")("gtNode",d.gtNode)}}function Ne(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"gt-accordion-item",17),e.NdJ("opened",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.opened("rights"))})("closed",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.closed("rights"))}),e.TgZ(1,"gt-panel-config",15),e.NdJ("openDialog",function(H){e.CHM(d);const he=e.oxw(2);return e.KtG(he.onOpenDialog(H))}),e.qZA()()}if(2&ne){const d=e.oxw(2);e.Q6J("expanded",d.gt.settings.configAccordionExpanded.rights),e.xp6(1),e.Q6J("type","rights")("gtNode",d.gtNode)}}function Ve(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"gt-accordion-item",18),e.NdJ("opened",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.opened("directive"))})("closed",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.closed("directive"))}),e.TgZ(1,"gt-panel-directive",13),e.NdJ("openDialog",function(H){e.CHM(d);const he=e.oxw(2);return e.KtG(he.onOpenDialog(H))}),e.qZA()()}if(2&ne){const d=e.oxw(2);e.Q6J("expanded",d.gt.settings.configAccordionExpanded.directive),e.xp6(1),e.Q6J("gtNode",d.gtNode)}}function Be(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"gt-accordion-item",19),e.NdJ("opened",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.opened("validator"))})("closed",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.closed("validator"))}),e._UZ(1,"gt-panel-validator",20),e.qZA()}if(2&ne){const d=e.oxw(2);e.Q6J("expanded",d.gt.settings.configAccordionExpanded.validator),e.xp6(1),e.Q6J("gtNode",d.gtNode)}}function Z(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"gt-accordion-item",21),e.NdJ("opened",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.opened("action"))})("closed",function(){e.CHM(d);const H=e.oxw(2);return e.KtG(H.closed("action"))}),e._UZ(1,"gt-panel-action",20),e.qZA()}if(2&ne){const d=e.oxw(2);e.Q6J("expanded",d.gt.settings.configAccordionExpanded.action),e.xp6(1),e.Q6J("gtNode",d.gtNode)}}function ie(ne,ve){if(1&ne&&(e.TgZ(0,"gt-accordion",4),e.YNc(1,qe,2,2,"gt-accordion-item",5),e.YNc(2,ye,2,3,"gt-accordion-item",6),e.YNc(3,we,2,3,"gt-accordion-item",7),e.YNc(4,Ne,2,3,"gt-accordion-item",8),e.YNc(5,Ve,2,2,"gt-accordion-item",9),e.YNc(6,Be,2,2,"gt-accordion-item",10),e.YNc(7,Z,2,2,"gt-accordion-item",11),e.qZA()),2&ne){const d=e.oxw();e.Q6J("multi",!0),e.xp6(1),e.Q6J("ngIf",d.gtNode.variable),e.xp6(1),e.Q6J("ngIf",d.gtNode.property),e.xp6(1),e.Q6J("ngIf",d.gtNode.style),e.xp6(1),e.Q6J("ngIf",d.gtNode.rights),e.xp6(1),e.Q6J("ngIf",d.gtNode.directive),e.xp6(1),e.Q6J("ngIf",d.gtNode.validator),e.xp6(1),e.Q6J("ngIf",d.gtNode.validator)}}let S=(()=>{class ne{constructor(d,L,H,he){this.editEvent=d,this.gt=L,this.subscription=j.w0.EMPTY,this.subscription=(0,se.a)([(0,C.T)((0,c.of)(L.selected),he.CHANGE_SELECT),(0,C.T)((0,c.of)(null),he.REDO,he.UNDO,he.PASTE_STYLE)]).pipe((0,b.b)(10)).subscribe(([Ae])=>{this.gtNode=1===Ae.length?Ae[0]:null,H.detectChanges()})}ngOnDestroy(){this.subscription.unsubscribe()}onOpenDialog(d){this.editEvent.forEach(L=>L(d))}opened(d){this.gt.settings.changeConfigAccordionExpanded(d,!0)}closed(d){this.gt.settings.changeConfigAccordionExpanded(d,!1)}}return ne.\u0275fac=function(d){return new(d||ne)(e.Y36(O.dd),e.Y36(a.Z),e.Y36(e.sBO),e.Y36(m.n))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["gt-accordion-config"]],viewQuery:function(d,L){if(1&d&&e.Gf(q.n3,5),2&d){let H;e.iGM(H=e.CRH())&&(L.accordionList=H)}},decls:2,vars:2,consts:function(){let ve,d,L,H,he,Ae,He,Qe;return ve=" Please Select a Component! ",d="Variable",L="Property",H="Style",he="Authorization",Ae="Directive",He="Validator",Qe="Action",[["class","bg-secondary-subtle p-2 text-center border-bottom",4,"ngIf"],[3,"multi",4,"ngIf"],[1,"bg-secondary-subtle","p-2","text-center","border-bottom"],ve,[3,"multi"],["cardTitle",d,3,"expanded","opened","closed",4,"ngIf"],["cardTitle",L,3,"expanded","opened","closed",4,"ngIf"],["cardTitle",H,3,"expanded","opened","closed",4,"ngIf"],["cardTitle",he,3,"expanded","opened","closed",4,"ngIf"],["cardTitle",Ae,3,"expanded","opened","closed",4,"ngIf"],["cardTitle",He,3,"expanded","opened","closed",4,"ngIf"],["cardTitle",Qe,3,"expanded","opened","closed",4,"ngIf"],["cardTitle",d,3,"expanded","opened","closed"],[3,"gtNode","openDialog"],["cardTitle",L,3,"expanded","opened","closed"],[3,"type","gtNode","openDialog"],["cardTitle",H,3,"expanded","opened","closed"],["cardTitle",he,3,"expanded","opened","closed"],["cardTitle",Ae,3,"expanded","opened","closed"],["cardTitle",He,3,"expanded","opened","closed"],[3,"gtNode"],["cardTitle",Qe,3,"expanded","opened","closed"]]},template:function(d,L){1&d&&(e.YNc(0,Ke,2,0,"div",0),e.YNc(1,ie,8,8,"gt-accordion",1)),2&d&&(e.Q6J("ngIf",!L.gtNode),e.xp6(1),e.Q6J("ngIf",L.gtNode))},dependencies:[ee.O5,ce.F,ue.J,Me.O,Pe.L,Fe.N,Le,Ye.n],encapsulation:2,changeDetection:0}),ne})();var P=i(8403),pe=i(4004),ge=i(5577),Ue=i(1884),z=i(2722),me=i(433);function M(ne,ve){if(1&ne&&(e.TgZ(0,"i",10),e._uU(1),e.qZA()),2&ne){const d=e.oxw().$implicit;e.xp6(1),e.Oqu(d.icon||"custom")}}function $(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"button",6,7),e.NdJ("mousedown",function(H){const Ae=e.CHM(d).$implicit,He=e.MAs(1),Qe=e.oxw(2);return e.KtG(Qe.itemDrag(Ae,He,H))})("touchstart",function(H){const Ae=e.CHM(d).$implicit,He=e.MAs(1),Qe=e.oxw(2);return e.KtG(Qe.itemDrag(Ae,He,H))}),e.YNc(2,M,2,1,"i",8),e.TgZ(3,"div",9),e._uU(4),e.qZA()()}if(2&ne){const d=ve.$implicit;e.uIk("data-type",d.type),e.xp6(2),e.Q6J("ngIf",d.icon),e.xp6(2),e.Oqu(d.label)}}function _e(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"gt-accordion-item",3),e.NdJ("opened",function(){const he=e.CHM(d).$implicit,Ae=e.oxw();return e.KtG(Ae.opened(he))})("closed",function(){const he=e.CHM(d).$implicit,Ae=e.oxw();return e.KtG(Ae.closed(he))}),e.TgZ(1,"div",4),e.YNc(2,$,5,3,"button",5),e.qZA()()}if(2&ne){const d=ve.$implicit;e.Q6J("cardTitle",d.title)("expanded",d.expanded),e.xp6(2),e.Q6J("ngForOf",d.elements)}}function ke(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"i",19),e.NdJ("click",function(){e.CHM(d);const H=e.oxw().$implicit,he=e.oxw(2);return e.KtG(he.deleteCustom(H))}),e.qZA()}}function je(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"input",20),e.NdJ("ngModelChange",function(H){e.CHM(d);const he=e.oxw().$implicit;return e.KtG(he.type=H)}),e.qZA()}if(2&ne){const d=e.oxw().$implicit;e.Q6J("ngModel",d.type)}}function at(ne,ve){if(1&ne&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&ne){const d=e.oxw().$implicit;e.xp6(1),e.hij(" ",d.name||d.type," ")}}function ct(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"button",15,7),e.NdJ("mousedown",function(H){const Ae=e.CHM(d).$implicit,He=e.MAs(1),Qe=e.oxw(2);return e.KtG(Qe.itemDrag(Ae,He,H))})("touchstart",function(H){const Ae=e.CHM(d).$implicit,He=e.MAs(1),Qe=e.oxw(2);return e.KtG(Qe.itemDrag(Ae,He,H))})("dblclick",function(){const he=e.CHM(d).$implicit,Ae=e.oxw(2);return e.KtG(Ae.editCustom(he))})("contextmenu",function(H){const Ae=e.CHM(d).$implicit,He=e.oxw(2);return e.KtG(He.editCustomInfo(Ae,H))}),e.YNc(2,ke,1,0,"i",16),e.TgZ(3,"i",10),e._uU(4,"custom"),e.qZA(),e.YNc(5,je,1,1,"input",17),e.YNc(6,at,2,1,"div",18),e.qZA()}if(2&ne){const d=ve.$implicit,L=e.oxw(2);e.uIk("data-id",d.id),e.xp6(2),e.Q6J("ngIf",L.editTypeMode),e.xp6(3),e.Q6J("ngIf",L.editTypeMode),e.xp6(1),e.Q6J("ngIf",!L.editTypeMode)}}function ut(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"gt-accordion-item",3),e.NdJ("opened",function(){e.CHM(d);const H=e.oxw();return e.KtG(H.opened(H.customList))})("closed",function(){e.CHM(d);const H=e.oxw();return e.KtG(H.closed(H.customList))}),e.TgZ(1,"div",11),e.YNc(2,ct,7,4,"button",12),e.qZA(),e.TgZ(3,"div",13)(4,"button",14),e.NdJ("click",function(){e.CHM(d);const H=e.oxw();return e.KtG(H.addCustom())}),e._uU(5),e.qZA()()()}if(2&ne){const d=e.oxw();e.Q6J("cardTitle",d.customList.title)("expanded",d.customList.expanded),e.xp6(2),e.Q6J("ngForOf",d.gt.customComponent),e.xp6(1),e.ekj("mt-2",d.gt.customComponent.length),e.xp6(2),e.hij(" ",d.editMode?"\u5b8c\u6210":"\u6dfb\u52a0"," ")}}let De=(()=>{class ne{constructor(d,L,H,he,Ae,He,Qe,ot){this.gt=d,this.cdr=L,this.translateAnimation=H,this._document=he,this.templateMap=Ae,this.internalElementLists=He,this.gtAuth=Qe,this._gtContextMenu=ot,this.editMode=!1,this.editTypeMode=!1,this.customList={title:"Custom Component",elements:this.gt.customComponent,expanded:this.gt.settings.elementAccordionExpanded["Custom Component"]},this.internalElementLists.forEach(nt=>{nt.expanded=this.gt.settings.elementAccordionExpanded[nt.title]}),this.templateMap=Ae.reduce((nt,tt)=>({...nt,...tt}),{})}itemDrag(d,L,H){if(!(0,W.z6)(H)&&0!==H.button)return;H.stopPropagation(),H.preventDefault();let he=null,Ae=null,He=null;(0,W.AU)("userSelect","none"),(0,W.vC)(H).pipe((0,pe.U)(()=>{this.cdr.detach();const Qe=this._document.createElement("div");He=L;const ot=d.type;let nt;nt=ot?this.templateMap[ot]?this.templateMap[ot]:'<div style="width: 10rem;height: 10rem;display: flex;justify-content: center;align-items: center;border: 3px dashed #fff">\u672a\u77e5\u7ec4\u4ef6</div>':'<div style="width: 10rem;height: 10rem;display: flex;justify-content: center;align-items: center;border: 3px dashed #fff">\u81ea\u5b9a\u4e49\u7ec4\u4ef6</div>',Qe.style.setProperty("max-width","10rem"),Qe.innerHTML=nt;const tt=Qe.cloneNode(!0),it=Qe.children[0].cloneNode(!0),ht=Qe.children[0].cloneNode(!0);tt.classList.add("draggable-mirror"),it.classList.add("draggable-placeholder"),ht.classList.add("draggable-source");const{x:pt,y:ft}=(0,W.Em)(H);return tt.style.transform=`translate(${pt}px,${ft}px)`,tt.classList.add("draggable-mirror"),tt.style.left="0",tt.style.top="0",this._document.body.appendChild(tt),this._document.body.appendChild(it),{mirror:tt,placeholder:it,source:ht,event:H}})).pipe((0,ge.z)(({event:Qe,mirror:ot,placeholder:nt,source:tt})=>(0,W.DD)(Qe).pipe((0,U.b)(it=>{const{x:ht,y:pt}=(0,W.Em)(it);ot.style.transform=`translate(${ht}px,${pt}px)`}),(0,pe.U)(it=>(0,W.po)(it,tt)),(0,s.h)(it=>!!it),(0,s.h)(({parentElement:it})=>{const ht=(0,W.VJ)(it).dataset.id,pt=this.gt.getNodeById(ht);return!pt.core.acceptedChildType.length||pt.core.acceptedChildType.includes(He.dataset.type)}),(0,pe.U)(({refChild:it,parentElement:ht})=>(Ae=it,he=ht,{refChild:it,parentElement:ht})),(0,Ue.x)((it,ht)=>it.parentElement===ht.parentElement&&it.refChild===ht.refChild),(0,U.b)(({parentElement:it,refChild:ht})=>{const pt=Array.prototype.filter.call(it.children,mt=>mt!==tt).map(mt=>mt.getBoundingClientRect());it.insertBefore(tt,ht);const ft=Array.prototype.filter.call(it.children,mt=>mt!==tt).map(mt=>mt.getBoundingClientRect());Array.prototype.filter.call(it.children,mt=>mt!==tt).forEach((mt,Tt)=>{this.translateAnimation.add({element:mt,from:{left:pt[Tt].left-ft[Tt].left,top:pt[Tt].top-ft[Tt].top}})});const Ct=tt.getBoundingClientRect();nt.style.width=Ct.width+"px",nt.style.height=Ct.height+"px",this.translateAnimation.add({element:nt,to:{left:Ct.left,top:Ct.top}})}),(0,z.R)((0,W.yy)(Qe).pipe((0,U.b)(()=>{if((0,W.LE)("userSelect"),(0,W.hr)(nt),(0,W.hr)(tt),(0,W.hr)(ot),this.cdr.reattach(),!he)return;const it=(0,W.VJ)(he).dataset.id,ht=this.gt.getNodeById(it),pt=Ae&&this.gt.getNodeById(Ae.dataset.id),ft=pt?pt.parent.children.indexOf(pt):ht.children.length;d instanceof P.$l?this.gt.addCustomNode(He.dataset.id,ht,ft):this.gt.addNode(d.type,ht,ft,d.content,he.dataset.droppable),he=null,Ae=null})))))).subscribe()}addCustom(){this.editMode?(this.editMode=!1,this.gt.setCurrentBoard(this.gt.boards[0])):(this.editMode=!0,this.gt.addCustomComponent())}editCustom(d){this.gt.setCurrentBoard(d),this.editMode=!0}editCustomInfo(d,L){L.stopPropagation(),L.preventDefault(),this._gtContextMenu(this.gt,"customElement",d,L)}deleteCustom(d){this.gt.customComponent.splice(this.gt.customComponent.indexOf(d),1)}editType(){this.editTypeMode=!this.editTypeMode}opened(d){d.expanded=!0,this.gt.settings.changeElementAccordionExpanded(d.title,!0)}closed(d){d.expanded=!1,this.gt.settings.changeElementAccordionExpanded(d.title,!1)}}return ne.\u0275fac=function(d){return new(d||ne)(e.Y36(a.Z),e.Y36(e.sBO),e.Y36(W.j8),e.Y36(ee.K0),e.Y36(O.aQ),e.Y36(O.EU),e.Y36(O.C9),e.Y36(O.Kq,8))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["gt-accordion-element"]],features:[e._Bn([W.j8])],decls:3,vars:3,consts:[[3,"multi"],[3,"cardTitle","expanded","opened","closed",4,"ngFor","ngForOf"],[3,"cardTitle","expanded","opened","closed",4,"ngIf"],[3,"cardTitle","expanded","opened","closed"],[1,"item-container","row"],["type","button","class","col-4 px-0 text-center btn btn-text",3,"mousedown","touchstart",4,"ngFor","ngForOf"],["type","button",1,"col-4","px-0","text-center","btn","btn-text",3,"mousedown","touchstart"],["target",""],["class","fs-1 gt-icon",4,"ngIf"],[1,"text-truncate"],[1,"fs-1","gt-icon"],[1,"item-container","clearfix"],["type","button","class","col-4 px-0 text-center btn btn-text",3,"mousedown","touchstart","dblclick","contextmenu",4,"ngFor","ngForOf"],[1,"d-grid","gap-2"],[1,"btn","btn-light",3,"click"],["type","button",1,"col-4","px-0","text-center","btn","btn-text",3,"mousedown","touchstart","dblclick","contextmenu"],["class","fa fa-times-circle","style","    font-size: 16px;\n    color: #000;\n    position: absolute;\n    margin: -9px 0 0 9px;",3,"click",4,"ngIf"],["type","text","class","form-control input-xs",3,"ngModel","ngModelChange",4,"ngIf"],["class","text-truncate",4,"ngIf"],[1,"fa","fa-times-circle",2,"font-size","16px","color","#000","position","absolute","margin","-9px 0 0 9px",3,"click"],["type","text",1,"form-control","input-xs",3,"ngModel","ngModelChange"]],template:function(d,L){1&d&&(e.TgZ(0,"gt-accordion",0),e.YNc(1,_e,3,3,"gt-accordion-item",1),e.YNc(2,ut,6,6,"gt-accordion-item",2),e.qZA()),2&d&&(e.Q6J("multi",!0),e.xp6(1),e.Q6J("ngForOf",L.internalElementLists),e.xp6(1),e.Q6J("ngIf",L.gtAuth.customComponent))},dependencies:[me.Fj,me.JJ,me.On,ee.sg,ee.O5,Le,Ye.n],encapsulation:2,changeDetection:0}),ne})();var Je=i(7080);function Ie(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"i",8),e.NdJ("click",function(H){e.CHM(d);const he=e.oxw().$implicit;return e.oxw().remove(he,H),e.KtG(H.stopPropagation())}),e._uU(1,"trash"),e.qZA()}}function Re(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"gt-accordion-item",5),e.NdJ("opened",function(){const he=e.CHM(d).$implicit,Ae=e.oxw();return e.KtG(Ae.switchBoard(he))}),e.YNc(1,Ie,2,0,"i",6),e._UZ(2,"gt-board-edit",7),e.qZA()}if(2&ne){const d=ve.$implicit;e.Q6J("cardTitle",d.name||"Main"),e.xp6(1),e.Q6J("ngIf","main"!==d.type),e.xp6(1),e.Q6J("board",d)}}let ze=(()=>{class ne{constructor(d){this.gt=d}remove(d,L){L.stopPropagation(),this.gt.removeBoard(d)}switchBoard(d){this.gt.currentBoard!==d&&this.gt.setCurrentBoard(d)}}return ne.\u0275fac=function(d){return new(d||ne)(e.Y36(a.Z))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["gt-accordion-page"]],decls:5,vars:2,consts:function(){let ve;return ve=" Add ",[[3,"multi"],[3,"cardTitle","opened",4,"ngFor","ngForOf"],[1,"d-grid","gap-2","p-3"],[1,"btn","btn-light",3,"click"],ve,[3,"cardTitle","opened"],["class","gt-icon me-2 accordion-header-buttons","style","cursor:pointer;",3,"click",4,"ngIf"],[3,"board"],[1,"gt-icon","me-2","accordion-header-buttons",2,"cursor","pointer",3,"click"]]},template:function(d,L){1&d&&(e.TgZ(0,"gt-accordion",0),e.YNc(1,Re,3,3,"gt-accordion-item",1),e.qZA(),e.TgZ(2,"div",2)(3,"button",3),e.NdJ("click",function(){return L.gt.addBoard()}),e.SDv(4,4),e.qZA()()),2&d&&(e.Q6J("multi",!1),e.xp6(1),e.Q6J("ngForOf",L.gt.boards))},dependencies:[ee.sg,ee.O5,Je.V,Le,Ye.n],encapsulation:2}),ne})();var rt=i(7851),G=i(5017),de=i(1135);class B{constructor(ve,d,L,H){this.transformFunction=ve,this.getLevel=d,this.isExpandable=L,this.getChildren=H}_flattenNode(ve,d,L,H){const he=this.transformFunction(ve,d);if(L.push(he),this.isExpandable(he)){const Ae=this.getChildren(ve);Ae&&(Array.isArray(Ae)?this._flattenChildren(Ae,d,L,H):Ae.pipe((0,N.q)(1)).subscribe(He=>{this._flattenChildren(He,d,L,H)}))}return L}_flattenChildren(ve,d,L,H){ve.forEach((he,Ae)=>{let He=H.slice();He.push(Ae!==ve.length-1),this._flattenNode(he,d+1,L,He)})}flattenNodes(ve){let d=[];return ve.forEach(L=>this._flattenNode(L,0,d,[])),d}expandFlattenedNodes(ve,d){let L=[],H=[];return H[0]=!0,ve.forEach(he=>{let Ae=!0;for(let He=0;He<=this.getLevel(he);He++)Ae=Ae&&H[He];Ae&&L.push(he),this.isExpandable(he)&&(H[this.getLevel(he)+1]=d.isExpanded(he))}),L}}class y extends G.o2{constructor(ve,d,L){super(),this._treeControl=ve,this._treeFlattener=d,this._flattenedData=new de.X([]),this._expandedData=new de.X([]),this._data=new de.X([]),L&&(this.data=L)}get data(){return this._data.value}set data(ve){this._data.next(ve),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(ve){return(0,C.T)(ve.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,pe.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}function _(ne,ve){if(1&ne&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&ne){const d=e.oxw().$implicit;e.xp6(1),e.hij("(Outlet ID: ",d.source.outletID,")")}}function h(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"cdk-tree-node",6)(1,"div",7),e._UZ(2,"div",8),e.TgZ(3,"button",9),e.NdJ("click",function(){const he=e.CHM(d).$implicit,Ae=e.oxw();return e.KtG(Ae.selectTreeNode(he.source))})("contextmenu",function(H){const Ae=e.CHM(d).$implicit,He=e.oxw();return e.KtG(He.onContextmenu(Ae.source,H))}),e._uU(4),e.YNc(5,_,2,1,"small",10),e.qZA()()()}if(2&ne){const d=ve.$implicit,L=e.oxw();e.Q6J("cdkDragDisabled",d.source.template&&!d.source.isTemplateRoot)("cdkDragData",d.source)("cdkDropListEnterPredicate",L.cdkDropListEnterPredicate),e.xp6(3),e.ekj("active",L.gt.selected.includes(d.source)),e.xp6(1),e.hij(" ",d.type," "),e.xp6(1),e.Q6J("ngIf",d.source.outletID)}}function x(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"cdk-tree-node",11)(1,"div",7)(2,"button",12)(3,"i",13),e._uU(4,"chevron_right"),e.qZA()(),e.TgZ(5,"button",9),e.NdJ("click",function(){const he=e.CHM(d).$implicit,Ae=e.oxw();return e.KtG(Ae.selectTreeNode(he.source))})("contextmenu",function(H){const Ae=e.CHM(d).$implicit,He=e.oxw();return e.KtG(He.onContextmenu(Ae.source,H))}),e._uU(6),e.qZA()()()}if(2&ne){const d=ve.$implicit,L=e.oxw();e.Q6J("cdkDragData",d.source)("cdkDropListEnterPredicate",L.cdkDropListEnterPredicate),e.xp6(2),e.Udp("transform",L.treeControl.isExpanded(d)?"rotate(90deg)":""),e.uIk("aria-label","Toggle "+d.type),e.xp6(3),e.ekj("active",L.gt.selected.includes(d.source)),e.xp6(1),e.AsE(" ",d.type," ( ",d.source.children.length," ) ")}}let J=(()=>{class ne{constructor(d,L,H){this.gt=d,this.events=L,this._gtContextMenu=H,this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this._transformer=(he,Ae)=>{const He=this.nestedNodeMap.get(he),Qe=He&&He.source===he&&He.expandable===(!!he.children&&he.children.length>0)&&He.level===Ae?He:{expandable:!!he.children&&he.children.length>0,type:he.type,level:Ae,source:he};return Qe.source=he,Qe.level=Ae,Qe.expandable=!!he.children&&he.children.length>0,this.flatNodeMap.set(Qe,he),this.nestedNodeMap.set(he,Qe),Qe},this.treeControl=new rt.C2(he=>he.level,he=>he.expandable),this.treeFlattener=new B(this._transformer,he=>he.level,he=>he.expandable,he=>he.children),this.dataSource=new y(this.treeControl,this.treeFlattener),this.hasChild=(he,Ae)=>Ae.expandable,this.subscription1=j.w0.EMPTY,this.subscription2=j.w0.EMPTY}ngOnInit(){this.subscription1=(0,C.T)((0,c.of)(null),this.events.onEvent.pipe((0,s.h)(({type:d})=>["INSERT_NODE","REMOVE_NODE","MOVE_NODE","UNDO","REDO","CHANGE_BOARD"].indexOf(d)>-1))).subscribe(d=>{this.dataSource.data=[this.gt.currentBoard.gt]}),this.subscription2=this.events.CHANGE_SELECT.subscribe(d=>{d.forEach(L=>{L.path.forEach(H=>{const he=this.nestedNodeMap.get(H);this.treeControl.expand(he)})})})}ngOnDestroy(){this.subscription1.unsubscribe(),this.subscription2.unsubscribe()}onContextmenu(d,L){if(L.preventDefault(),"root"===d.type)return;const H=this.gt.getNodeById(d.id);this.gt.selected.includes(H)||this.gt.changeSelect(H),this._gtContextMenu&&this._gtContextMenu(this.gt,"gtNode",H,L)}selectTreeNode(d){const L=this.gt.getNodeById(d.id);L&&!this.gt.selected.includes(L)&&this.gt.changeSelect(L)}onEvent(d){const L=this.gt.getNodeById(d.node.id);this.gt.selected.includes(L)||this.gt.changeSelect(L)}sorted(d){}dropped(d){}cdkDropListEnterPredicate(d,L){return!0}cdkDropListSortPredicate(d,L,H){const he=L.data,Ae=H.getSortedItems()[d].data;return!!Ae.parent&&!Ae.path.includes(he)}cdkDropListDropped({currentIndex:d,container:L,item:H}){const he=L.getSortedItems()[d];this.gt.dropNode(H.data,he.data.parent,he.data.parent.children.indexOf(he.data))}}return ne.\u0275fac=function(d){return new(d||ne)(e.Y36(a.Z),e.Y36(m.n),e.Y36(O.Kq,8))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["gt-accordion-elTree"]],viewQuery:function(d,L){if(1&d&&(e.Gf(rt._0,5),e.Gf(rt.Xx,5)),2&d){let H;e.iGM(H=e.CRH())&&(L.tree=H.first),e.iGM(H=e.CRH())&&(L.treeNodes=H)}},decls:6,vars:5,consts:function(){let ve;return ve=" There are " + "\ufffd0\ufffd" + " nodes totally ",[[1,"bg-secondary-subtle","p-2","text-center","border-bottom"],ve,[1,"p-3"],["cdkDropList","",1,"py-2",3,"dataSource","treeControl","cdkDropListSortPredicate","cdkDropListDropped","cdkDropListSorted"],["class","d-block mb-1","cdkDrag","","cdkDragLockAxis","y","cdkDropList","","cdkTreeNodePadding","","cdkTreeNodePaddingIndent","26",3,"cdkDragDisabled","cdkDragData","cdkDropListEnterPredicate",4,"cdkTreeNodeDef"],["class","d-block mb-1","cdkDrag","","cdkDragLockAxis","y","cdkDropList","","cdkTreeNodePadding","","cdkTreeNodePaddingIndent","26",3,"cdkDragData","cdkDropListEnterPredicate",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkDrag","","cdkDragLockAxis","y","cdkDropList","","cdkTreeNodePadding","","cdkTreeNodePaddingIndent","26",1,"d-block","mb-1",3,"cdkDragDisabled","cdkDragData","cdkDropListEnterPredicate"],[1,"d-flex","align-items-center","px-1"],[2,"width","2rem"],["type","button",1,"btn","btn-text","btn-sm","text-nowrap",3,"click","contextmenu"],[4,"ngIf"],["cdkDrag","","cdkDragLockAxis","y","cdkDropList","","cdkTreeNodePadding","","cdkTreeNodePaddingIndent","26",1,"d-block","mb-1",3,"cdkDragData","cdkDropListEnterPredicate"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-expander","btn-sm"],[1,"gt-icon"]]},template:function(d,L){1&d&&(e.TgZ(0,"div",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"div",2)(3,"cdk-tree",3),e.NdJ("cdkDropListDropped",function(he){return L.cdkDropListDropped(he)})("cdkDropListSorted",function(he){return L.sorted(he)}),e.YNc(4,h,6,7,"cdk-tree-node",4),e.YNc(5,x,7,9,"cdk-tree-node",5),e.qZA()()),2&d&&(e.xp6(1),e.pQV(L.gt.currentBoard.nodeList.size),e.QtT(1),e.xp6(2),e.Q6J("dataSource",L.dataSource)("treeControl",L.treeControl)("cdkDropListSortPredicate",L.cdkDropListSortPredicate),e.xp6(2),e.Q6J("cdkTreeNodeDefWhen",L.hasChild))},dependencies:[ee.O5,V.Wj,V.Zt,rt.rO,rt.XJ,rt.Ud,rt._0,rt.Hs],encapsulation:2}),ne})();var g=i(8184);const A=["tabsEle"];function u(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"button",7,8),e.NdJ("click",function(){e.CHM(d);const H=e.oxw().$implicit,he=e.oxw();return e.KtG(he.gt.settings.activateRightTab(H.id))})("cdkDragEnded",function(H){e.CHM(d);const he=e.MAs(1),Ae=e.oxw().$implicit,He=e.oxw();return e.KtG(He.dragEnd(H,he,Ae))}),e.TgZ(2,"i",9),e._uU(3),e.qZA()()}if(2&ne){const d=e.oxw().$implicit,L=e.oxw();e.Udp("cursor",L.gt.settings.rightTabIndex===d.id?"default":"pointer"),e.ekj("active",L.gt.settings.rightTabIndex===d.id),e.Q6J("cdkDragStartDelay",50),e.uIk("data-id",d.id),e.xp6(3),e.Oqu(d.icon)}}function F(ne,ve){if(1&ne&&(e.ynx(0),e.YNc(1,u,4,7,"button",6),e.BQk()),2&ne){const d=ve.$implicit;e.xp6(1),e.Q6J("ngIf",!d.hide)}}function oe(ne,ve){if(1&ne&&e._UZ(0,"gt-accordion-element",10),2&ne){const d=e.oxw();e.Udp("display",0===d.gt.settings.rightTabIndex?"":"none")}}function D(ne,ve){if(1&ne&&e._UZ(0,"gt-accordion-config",10),2&ne){const d=e.oxw();e.Udp("display",1===d.gt.settings.rightTabIndex?"":"none")}}function w(ne,ve){if(1&ne&&e._UZ(0,"gt-accordion-elTree",10),2&ne){const d=e.oxw();e.Udp("display",2===d.gt.settings.rightTabIndex?"":"none")}}function R(ne,ve){if(1&ne&&e._UZ(0,"gt-accordion-page",10),2&ne){const d=e.oxw();e.Udp("display",3===d.gt.settings.rightTabIndex?"":"none")}}let re=(()=>{class ne{constructor(d,L,H){this.gt=d,this._overlay=L,this.gtAuth=H,this.tabs=[{id:0,icon:"add",component:De},{id:1,icon:"edit",component:S},{id:2,icon:"file",component:J},{id:3,icon:"pages",hide:!this.gtAuth.modal,component:ze}]}dragEnd(d,L,H){this.createWindow(H,d.dropPoint.x,d.dropPoint.y),L.reset()}createWindow(d,L,H){d.hide=!0;const he=this._overlay.create({positionStrategy:this._overlay.position().global().top((0,fe.HM)(H)).left((0,fe.HM)(L))}),Ae=he.attach(new le.C5(Oe));Ae.instance.componentPortal=new le.C5(d.component),Ae.instance.icon=d.icon,Ae.instance.windowClose.subscribe(()=>{d.hide=!1,he.dispose()})}}return ne.\u0275fac=function(d){return new(d||ne)(e.Y36(a.Z),e.Y36(g.aV),e.Y36(O.C9))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["gt-sidebar"]],viewQuery:function(d,L){if(1&d&&e.Gf(A,7),2&d){let H;e.iGM(H=e.CRH())&&(L.tabsEle=H.first)}},hostAttrs:[1,"gt-sidebar","flex-shrink-0"],decls:9,vars:5,consts:[[1,"card","border-0","h-100"],[1,"card-header","bg-body"],[1,"nav","nav-pills","nav-justified","card-header-pills"],[4,"ngFor","ngForOf"],[1,"card-body","p-0",2,"overflow-y","scroll"],["class","tab-panel",3,"display",4,"ngIf"],["class","nav-link","type","button","cdkDrag","","cdkDragBoundary","body","cdkDragPreviewContainer","global",3,"cdkDragStartDelay","active","cursor","click","cdkDragEnded",4,"ngIf"],["type","button","cdkDrag","","cdkDragBoundary","body","cdkDragPreviewContainer","global",1,"nav-link",3,"cdkDragStartDelay","click","cdkDragEnded"],["cdkDrag","cdkDrag"],[1,"gt-icon"],[1,"tab-panel"]],template:function(d,L){1&d&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nav",2),e.YNc(3,F,2,1,"ng-container",3),e.qZA()(),e.TgZ(4,"div",4),e.YNc(5,oe,1,2,"gt-accordion-element",5),e.YNc(6,D,1,2,"gt-accordion-config",5),e.YNc(7,w,1,2,"gt-accordion-elTree",5),e.YNc(8,R,1,2,"gt-accordion-page",5),e.qZA()()),2&d&&(e.xp6(3),e.Q6J("ngForOf",L.tabs),e.xp6(2),e.Q6J("ngIf",!L.tabs[0].hide),e.xp6(1),e.Q6J("ngIf",!L.tabs[1].hide),e.xp6(1),e.Q6J("ngIf",!L.tabs[2].hide),e.xp6(1),e.Q6J("ngIf",L.gtAuth.modal&&!L.tabs[3].hide))},dependencies:[ee.sg,ee.O5,V.Zt,S,De,J,ze],encapsulation:2}),ne})();var xe=i(5963);const Ge=["tooltipContainer"],Xe=["tooltip",""],lt=function(ne,ve){return{top:ne,left:ve}};let _t=(()=>{class ne{constructor(d,L,H){this.elementRef=d,this.cdr=L,this.direction=H,this.fading=!1,this.fadingOutSubscription=j.w0.EMPTY}get tooltipPosition(){return this._tooltipPosition}set tooltipPosition(d){if("rtl"===this.direction.value)switch(d){case"start":this._tooltipPosition="end";break;case"end":this._tooltipPosition="start";break;default:this._tooltipPosition=d}else this._tooltipPosition=d}get showing(){return!!this.elementRef.nativeElement.parentElement}show(){this.elementRef.nativeElement.parentElement||(this.fadingOutSubscription.unsubscribe(),this.fadingOutSubscription=j.w0.EMPTY,document.body.appendChild(this.elementRef.nativeElement)),this.cdr.detectChanges()}hide(){this.elementRef.nativeElement.parentElement&&this.elementRef.nativeElement.parentElement.removeChild(this.elementRef.nativeElement),this.cdr.detectChanges()}setTitle(d){this.tooltipTitle=d,this.cdr.detectChanges()}setPosition(d){this.tooltipPosition=d,this.cdr.detectChanges()}updatePosition(d){this.fading=!0,this.fadingOutSubscription.unsubscribe(),this.fadingOutSubscription=j.w0.EMPTY;const L=this.tooltipContainer.nativeElement.getBoundingClientRect();let Ae,He,H=0,he=0;const Qe=document.body.clientWidth-L.width-5;switch(this.tooltipPosition){case"top":if(H=L.width/2,He=d.top-L.height,Ae=(d.left+d.right-L.width)/2,Ae>Qe){const nt=Ae-Qe;Ae=Qe,H+=nt}if(Ae<5){const nt=Ae-5;Ae=5,H+=nt}break;case"bottom":if(H=L.width/2,He=d.bottom,Ae=(d.left+d.right-L.width)/2,Ae>Qe){const nt=Ae-Qe;Ae=Qe,H+=nt}if(Ae<5){const nt=Ae-5;Ae=5,H+=nt}break;case"start":he=L.height/2,Ae=d.left-L.width,He=(d.top+d.bottom-L.height)/2;break;default:he=L.height/2,Ae=d.right,He=(d.top+d.bottom-L.height)/2}H=Math.round(H),he=Math.round(he),Ae=Math.round(Ae),He=Math.round(He),this.arrowMatrix=`matrix(1,0,0,1,${H},${he})`,this.containerMatrix=`matrix(1,0,0,1,${Ae},${He})`,this.cdr.detectChanges()}fadeIn(d){this.cdr.detectChanges(),this.show(),this.updatePosition(d),this.fading=!1,this.hide(),this.show(),(0,W.nq)(this.tooltipContainer.nativeElement),this.fading=!0,this.cdr.detectChanges()}fadeOut(){this.fading=!1,this.cdr.detectChanges(),this.fadingOutSubscription=(0,xe.H)(150).subscribe(()=>this.hide())}}return ne.\u0275fac=function(d){return new(d||ne)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(f.Is))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["div","tooltip",""]],viewQuery:function(d,L){if(1&d&&e.Gf(Ge,7),2&d){let H;e.iGM(H=e.CRH())&&(L.tooltipContainer=H.first)}},inputs:{tooltipTitle:"tooltipTitle",tooltipPosition:"tooltipPosition"},attrs:Xe,decls:5,vars:12,consts:[["role","tooltip",1,"tooltip","position-absolute","fade",2,"left","0","top","0",3,"ngClass"],["tooltipContainer",""],[1,"tooltip-arrow","position-absolute",3,"ngStyle"],[1,"tooltip-inner"]],template:function(d,L){1&d&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e._uU(4),e.qZA()()),2&d&&(e.Udp("transform",L.containerMatrix),e.ekj("show",L.fading),e.Q6J("ngClass","bs-tooltip-"+L.tooltipPosition),e.xp6(2),e.Udp("transform",L.arrowMatrix),e.Q6J("ngStyle",e.WLB(9,lt,"start"===L.tooltipPosition||"end"===L.tooltipPosition?"-.4rem":"","bottom"===L.tooltipPosition||"top"===L.tooltipPosition?"-.4rem":"")),e.xp6(2),e.Oqu(L.tooltipTitle))},dependencies:[ee.mk,ee.PC],encapsulation:2}),ne})();class st{constructor(ve,d){this.elementRef=ve,this.appRef=d,this.tooltipPosition="end"}mouseenter(ve){if(ve.preventDefault(),ve.stopPropagation(),!this.tooltipTitle)return;st.tooltipRef||(st.tooltipRef=(0,e.LMc)(_t,{environmentInjector:this.appRef.injector}));const d=st.tooltipRef.instance,L=this.elementRef.nativeElement.getBoundingClientRect();d.showing?(d.setTitle(this.tooltipTitle),d.setPosition(this.tooltipPosition),d.updatePosition(L)):st.showTimerSubscription=(0,xe.H)(400).subscribe(()=>{d.setTitle(this.tooltipTitle),d.setPosition(this.tooltipPosition),d.fadeIn(L)}),st.hideTimerSubscription.unsubscribe(),st.hideTimerSubscription=j.w0.EMPTY}mouseleave(ve){ve.preventDefault(),ve.stopPropagation();const d=st.tooltipRef.instance;st.hideTimerSubscription=(0,xe.H)(50).subscribe(()=>d.fadeOut()),st.showTimerSubscription.unsubscribe(),st.showTimerSubscription=j.w0.EMPTY}}st.tooltipRef=null,st.showTimerSubscription=j.w0.EMPTY,st.hideTimerSubscription=j.w0.EMPTY,st.\u0275fac=function(ve){return new(ve||st)(e.Y36(e.SBq),e.Y36(e.z2F))},st.\u0275dir=e.lG2({type:st,selectors:[["","tooltip",""]],hostBindings:function(ve,d){1&ve&&e.NdJ("mouseenter",function(H){return d.mouseenter(H)})("mouseleave",function(H){return d.mouseleave(H)})},inputs:{tooltipTitle:"tooltipTitle",tooltipPosition:"tooltipPosition"}});var gt=i(6704);function bt(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){const he=e.CHM(d).$implicit,Ae=e.oxw();return e.KtG(Ae.switchBoard(he))}),e._uU(1),e.qZA()}if(2&ne){const d=ve.$implicit,L=e.oxw();e.Udp("cursor",L.gt.currentBoard===d?"default":"pointer"),e.ekj("active",L.gt.currentBoard===d),e.xp6(1),e.hij(" ",d.name||d.type," ")}}function yt(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){const he=e.CHM(d).$implicit,Ae=e.oxw();return e.KtG(Ae.switchBoard(he))}),e._uU(1),e.qZA()}if(2&ne){const d=ve.$implicit,L=e.oxw();e.Udp("cursor",L.gt.currentBoard===d?"default":"pointer"),e.ekj("active",L.gt.currentBoard===d),e.xp6(1),e.hij(" ",d.name||d.type," ")}}function Nt(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(d);const H=e.oxw().$implicit,he=e.oxw();return e.KtG(H.onclick(he.gt))}),e.TgZ(1,"i",2),e._uU(2),e.qZA()()}if(2&ne){const d=e.oxw().$implicit;e.ekj("active",d.active),e.Q6J("tooltipTitle",d.title)("disabled",d.disabled),e.xp6(2),e.Oqu(d.icon)}}function xt(ne,ve){if(1&ne&&(e.TgZ(0,"div",20)(1,"button",21)(2,"i",2),e._uU(3),e.qZA()()()),2&ne){const d=e.oxw().$implicit;e.xp6(1),e.Q6J("title",d.title),e.xp6(2),e.Oqu(d.icon)}}function Et(ne,ve){if(1&ne&&(e.ynx(0),e.YNc(1,Nt,3,5,"button",17),e._uU(2,"\xa0 "),e.YNc(3,xt,4,2,"div",18),e.BQk()),2&ne){const d=ve.$implicit;e.xp6(1),e.Q6J("ngIf",!d.children),e.xp6(2),e.Q6J("ngIf",d.children)}}let Rt=(()=>{class ne{constructor(d,L,H){this.gt=d,this.editorBrand=L,this.topBarButtons=H}getLeftDropdown(){return this.gt.boards.concat(this.gt.customComponent).map(d=>({text:d.type,active:this.gt.currentBoard===d,data:d}))}getRightDropdown(){return this.topBarButtons.map(d=>({text:d.title,active:d.active,icon:d.icon,data:d}))}switchBoard(d){this.gt.currentBoard!==d&&this.gt.setCurrentBoard(d)}}return ne.\u0275fac=function(d){return new(d||ne)(e.Y36(a.Z),e.Y36(O._5,8),e.Y36(O.R,8))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["gt-navbar"]],hostAttrs:[1,"navbar","navbar-expand-md","border-bottom"],decls:23,vars:10,consts:[[1,"container-fluid","flex-nowrap"],["type","button","data-bs-toggle","collapse","aria-expanded","false","aria-label","Toggle navigation","gt-dropdown","",1,"navbar-toggler","me-auto",3,"items","itemClick"],[1,"gt-icon"],[1,"navbar-brand","d-flex",2,"cursor","pointer",3,"click"],[1,"rounded",2,"width","2rem",3,"src","alt"],[1,"fw-bold","ms-2","d-md-inline","d-none"],[1,"vr","my-2","text-body"],[1,"nav","nav-pills","me-auto","ms-3","d-none","d-md-block"],["class","nav-link","type","button",3,"active","cursor","click",4,"ngFor","ngForOf"],["type","button","class","nav-link",3,"active","cursor","click",4,"ngFor","ngForOf"],[1,"ms-3","me-auto","text-nowrap"],[1,"fw-bold","fs-5"],[1,"d-none","d-sm-inline"],["type","button","data-bs-toggle","collapse","aria-expanded","false","aria-label","Toggle navigation","gt-dropdown","",1,"navbar-toggler",3,"items","itemClick"],[1,"text-nowrap","ms-3","overflow-x-auto","d-none","d-md-block"],[4,"ngFor","ngForOf"],["type","button",1,"nav-link",3,"click"],["type","button","class","btn btn-light","tooltip","","tooltipPosition","bottom",3,"active","tooltipTitle","disabled","click",4,"ngIf"],["class","btn-group","role","group",4,"ngIf"],["type","button","tooltip","","tooltipPosition","bottom",1,"btn","btn-light",3,"tooltipTitle","disabled","click"],["role","group",1,"btn-group"],["type","button",1,"btn","btn-link","dropdown-toggle",3,"title"]],template:function(d,L){1&d&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("itemClick",function(he){return L.switchBoard(he.data)}),e.TgZ(2,"i",2),e._uU(3,"list"),e.qZA()(),e.TgZ(4,"a",3),e.NdJ("click",function(){return L.editorBrand.click&&L.editorBrand.click()}),e._UZ(5,"img",4),e.TgZ(6,"span",5),e._uU(7),e.qZA()(),e._UZ(8,"div",6),e.TgZ(9,"nav",7),e.YNc(10,bt,2,5,"button",8),e.YNc(11,yt,2,5,"button",9),e.qZA(),e.TgZ(12,"div",10)(13,"span",11),e._uU(14),e.qZA(),e._uU(15," \xa0"),e.TgZ(16,"small",12),e._uU(17),e.qZA()(),e.TgZ(18,"button",13),e.NdJ("itemClick",function(he){return he.data.onclick(L.gt)}),e.TgZ(19,"i",2),e._uU(20,"dotted_line"),e.qZA()(),e.TgZ(21,"div",14),e.YNc(22,Et,4,2,"ng-container",15),e.qZA()()),2&d&&(e.xp6(1),e.Q6J("items",L.getLeftDropdown()),e.xp6(4),e.Q6J("src",L.editorBrand.src,e.LSH)("alt",L.editorBrand.alt),e.xp6(2),e.Oqu(L.editorBrand.title),e.xp6(3),e.Q6J("ngForOf",L.gt.boards),e.xp6(1),e.Q6J("ngForOf",L.gt.customComponent),e.xp6(3),e.Oqu(L.gt.settings.name),e.xp6(3),e.Oqu(L.gt.settings.description),e.xp6(1),e.Q6J("items",L.getRightDropdown()),e.xp6(4),e.Q6J("ngForOf",L.topBarButtons))},dependencies:[ee.sg,ee.O5,st,gt.w],encapsulation:2}),ne})();function wt(ne,ve){if(1&ne){const d=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(){e.CHM(d);const H=e.oxw().$implicit,he=e.oxw();return e.KtG(he.gt.changeSelect(H))}),e._uU(1),e.qZA()}if(2&ne){const d=e.oxw().$implicit;e.xp6(1),e.hij(" ",d.type," ")}}function Dt(ne,ve){if(1&ne&&(e.ynx(0),e._uU(1),e.BQk()),2&ne){const d=e.oxw().$implicit;e.xp6(1),e.Oqu(d.type)}}function It(ne,ve){if(1&ne&&(e.TgZ(0,"li",17),e.YNc(1,wt,2,1,"a",18),e.YNc(2,Dt,2,1,"ng-container",19),e.qZA()),2&ne){const d=ve.$implicit,L=e.oxw();e.ekj("active",d===(L.gt.selected[0]||L.gt.gt)),e.xp6(1),e.Q6J("ngIf",d!==(L.gt.selected[0]||L.gt.gt)),e.xp6(1),e.Q6J("ngIf",d===(L.gt.selected[0]||L.gt.gt))}}const At=function(){return["l","t"]};let Pt=(()=>{class ne{constructor(d,L){this.gt=d,this.events=L,this.log=this.gt.log,this.gtInit=new e.vpe,this.eventSubscription=j.w0.EMPTY,this.hoveredGtNode=null,this.eventSubscription=this.events.onEvent.subscribe(H=>{this.log.next({type:"log",message:H.type,data:H.data})}),X().bind(["ctrl+c","meta+c"],H=>{H.preventDefault(),d.copyNode()}),X().bind(["ctrl+v","meta+v"],H=>{H.preventDefault(),d.pasteNode(d.selected[0])}),X().bind(["ctrl+shift+c","meta+shift+c"],H=>{H.preventDefault(),d.copyStyle()}),X().bind(["ctrl+shift+v","meta+shift+v"],H=>{H.preventDefault(),d.pasteStyle()}),X().bind(["ctrl+z","meta+z"],H=>{H.preventDefault(),d.undo()}),X().bind(["ctrl+shift+z","meta+shift+z"],H=>{H.preventDefault(),d.redo()}),X().bind("alt+1",H=>{H.preventDefault(),d.settings.activateRightTab(0)}),X().bind("alt+2",H=>{H.preventDefault(),d.settings.activateRightTab(1)}),X().bind("alt+3",H=>{H.preventDefault(),d.settings.activateRightTab(2)}),X().bind("alt+4",H=>{H.preventDefault(),d.settings.activateRightTab(3)}),X().bind("del",H=>{H.preventDefault(),d.removeNode()}),X().bind("m",H=>{H.preventDefault(),d.mode="move"}),X().bind("v",H=>{H.preventDefault(),d.mode="edit"}),(0,t.R)(document,"keypress").pipe((0,s.h)(()=>document.activeElement===document.body),(0,s.h)(H=>H.keyCode===l.L_),(0,U.b)(()=>d.mode="move"),(0,Y.w)(()=>(0,t.R)(document,"keyup").pipe((0,s.h)(H=>H.keyCode===l.L_),(0,U.b)(()=>d.mode="edit"),(0,N.q)(1)))).subscribe()}set data(d){this.gt.init(d.config),this.gt.initSettings({name:d.title,description:d.description,...d.settings}),this.gt.log.next({type:"init",message:"Application Initialization",data:this.gt})}ngOnDestroy(){this.eventSubscription.unsubscribe(),this.gt.destroy()}resetPosition(){this.blackboard.resetPosition()}}return ne.\u0275fac=function(d){return new(d||ne)(e.Y36(a.Z),e.Y36(m.n))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["gt-edit"]],viewQuery:function(d,L){if(1&d&&e.Gf(k,7),2&d){let H;e.iGM(H=e.CRH())&&(L.blackboard=H.first)}},inputs:{data:"data"},outputs:{log:"log",gtInit:"gtInit"},decls:27,vars:12,consts:function(){let ve,d,L;return ve="Cursor",d="Pan",L="Reset",[[1,"d-flex","vh-100","flex-column",2,"padding","env(safe-area-inset-right) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left)"],[1,"d-flex","flex-grow-1","flex-md-row","flex-column","overflow-hidden"],[1,"d-inline-flex","flex-md-column","flex-row","p-1",3,"mousedown"],["tooltip","","tooltipTitle",ve,1,"btn","btn-text","mb-md-1","me-1","me-md-0",3,"click"],[1,"gt-icon"],["tooltip","","tooltipTitle",d,1,"btn","btn-text","mb-md-1","me-1","me-md-0",3,"click"],["tooltip","","tooltipTitle",L,1,"btn","btn-text",3,"click"],[1,"vr","d-none","d-md-flex","h-100","text-body-secondary"],[1,"d-lg-none","text-body-secondary","m-0"],[1,"d-flex","flex-column","flex-grow-1","overflow-hidden"],[1,"flex-grow-1",3,"gtNodeHover"],["blackboard",""],[1,"d-flex","justify-content-between","align-items-center","border-top","px-2"],[1,"breadcrumb","mb-0","flex-shrink-0"],["class","breadcrumb-item",3,"active",4,"ngFor","ngForOf"],[1,"badge","text-bg-primary"],["gtResize","",2,"width","20rem",3,"maxWidth","minWidth","resizes"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"click",4,"ngIf"],[4,"ngIf"],["href","javascript:void(0)",3,"click"]]},template:function(d,L){1&d&&(e.TgZ(0,"div",0),e._UZ(1,"gt-navbar"),e.TgZ(2,"div",1)(3,"div",2),e.NdJ("mousedown",function(he){return he.stopPropagation()}),e.TgZ(4,"button",3),e.NdJ("click",function(){return L.gt.mode="edit"}),e.TgZ(5,"i",4),e._uU(6,"mouse_pointer"),e.qZA()(),e.TgZ(7,"button",5),e.NdJ("click",function(){return L.gt.mode="move",L.gt.selected=[]}),e.TgZ(8,"i",4),e._uU(9,"move"),e.qZA()(),e.TgZ(10,"button",6),e.NdJ("click",function(){return L.resetPosition()}),e.TgZ(11,"i",4),e._uU(12,"refresh_ccw"),e.qZA()()(),e._UZ(13,"div",7)(14,"hr",8),e.TgZ(15,"div",9)(16,"gt-blackboard",10,11),e.NdJ("gtNodeHover",function(he){return L.hoveredGtNode=he}),e.qZA(),e.TgZ(18,"div",12)(19,"ol",13),e.YNc(20,It,3,4,"li",14),e.qZA(),e.TgZ(21,"span",15),e._uU(22),e.ALo(23,"uppercase"),e.qZA()()(),e._UZ(24,"div",7)(25,"hr",8)(26,"gt-sidebar",16),e.qZA()()),2&d&&(e.xp6(4),e.ekj("active","edit"===L.gt.mode),e.xp6(3),e.ekj("active","move"===L.gt.mode),e.xp6(13),e.Q6J("ngForOf",(L.gt.selected[0]||L.gt.gt).path),e.xp6(2),e.Oqu(e.lcZ(23,9,null==L.hoveredGtNode?null:L.hoveredGtNode.type)),e.xp6(4),e.Q6J("maxWidth",400)("minWidth",230)("resizes",e.DdM(11,At)))},dependencies:[ee.sg,ee.O5,re,st,I.c,k,Rt,ee.gd],encapsulation:2}),ne})()},3290:(Ze,Te,i)=>{"use strict";i.d(Te,{K:()=>j,a:()=>l});var e=i(4650);const l=new e.OlP("Ghosten Node \u914d\u7f6e\u5217\u8868"),j=new e.OlP("Ghosten Node \u9ed8\u8ba4\u5c5e\u6027\u914d\u7f6e")},7088:(Ze,Te,i)=>{"use strict";i.d(Te,{Bx:()=>j,C9:()=>s,EU:()=>X,Kq:()=>l,Q$:()=>t,R:()=>U,_5:()=>O,aQ:()=>K,dd:()=>Y,gx:()=>W,ty:()=>N});var e=i(4650);const l=new e.OlP("Gt ContextMenu"),j=new e.OlP("gt-default-options"),t=new e.OlP("gt-element-lists"),s=new e.OlP("gt-auth-config"),U=new e.OlP("Top Bar Buttons"),Y=new e.OlP("Property edit event trigger"),N=new e.OlP("Ghosten Edit Component Map"),K=new e.OlP("Ghosten Template Map"),X=new e.OlP("Ghosten Internal Element Lists"),W=new e.OlP("Gt Node Default Config"),O=new e.OlP("Ghosten Editor Brand")},8414:(Ze,Te,i)=>{"use strict";i.d(Te,{n:()=>Y});var e=i(4650),l=i(8580),j=i(7340);const t=(0,j.X$)("bodyExpansion",[(0,j.SB)("collapsed, void",(0,j.oB)({height:"0px",visibility:"hidden"})),(0,j.SB)("expanded",(0,j.oB)({height:"*",visibility:"visible"})),(0,j.eR)("expanded <=> collapsed, void => collapsed",(0,j.jt)("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),s=[[["",8,"accordion-header-buttons"]],"*"],U=[".accordion-header-buttons","*"];let Y=(()=>{class N{constructor(){this.opened=new e.vpe,this.closed=new e.vpe}}return N.\u0275fac=function(X){return new(X||N)},N.\u0275cmp=e.Xpm({type:N,selectors:[["gt-accordion-item"]],viewQuery:function(X,W){if(1&X&&e.Gf(l.dD,5),2&X){let O;e.iGM(O=e.CRH())&&(W.accordion=O.first)}},hostAttrs:[1,"accordion-item","d-block"],inputs:{cardTitle:"cardTitle",expanded:"expanded"},outputs:{opened:"opened",closed:"closed"},ngContentSelectors:U,decls:10,vars:6,consts:[["cdkAccordionItem","",3,"expanded","opened","closed"],["accordionItem","cdkAccordionItem"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button",3,"click"],[1,"flex-grow-1"],[1,"accordion-collapse",2,"overflow","hidden"],[1,"accordion-body"]],template:function(X,W){if(1&X){const O=e.EpF();e.F$t(s),e.ynx(0,0,1),e.NdJ("opened",function(){return W.opened.emit()})("closed",function(){return W.closed.emit()}),e.TgZ(2,"h2",2)(3,"button",3),e.NdJ("click",function(){e.CHM(O);const a=e.MAs(1);return e.KtG(a.toggle())}),e.TgZ(4,"span",4),e._uU(5),e.qZA(),e.Hsn(6),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6),e.Hsn(9,1),e.qZA()(),e.BQk()}if(2&X){const O=e.MAs(1);e.Q6J("expanded",W.expanded),e.xp6(3),e.ekj("collapsed",!O.expanded),e.uIk("aria-expanded",O.expanded),e.xp6(2),e.Oqu(W.cardTitle),e.xp6(2),e.Q6J("@bodyExpansion",O.expanded?"expanded":"collapsed")}},dependencies:[l.dD],encapsulation:2,data:{animation:[t]}}),N})()},9875:(Ze,Te,i)=>{"use strict";i.d(Te,{n3:()=>e.n,fx:()=>s});var e=i(8414),l=i(8580),j=i(6895),t=i(4650);let s=(()=>{class U{}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=t.oAB({type:U}),U.\u0275inj=t.cJS({imports:[j.ez,l.XD]}),U})()},7062:(Ze,Te,i)=>{"use strict";i.d(Te,{O:()=>I,K:()=>f});var e=i(4650),l=i(727),j=i(6451),t=i(8690),s=i(8372);function W(v,te,ae,Se=1){switch(v.beginPath(),te){case"long":v.moveTo(ae,0),v.lineTo(ae,10*Se),v.globalAlpha=1;break;case"medium":v.moveTo(ae,0),v.lineTo(ae,8*Se),v.globalAlpha=.6;break;case"short":v.moveTo(ae,0),v.lineTo(ae,5*Se),v.globalAlpha=.3}v.closePath(),v.stroke()}function O(v,te,ae,Se,Ee=1){const Ce=Math.ceil(5/Se),k=[Math.floor(-ae/Ce/Se)*Ce,Math.ceil((te-ae)/Ce/Se)*Ce];for(let ee=k[0];ee<=k[1];ee+=Ce){const le=ee*Se+ae;ee%(20*Ce)==0?(W(v,"long",le,Ee),v.fillText(""+ee,le+5,20*Ee)):ee%(10*Ce)==0?W(v,"medium",le,Ee):ee%Ce==0&&W(v,"short",le,Ee)}}var p=i(3430),a=i(1194),m=i(445);let f=(()=>{class v{}return v.\u0275fac=function(ae){return new(ae||v)},v.\u0275dir=e.lG2({type:v,selectors:[["","page-structure-source",""]]}),v})(),I=(()=>{class v{constructor(ae,Se,Ee,Ce,k,ee){this.el=ae,this.events=Se,this.render=Ee,this.gt=Ce,this.ngZone=k,this.direction=ee,this.subscription=l.w0.EMPTY}ngOnInit(){if(!this.gtPage)throw new Error;const ae=this.el.nativeElement,Se=this.gtPage.nativeElement,Ee=this.render.createElement("canvas"),Ce=Ee.getContext("2d");Ee.classList.add("position-absolute"),Ee.classList.add("pe-none"),Ee.style.setProperty("z-index","1"),this.render.insertBefore(ae.parentElement,Ee,ae),this.ngZone.runOutsideAngular(()=>{this.subscription=(0,j.T)(this.events.CHANGE_SELECT,(0,t.R)(),this.events.BLACKBOARD_RESIZE.pipe((0,s.b)(20))).subscribe(()=>{const k=[],ee=[];this.gt.currentBoard.nodeList.forEach(le=>{le.componentRef&&k.push({element:le.componentRef.location.nativeElement,type:le.type})}),this.gt.selected.forEach(le=>{ee.push({element:le.componentRef.location.nativeElement,text1:le.type.toUpperCase(),text2:le.directive.map(T=>T.type).join(",")})}),function K(v,te,ae,Se,Ee=[],Ce={}){const k=v.canvas,ee=ae,le=te.getBoundingClientRect(),fe=te.clientLeft,{clientWidth:T,clientHeight:V,scrollLeft:Q,scrollTop:Oe}=te;if(k.width!==T*devicePixelRatio&&(k.width=T*devicePixelRatio,k.style.width=T+"px"),k.height!==V*devicePixelRatio&&(k.height=V*devicePixelRatio,k.style.height=V+"px"),v.clearRect(0,0,k.width,k.height),v.getTransform().a!==devicePixelRatio&&(v.resetTransform(),v.scale(devicePixelRatio,devicePixelRatio)),Ce.drawAll||Ce.drawActive){v.save(),v.translate(-le.left-fe,-le.top);const C=[];Ce.drawActive&&(v.setLineDash([]),v.lineWidth=1/devicePixelRatio,Ee.forEach(({element:c,text1:b,text2:q})=>{const ce=c.getBoundingClientRect(),{left:ue,top:Me,width:Pe,height:Fe}=ce,{padding:We,margin:et}=getComputedStyle(c),{marginRect:Le,paddingRect:Ye,contentRect:Ke}=function X(v,te,ae,Se,Ee,Ce){const k=Ee?Ee.split(" ").map(ce=>parseInt(ce,10)):[0],ee=Ce?Ce.split(" ").map(ce=>parseInt(ce,10)):[0];let le,fe,T,V,Q,Oe,se,C;switch(k.length){case 1:le=fe=T=V=k[0];break;case 2:le=T=k[0],V=fe=k[1];break;case 3:le=k[0],V=fe=k[1],T=k[2];break;case 4:le=k[0],fe=k[1],T=k[2],V=k[3];break;default:le=fe=T=V=0}switch(ee.length){case 1:Q=Oe=se=C=ee[0];break;case 2:Q=se=ee[0],C=Oe=ee[1];break;case 3:Q=ee[0],C=Oe=ee[1],se=ee[2];break;case 4:Q=ee[0],Oe=ee[1],se=ee[2],C=ee[3];break;default:Q=Oe=se=C=0}return{marginRect:[v-C,te-Q,ae+C+Oe,Se+Q+se],paddingRect:[v,te,ae,Se],contentRect:[v+V,te+le,ae-V-fe,Se-le-T]}}(ue,Me,Pe,Fe,We,et);v.fillStyle="rgba(255, 139, 15, 0.4)",v.fillRect(Le[0],Le[1],Le[2],Le[3]),v.clearRect(Ye[0],Ye[1],Ye[2],Ye[3]),v.fillStyle="rgba(2, 172, 13, 0.25)",v.fillRect(Ye[0],Ye[1],Ye[2],Ye[3]),v.clearRect(Ke[0],Ke[1],Ke[2],Ke[3]),v.fillStyle="rgba(32,189,248,0.4)",v.fillRect(Ke[0],Ke[1],Ke[2],Ke[3]),v.strokeStyle="#06366f",v.setLineDash([12/devicePixelRatio,4/devicePixelRatio]),v.strokeRect(Le[0],Le[1],Le[2],Le[3]),v.setLineDash([]),C.push({rect:ce,text1:b,text2:q})})),Ce.drawAll&&(v.strokeStyle="#8cb7ff",Se.forEach(({element:c,type:b})=>{if(c){const q=c.getBoundingClientRect();v.strokeRect(q.left,q.top,q.width,q.height),"slot"===b&&(v.strokeStyle=Ce.darkMode?"rgba(255, 255, 255, 0.4)":"rgba(0, 0, 0, 0.4)",v.lineWidth=6/devicePixelRatio,v.setLineDash([16/devicePixelRatio,4/devicePixelRatio]),v.strokeRect(q.left+v.lineWidth/2,q.top+v.lineWidth/2,q.width-v.lineWidth,q.height-v.lineWidth),v.setLineDash([]),v.lineWidth=1/devicePixelRatio,v.strokeStyle="#8cb7ff")}})),v.font="normal 12px system-ui,-apple-system,Arial,sans-serif",v.textBaseline="top",C.forEach(({rect:{left:c,right:b,top:q,bottom:ce},text1:ue,text2:Me})=>{const Pe=v.measureText(ue),Fe=v.measureText(Me);"rtl"===Ce.direction?(v.beginPath(),v.rect(b-(Pe.width+8),q-16,Pe.width+8,16),v.closePath(),v.strokeStyle="#8cb7ff",v.stroke(),v.fillStyle="#404dff",v.fill(),Me&&(v.beginPath(),v.rect(b-(Fe.width+8),ce,Fe.width+8,16),v.closePath(),v.strokeStyle="#ff8cfd",v.stroke(),v.fillStyle="#ff0cae",v.fill()),v.fillStyle="#ffffff",v.fillText(ue,b-4,q-14),Me&&v.fillText(Me,b-4,ce+2)):(v.beginPath(),v.rect(c,q-16,Pe.width+8,16),v.closePath(),v.strokeStyle="#8cb7ff",v.stroke(),v.fillStyle="#404dff",v.fill(),Me&&(v.beginPath(),v.rect(c,ce,Fe.width+8,16),v.closePath(),v.strokeStyle="#ff8cfd",v.stroke(),v.fillStyle="#ff0cae",v.fill()),v.fillStyle="#ffffff",v.fillText(ue,c+4,q-14),Me&&v.fillText(Me,c+4,ce+2))}),v.restore()}{const C=new WebKitCSSMatrix(ee.style.getPropertyValue("transform"));v.font="normal 8px system-ui,-apple-system,Arial,sans-serif",Ce.darkMode?(v.strokeStyle="#999",v.fillStyle="#999"):(v.strokeStyle="#333",v.fillStyle="#333");const c=C.a,q=C.f-Oe;O(v,T,C.e-Q,c),v.save(),v.rotate(Math.PI/180*90),O(v,V,q,c,-1),v.restore(),v.globalAlpha=1}}(Ce,ae,Se,k,ee,{drawAll:"edit"===this.gt.mode&&this.gt.showReferenceLine,drawActive:"edit"===this.gt.mode,darkMode:this.gt.darkMode,direction:this.direction.value})})})}ngOnDestroy(){this.subscription.unsubscribe()}}return v.\u0275fac=function(ae){return new(ae||v)(e.Y36(e.SBq),e.Y36(p.n),e.Y36(e.Qsj),e.Y36(a.Z),e.Y36(e.R0b),e.Y36(m.Is))},v.\u0275dir=e.lG2({type:v,selectors:[["","page-structure",""]],contentQueries:function(ae,Se,Ee){if(1&ae&&e.Suo(Ee,f,7,e.SBq),2&ae){let Ce;e.iGM(Ce=e.CRH())&&(Se.gtPage=Ce.first)}}}),v})()},5747:(Ze,Te,i)=>{"use strict";i.d(Te,{w:()=>K});var e=i(4650),l=i(727),j=i(515),t=i(3900),s=i(2722),U=i(8505),Y=i(4004),N=i(2187);let K=(()=>{class X{constructor(O,p,a){this.el=O,this.panDisabled=!1,this.updateTransform=new e.vpe,this.subscription=l.w0.EMPTY,a.runOutsideAngular(()=>{this.subscription=(0,N.A4)(this.el.nativeElement).pipe((0,t.w)(m=>{if(this.panDisabled)return j.E;const f=(0,N.ZH)(this.panTarget);return(0,N.AU)("userSelect","none"),(0,N.AU)("cursor","grab"),(0,N.DD)(m).pipe((0,s.R)((0,N.yy)(m).pipe((0,U.b)(()=>{(0,N.LE)("userSelect"),(0,N.LE)("cursor")}))),(0,Y.U)(I=>(0,N.vE)(m,I)),(0,U.b)(({x:I,y:v})=>this.updateTransform.emit(f.translate(I/f.a,v/f.d).toString())))})).subscribe()})}ngOnDestroy(){this.subscription.unsubscribe()}}return X.\u0275fac=function(O){return new(O||X)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b))},X.\u0275dir=e.lG2({type:X,selectors:[["","gtPan",""]],inputs:{panDisabled:"panDisabled",panTarget:"panTarget"},outputs:{updateTransform:"updateTransform"}}),X})()},6834:(Ze,Te,i)=>{"use strict";i.d(Te,{c:()=>p});var e=i(4650),l=i(6895),j=i(8403),t=i(9300),s=i(8505),U=i(2722),Y=i(4004),N=i(6451),K=i(4968),X=i(9770),O=i(2187);let p=(()=>{class a{constructor(f,I,v,te){this._renderer=I,this._document=v,this._ngZone=te,this.transform=!1,this.minWidth=0,this.maxWidth=1/0,this.minHeight=0,this.maxHeight=1/0,this.updateTransform=new e.vpe,this._widthResize=!1,this._heightResize=!1,this.container=f.nativeElement}ngOnInit(){"static"===window.getComputedStyle(this.container).getPropertyValue("position")&&this._renderer.setStyle(this.container,"position","relative");const I=this._renderer.createElement("div");this._renderer.addClass(I,"resizer-container"),this._renderer.appendChild(this.container,I);let v=[];Array.isArray(this.resizes)?v=this.resizes:"all"===this.resizes&&(v=["t","b","l","r","tl","tr","bl","br"]),this._ngZone.runOutsideAngular(()=>{v.forEach(te=>{const ae=this._renderer.createElement("div");this.setResizeStyle(te,ae),this._renderer.appendChild(I,ae),(0,N.T)((0,K.R)(ae,"mousedown",{passive:!1}).pipe((0,t.h)(Se=>0===Se.button)),(0,K.R)(ae,"touchstart",{passive:!0})).subscribe(Se=>this.resize(Se,te))})}),this._widthResize="all"===this.resizes||/[lr]/.test(this.resizes.join("")),this._heightResize="all"===this.resizes||/[tb]/.test(this.resizes.join(""))}setResizeStyle(f,I){switch(f){case"t":this._renderer.setStyle(I,"left",".6rem"),this._renderer.setStyle(I,"right",".6rem"),this._renderer.setStyle(I,"top","-.6rem"),this._renderer.setStyle(I,"height","1.2rem"),this._renderer.setStyle(I,"cursor","ns-resize");break;case"b":this._renderer.setStyle(I,"left",".6rem"),this._renderer.setStyle(I,"right",".6rem"),this._renderer.setStyle(I,"bottom","-.6rem"),this._renderer.setStyle(I,"height","1.2rem"),this._renderer.setStyle(I,"cursor","ns-resize");break;case"l":this._renderer.setStyle(I,"top",".6rem"),this._renderer.setStyle(I,"bottom",".6rem"),this._renderer.setStyle(I,"left","-.6rem"),this._renderer.setStyle(I,"width","1.2rem"),this._renderer.setStyle(I,"cursor","ew-resize");break;case"r":this._renderer.setStyle(I,"top",".6rem"),this._renderer.setStyle(I,"bottom",".6rem"),this._renderer.setStyle(I,"right","-.6rem"),this._renderer.setStyle(I,"width","1.2rem"),this._renderer.setStyle(I,"cursor","ew-resize");break;case"tl":this._renderer.setStyle(I,"width","1.2rem"),this._renderer.setStyle(I,"height","1.2rem"),this._renderer.setStyle(I,"left","-.6rem"),this._renderer.setStyle(I,"top","-.6rem"),this._renderer.setStyle(I,"cursor","nwse-resize");break;case"tr":this._renderer.setStyle(I,"width","1.2rem"),this._renderer.setStyle(I,"height","1.2rem"),this._renderer.setStyle(I,"right","-.6rem"),this._renderer.setStyle(I,"top","-.6rem"),this._renderer.setStyle(I,"cursor","nesw-resize");break;case"bl":this._renderer.setStyle(I,"width","1.2rem"),this._renderer.setStyle(I,"height","1.2rem"),this._renderer.setStyle(I,"left","-.6rem"),this._renderer.setStyle(I,"bottom","-.6rem"),this._renderer.setStyle(I,"cursor","nesw-resize");break;case"br":this._renderer.setStyle(I,"width","1.2rem"),this._renderer.setStyle(I,"height","1.2rem"),this._renderer.setStyle(I,"right","-.6rem"),this._renderer.setStyle(I,"bottom","-.6rem"),this._renderer.setStyle(I,"cursor","nwse-resize")}this._renderer.setStyle(I,"position","absolute"),this._renderer.setStyle(I,"z-index","1")}resize(f,I){f.stopPropagation();const v=window.getComputedStyle(this.container),te=parseInt(v.getPropertyValue("width"),10),ae=parseInt(v.getPropertyValue("height"),10),Se=(0,O.ZH)(this.container);if((0,O.AU)("userSelect","none"),!(0,O.z6)(f)){let Ee="auto";switch(I){case"t":case"b":Ee="ns-resize";break;case"l":case"r":Ee="ew-resize";break;case"tl":case"br":Ee="nwse-resize";break;case"tr":case"bl":Ee="nesw-resize"}(0,O.AU)("cursor",Ee)}(function W(a,m,f){return(0,X.P)(()=>a()?m:f)})(()=>(0,O.z6)(f),(0,K.R)(this._document,"touchmove",{passive:!1,capture:!0}).pipe((0,s.b)(Ee=>Ee.preventDefault()),(0,U.R)((0,K.R)(this._document,"touchend").pipe((0,s.b)(()=>{(0,O.LE)("userSelect"),(0,O.LE)("cursor")}))),(0,Y.U)(Ee=>({offsetX:Ee.touches[0].clientX-f.touches[0].clientX,offsetY:Ee.touches[0].clientY-f.touches[0].clientY}))),(0,K.R)(this._document,"mousemove",{passive:!1,capture:!0}).pipe((0,U.R)((0,K.R)(this._document,"mouseup").pipe((0,s.b)(()=>{(0,O.LE)("userSelect"),(0,O.LE)("cursor")}))),(0,Y.U)(Ee=>({offsetX:Ee.clientX-f.clientX,offsetY:Ee.clientY-f.clientY})))).subscribe(({offsetX:Ee,offsetY:Ce})=>{let k=0,ee=0,le=0,fe=0;switch(I){case"t":Ce=-(0,j.uZ)(-Ce,this.maxHeight-ae,this.minHeight-ae);break;case"l":Ee=-(0,j.uZ)(-Ee,this.maxWidth-te,this.minWidth-te);break;case"b":Ce=(0,j.uZ)(Ce,this.maxHeight-ae,this.minHeight-ae);break;case"r":Ee=(0,j.uZ)(Ee,this.maxWidth-te,this.minWidth-te);break;case"tl":Ce=-(0,j.uZ)(-Ce,this.maxHeight-ae,this.minHeight-ae),Ee=-(0,j.uZ)(-Ee,this.maxWidth-te,this.minWidth-te);break;case"tr":Ce=-(0,j.uZ)(-Ce,this.maxHeight-ae,this.minHeight-ae),Ee=(0,j.uZ)(Ee,this.maxWidth-te,this.minWidth-te);break;case"bl":Ce=(0,j.uZ)(Ce,this.maxHeight-ae,this.minHeight-ae),Ee=-(0,j.uZ)(-Ee,this.maxWidth-te,this.minWidth-te);break;case"br":Ce=(0,j.uZ)(Ce,this.maxHeight-ae,this.minHeight-ae),Ee=(0,j.uZ)(Ee,this.maxWidth-te,this.minWidth-te)}switch(I){case"t":ee=Ce,fe=-Ce;break;case"l":k=Ee,le=-Ee;break;case"b":fe=Ce;break;case"r":le=Ee;break;case"tl":k=Ee,ee=Ce,le=-Ee,fe=-Ce;break;case"tr":ee=Ce,le=Ee,fe=-Ce;break;case"bl":k=Ee,le=-Ee,fe=Ce;break;case"br":le=Ee,fe=Ce}this.transform&&this.updateTransform.emit(Se.translate(k/Se.a,ee/Se.d).toString()),this._widthResize&&this._renderer.setStyle(this.container,"width",`${te+le/Se.a}px`),this._heightResize&&this._renderer.setStyle(this.container,"height",`${ae+fe/Se.d}px`)})}}return a.\u0275fac=function(f){return new(f||a)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(l.K0),e.Y36(e.R0b))},a.\u0275dir=e.lG2({type:a,selectors:[["","gtResize",""]],inputs:{resizes:"resizes",transform:"transform",minWidth:"minWidth",maxWidth:"maxWidth",minHeight:"minHeight",maxHeight:"maxHeight"},outputs:{updateTransform:"updateTransform"}}),a})()},5197:(Ze,Te,i)=>{"use strict";i.d(Te,{y:()=>U});var e=i(4650),l=i(727),j=i(4968),t=i(9300),s=i(2187);let U=(()=>{class Y{constructor(K,X,W){this._renderer=X,this._ngZone=W,this.updateTransform=new e.vpe,this.subscription=l.w0.EMPTY,this._container=K.nativeElement,this._renderer.setStyle(this._container,"transform-origin","left top")}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this.subscription=(0,j.R)(this.zoomZone||this._container,"wheel",{passive:!0,capture:!0}).subscribe(K=>this.zoom(K)),(0,j.R)(this.zoomZone||this._container,"touchstart").pipe((0,t.h)(K=>2===K.touches.length)).subscribe()})}ngOnDestroy(){this.subscription.unsubscribe()}zoom(K){if(this.gtZoomDisabled)return;K.stopPropagation();const X=(0,s.ZH)(this._container),W=1-K.deltaY/1e3,O=+(X.a*W).toFixed(2);if(Math.max(.2,Math.min(O,5))!==O)return;const p=this._container.getBoundingClientRect(),a=this._container.parentElement.getBoundingClientRect();this.updateTransform.emit((new WebKitCSSMatrix).scale(O,O).translate((K.pageX-(K.pageX-p.x)*W-a.x)/O,(K.pageY-(K.pageY-p.y)*W-a.y)/O).toString())}}return Y.\u0275fac=function(K){return new(K||Y)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b))},Y.\u0275dir=e.lG2({type:Y,selectors:[["","gtZoom",""]],inputs:{zoomZone:"zoomZone",gtZoomDisabled:"gtZoomDisabled"},outputs:{updateTransform:"updateTransform"}}),Y})()},3430:(Ze,Te,i)=>{"use strict";i.d(Te,{n:()=>s});var e=i(4650),l=i(7579),j=i(6451),t=i(4004);let s=(()=>{class U{constructor(){this.CHANGE_SELECT=new l.x,this.CHANGE_STYLE=new l.x,this.CHANGE_PROPERTY=new l.x,this.CHANGE_DATASOURCE=new l.x,this.CHANGE_ACTION=new l.x,this.CHANGE_RIGHTS=new l.x,this.CHANGE_VALIDATOR=new l.x,this.CHANGE_BOARD=new l.x,this.COPY_STYLE=new l.x,this.PASTE_STYLE=new l.x,this.RENDER_START=new l.x,this.RENDER_STOP=new l.x,this.CUSTOM_EDIT_START=new l.x,this.CUSTOM_EDIT_STOP=new l.x,this.WINDOW_CREATE=new l.x,this.WINDOW_MOVE=new l.x,this.WINDOW_DESTROY=new l.x,this.INSERT_NODE=new l.x,this.REMOVE_NODE=new l.x,this.MOVE_NODE=new l.x,this.UNDO=new l.x,this.REDO=new l.x,this.UPDATE_TEMPLATE=new l.x,this.BLACKBOARD_RESIZE=new l.x,this.AUTO_SAVE=new l.x,this.SAVE=new e.vpe,this.onEvent=(0,j.T)(this.CHANGE_SELECT.pipe((0,t.U)(N=>({type:"CHANGE_SELECT",data:N}))),this.CHANGE_STYLE.pipe((0,t.U)(N=>({type:"CHANGE_STYLE",data:N}))),this.CHANGE_PROPERTY.pipe((0,t.U)(N=>({type:"CHANGE_PROPERTY",data:N}))),this.CHANGE_DATASOURCE.pipe((0,t.U)(N=>({type:"CHANGE_DATASOURCE",data:N}))),this.CHANGE_ACTION.pipe((0,t.U)(N=>({type:"CHANGE_ACTION",data:N}))),this.CHANGE_RIGHTS.pipe((0,t.U)(N=>({type:"CHANGE_RIGHTS",data:N}))),this.CHANGE_VALIDATOR.pipe((0,t.U)(N=>({type:"CHANGE_VALIDATOR",data:N}))),this.CHANGE_BOARD.pipe((0,t.U)(N=>({type:"CHANGE_BOARD",data:N}))),this.COPY_STYLE.pipe((0,t.U)(N=>({type:"COPY_STYLE",data:N}))),this.PASTE_STYLE.pipe((0,t.U)(N=>({type:"PASTE_STYLE",data:N}))),this.RENDER_START.pipe((0,t.U)(N=>({type:"RENDER_START",data:N}))),this.RENDER_STOP.pipe((0,t.U)(N=>({type:"RENDER_STOP",data:N}))),this.CUSTOM_EDIT_START.pipe((0,t.U)(N=>({type:"CUSTOM_EDIT_START",data:N}))),this.CUSTOM_EDIT_STOP.pipe((0,t.U)(N=>({type:"CUSTOM_EDIT_STOP",data:N}))),this.WINDOW_CREATE.pipe((0,t.U)(N=>({type:"WINDOW_CREATE",data:N}))),this.WINDOW_MOVE.pipe((0,t.U)(N=>({type:"WINDOW_MOVE",data:N}))),this.WINDOW_DESTROY.pipe((0,t.U)(N=>({type:"WINDOW_DESTROY",data:N}))),this.INSERT_NODE.pipe((0,t.U)(N=>({type:"INSERT_NODE",data:N}))),this.REMOVE_NODE.pipe((0,t.U)(N=>({type:"REMOVE_NODE",data:N}))),this.MOVE_NODE.pipe((0,t.U)(N=>({type:"MOVE_NODE",data:N}))),this.UPDATE_TEMPLATE.pipe((0,t.U)(N=>({type:"UPDATE_TEMPLATE",data:N}))),this.UNDO.pipe((0,t.U)(N=>({type:"UNDO",data:N}))),this.REDO.pipe((0,t.U)(N=>({type:"REDO",data:N}))),this.AUTO_SAVE.pipe((0,t.U)(N=>({type:"AUTO_SAVE",data:N}))),this.SAVE.pipe((0,t.U)(N=>({type:"SAVE",data:N}))))}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac}),U})()},2187:(Ze,Te,i)=>{"use strict";i.d(Te,{nc:()=>Pe,j8:()=>q,vE:()=>b,oq:()=>l,yy:()=>c,DD:()=>C,A4:()=>se,VJ:()=>Ye,vC:()=>ee,ZH:()=>Ke,po:()=>et,Em:()=>Fe,z6:()=>ce,nq:()=>qe,hr:()=>ue,LE:()=>Se,AU:()=>ae});const e=Element.prototype.matches;function l(ye,we){if(!ye)return null;const Ne=we,Ve=we,Be=we,Z=we,ie=Boolean("string"==typeof we),S=Boolean("function"==typeof we),P=Boolean(we instanceof NodeList||we instanceof Array),pe=Boolean(we instanceof HTMLElement);let Ue=ye;do{if(Ue=Ue.correspondingUseElement||Ue.correspondingElement||Ue,(z=Ue)&&(ie?e.call(z,Ne):P?[...Be].includes(z):pe?Z===z:S&&Ve(z)))return Ue;Ue=Ue.parentNode}while(Ue&&Ue!==document.body&&Ue!==document);var z;return null}var j=i(7579),t=i(9646),s=i(515),U=i(8372),Y=i(3900),N=i(4482),K=i(5403);function X(ye){return(0,N.e)((we,Ne)=>{let Ve=!1,Be=0;we.subscribe((0,K.x)(Ne,Z=>(Ve||(Ve=!ye(Z,Be++)))&&Ne.next(Z)))})}var W=i(2722),O=i(5698),p=i(8505),a=i(4004),m=i(9300),f=i(1884),I=i(6451),v=i(4968);const te=getComputedStyle(document.documentElement).hasOwnProperty("user-select")?"user-select":"-webkit-user-select";function ae(ye,we){document.documentElement.style.setProperty(Ee(ye),we)}function Se(ye){document.documentElement.style.removeProperty(Ee(ye))}function Ee(ye){return"userSelect"===ye?te:ye}var Ce=i(4650);function k(ye){return 1-Math.pow(ye-1,4)}const ee=ye=>C(ye).pipe(X(we=>{const{x:Ne,y:Ve}=b(ye,we);return Math.abs(Ne)+Math.abs(Ve)<30}),(0,O.q)(1),(0,W.R)(c(ye).pipe((0,p.b)(()=>Se("userSelect")))));function le(ye){const we=ye.cloneNode(!0);if(ye.querySelectorAll("canvas")){const Ne=ye.querySelectorAll("canvas"),Ve=we.querySelectorAll("canvas");Array.from(Ne).forEach((Be,Z)=>{Ve[Z].style.background=`url(${Be.toDataURL()}) no-repeat center center / contain`,Ve[Z].style.width="100%",Ve[Z].style.height="100%"})}return we}const se=ye=>(0,I.T)((0,v.R)(ye,"mousedown",{passive:!0}),(0,v.R)(ye,"touchstart",{passive:!0}).pipe((0,m.h)(we=>1===we.touches.length))),C=ye=>ce(ye)?(0,v.R)(document,"touchmove",{passive:!1,capture:!1}).pipe((0,p.b)(we=>we.preventDefault())):(0,v.R)(document,"mousemove",{passive:!0,capture:!1}),c=ye=>ce(ye)?(0,v.R)(document,"touchend",{capture:!0}):(0,v.R)(document,"mouseup",{capture:!0});function b(ye,we){if(ce(ye)&&ce(we)){const Ne=ye.touches[0]||ye.changedTouches[0]||{pageX:0,pageY:0},Ve=we.touches[0]||we.changedTouches[0]||{pageX:0,pageY:0};return{x:Ve.pageX-Ne.pageX,y:Ve.pageY-Ne.pageY}}return{x:we.clientX-ye.clientX,y:we.clientY-ye.clientY}}let q=(()=>{class ye{constructor(){this.status="stop",this.queue=[],this.lastFrameTime=performance.now()}add(Ne){const Ve=Ne.element.style.transform.match(/(\d|\.)+/g)||[0,0],Be=this.queue.findIndex(Ue=>Ue.element===Ne.element),{duration:Z=250,element:ie,to:S={left:0,top:0}}=Ne;let P=Ne.from;(-1!==Be||!P)&&(P={left:+Ve[0],top:+Ve[1]});const ge={element:ie,from:P,to:S,duration:Z,elapse:0};P.left===S.left&&P.top===S.top||(-1===Be?this.queue.push(ge):this.queue[Be]=ge,ie.style.transform=`translate(${P.left}px,${P.top}px)`,"stop"===this.status&&this.start())}remove(Ne){this.queue.splice(this.queue.indexOf(Ne),1)}start(){this.status="start",this.lastFrameTime=performance.now(),this.anime()}anime(){requestAnimationFrame(()=>{const Ne=performance.now(),Ve=Ne-this.lastFrameTime;this.queue.forEach(Be=>{const{element:Z,from:ie,to:S,duration:P=200,elapse:pe}=Be,ge=pe/P>1?1:pe/P,Ue=Math.round((S.left-ie.left)*k(ge)+ie.left),z=Math.round((S.top-ie.top)*k(ge)+ie.top);Z.style.transform=`translate(${Ue}px,${z}px)`,0===Ue&&0===z&&(Z.style.transform=""),P<=pe&&this.remove(Be),Be.elapse+=Ve}),this.queue.length>0?this.anime():this.status="stop",this.lastFrameTime=Ne})}}return ye.\u0275fac=function(Ne){return new(Ne||ye)},ye.\u0275prov=Ce.Yz7({token:ye,factory:ye.\u0275fac}),ye})();function ce(ye){return ye.type.startsWith("touch")}function ue(ye){ye&&ye.parentElement&&ye.parentElement.removeChild(ye)}class Pe{constructor(we){this.el=we,this._target=null,this._mirror=null,this._placeholder=null,this._parentElement=null,this._refChild=null,this._drop=new j.x,this._dragEnd$=new j.x,this.drop=this._drop.asObservable().pipe((0,U.b)(50)),this.dragEnd=this._dragEnd$.asObservable(),this._dragStart(this.el).pipe((0,Y.w)(Ne=>this._dragEnd(this._dragMove(Ne),Ne))).subscribe()}_dragStart(we){return se(we).pipe((0,Y.w)(Ne=>(this._target=l(Ne.target,"[data-draggable]"),!ce(Ne)&&0!==Ne.button||this.disabled||!this._target?s.E:C(Ne).pipe(X(Ve=>{const{x:Be,y:Z}=b(Ne,Ve);return Math.abs(Be)+Math.abs(Z)<30}),(0,W.R)(c(Ne)),(0,O.q)(1),(0,Y.w)(()=>{const Ve=this._target,Be=Ve.getBoundingClientRect();return this._mirror=function Z(S){const P=le(S);for(const ge in P.dataset)delete P.dataset[ge];P.style.width=Be.width+"px",P.style.height=Be.height+"px";const pe=document.createElement("div");return pe.appendChild(P),pe.classList.add("draggable-mirror"),pe}(Ve),this._mirror.style.left=Be.left+"px",this._mirror.style.top=Be.top+"px",this._placeholder=function ie(S){const P=le(S);for(const pe in P.dataset)delete P.dataset[pe];return P.classList.add("draggable-placeholder"),P}(Ve),this._placeholder.style.transform=`translate(${Be.left}px,${Be.top}px)`,Ve.classList.add("draggable-source"),ae("userSelect","none"),ae("cursor","grab"),document.body.appendChild(this._mirror),document.body.appendChild(this._placeholder),(0,t.of)(Ne)})))))}_dragMove(we){return C(we).pipe((0,p.b)(Ne=>{const{x:Ve,y:Be}=b(we,Ne);this._mirror.style.transform=`translate(${Ve}px,${Be}px)`}),(0,a.U)(Ne=>et(Ne,this._target)),(0,m.h)(Ne=>!!Ne),(0,p.b)(({parentElement:Ne,refChild:Ve})=>{this._parentElement=Ne,this._refChild=Ve}),(0,f.x)((Ne,Ve)=>Ne.parentElement===Ve.parentElement&&Ne.refChild===Ve.refChild),(0,p.b)(Ne=>this._drop.next({...Ne,target:this._target,placeholder:this._placeholder})))}_dragEnd(we,Ne){return we.pipe((0,W.R)(c(Ne).pipe((0,p.b)(()=>{this._parentElement&&this._dragEnd$.next({parentElement:this._parentElement,refChild:this._refChild,target:this._target}),Se("userSelect"),Se("cursor"),ue(this._placeholder),ue(this._mirror),this._target&&this._target.classList.remove("draggable-source"),this._mirror=null,this._placeholder=null,this._target=null,this._parentElement=null,this._refChild=null}))))}}function Fe(ye){return ce(ye)?{x:ye.touches[0].pageX,y:ye.touches[0].pageY}:{x:ye.pageX,y:ye.pageY}}function et(ye,we){const Ne=function We(ye){return ce(ye)?document.elementFromPoint(ye.touches[0].pageX,ye.touches[0].pageY):ye.target}(ye),{x:Ve,y:Be}=Fe(ye);let Z=null,ie=null,S=null,P=null,pe=Ne;for(;pe.parentElement;){if(pe.classList.contains("gt-page")){const Ue=Le({x:Ve,y:Be},pe);switch(S=pe.children[0],Ue){case"left":case"top":P=Array.from(S.children).find(z=>z!==we);break;default:P=null}return{refChild:P,parentElement:S}}if(pe.dataset.hasOwnProperty("root")){switch(S=pe,Le({x:Ve,y:Be},pe)){case"left":case"top":P=Array.from(S.children).find(z=>z!==we);break;default:P=null}return{refChild:P,parentElement:S}}if(pe.dataset.hasOwnProperty("droppable")&&(ie||(ie=pe),pe.classList.contains("gt-node"))){Z=pe;break}if(pe.dataset.hasOwnProperty("draggable")&&pe.classList.contains("gt-node")){Z=pe;break}pe=pe.parentElement}if(!document.querySelector(".gt-page"))throw new Error("");if(null===Z)return null;if(null===ie)switch(Le({x:Ve,y:Be},Z,"true"===Z.dataset.canHasChild)){case"left":case"top":S=Z.parentElement,P=Z;break;case"right":case"bottom":S=Z.parentElement,P=Z.nextElementSibling;break;case"center":return null}else{const Ue=Le({x:Ve,y:Be},ie);if(Z===ie)switch(Ue){case"left":case"top":S=Z.parentElement,P=Z;break;case"right":case"bottom":S=Z.parentElement,P=Z.nextElementSibling;break;case"center":S=Z,P=null}else switch(Ue){case"left":case"top":case"right":case"bottom":case"center":S=ie}}return null!==P&&(P===we.nextElementSibling||P===we)||function Me(ye,we){let Ne=ye;for(;Ne!==we&&null!==Ne;)Ne=Ne.parentElement;return Ne===we&&null!==Ne}(Z,we)?null:{parentElement:S,refChild:P}}function Le({x:ye,y:we},Ne,Ve=!0){const Be=Ve?.08:.5,Z=Ve?10:1/0,{top:ie,bottom:S,left:P,right:pe,width:ge,height:Ue}=Ne.getBoundingClientRect();return we-ie<Math.min(Ue*Be,Z)?"top":S-we<Math.min(Ue*Be,Z)?"bottom":pe-ye<Math.min(ge*Be,Z)?"right":ye-P<Math.min(ge*Be,Z)?"left":"center"}function Ye(ye){if(!ye)return null;for(;ye.parentElement;){if(ye.classList.contains("gt-node"))return ye;ye=ye.parentElement}return null}function Ke(ye){const we=getComputedStyle(ye);return new WebKitCSSMatrix(we.transform||we.webkitTransform)}function qe(ye){}},8836:(Ze,Te,i)=>{"use strict";i.d(Te,{fx:()=>l.fx,bk:()=>ct,Kq:()=>P.Kq,_5:()=>P._5,ty:()=>P.ty,Q$:()=>P.Q$,gx:()=>P.gx,aQ:()=>P.aQ,ZW:()=>Ce.Z,ie:()=>je,dd:()=>P.dd,nX:()=>me,R:()=>P.R,os:()=>$}),i(6198);var l=i(9875);i(5137);var Ce=i(6363),k=i(4650),ee=i(445),le=i(6895),fe=i(3555),T=i(8184),V=i(4080),Q=i(8403),Oe=i(7851),se=i(433);let C=(()=>{class De{}return De.\u0275fac=function(Ie){return new(Ie||De)},De.\u0275mod=k.oAB({type:De}),De.\u0275inj=k.cJS({imports:[le.ez,T.U8]}),De})();var c=i(7521);let b=(()=>{class De{}return De.\u0275fac=function(Ie){return new(Ie||De)},De.\u0275mod=k.oAB({type:De}),De.\u0275inj=k.cJS({imports:[le.ez,se.u5,se.UX,T.U8,V.eL,c.fq]}),De})();i(414),i(2851),i(7707),i(7080),i(4443),i(7807),i(3547),i(6941);let we=(()=>{class De{}return De.\u0275fac=function(Ie){return new(Ie||De)},De.\u0275mod=k.oAB({type:De}),De.\u0275inj=k.cJS({imports:[le.ez,se.u5,b,fe._t,C,se.UX,V.eL]}),De})(),Ne=(()=>{class De{}return De.\u0275fac=function(Ie){return new(Ie||De)},De.\u0275mod=k.oAB({type:De}),De.\u0275inj=k.cJS({}),De})();i(6834);let Be=(()=>{class De{}return De.\u0275fac=function(Ie){return new(Ie||De)},De.\u0275mod=k.oAB({type:De}),De.\u0275inj=k.cJS({imports:[se.u5,le.ez,T.U8,we,l.fx,fe._t,Oe.nZ,V.eL,Ne]}),De})(),Z=(()=>{class De{}return De.\u0275fac=function(Ie){return new(Ie||De)},De.\u0275prov=k.Yz7({token:De,factory:De.\u0275fac}),De})();var ie=i(3430),S=i(5066),P=i(7088),pe=i(3290),ge=i(1194);let Ue=(()=>{class De{}return De.\u0275fac=function(Ie){return new(Ie||De)},De.\u0275mod=k.oAB({type:De}),De.\u0275inj=k.cJS({imports:[ee.vT]}),De})();i(7062);let me=(()=>{class De{}return De.\u0275fac=function(Ie){return new(Ie||De)},De.\u0275mod=k.oAB({type:De}),De.\u0275inj=k.cJS({}),De})();i(5747);let $=(()=>{class De{}return De.\u0275fac=function(Ie){return new(Ie||De)},De.\u0275mod=k.oAB({type:De}),De.\u0275inj=k.cJS({}),De})();i(5197);const ke={customComponent:!0,modal:!0,preview:!0,editProperty:!0,editVariable:!0,editStyle:!0,editRight:!0,editAction:!0,editDatasource:!0,editValidator:!0,editDirective:!0};let je=(()=>{class De{}return De.\u0275fac=function(Ie){return new(Ie||De)},De.\u0275mod=k.oAB({type:De}),De.\u0275inj=k.cJS({providers:[ge.Z,Z,ie.n,{provide:P._5,useValue:{title:"GHOSTEN",src:"assets/icons/128.png",alt:"Ghosten Logo",click(){}}},{provide:P.Bx,useValue:{exitUrl:"/test"}},{provide:P.C9,useValue:ke},{provide:P.ty,useValue:{},multi:!0},{provide:P.gx,useValue:{},multi:!0},{provide:P.dd,useValue(){},multi:!0},{provide:P.aQ,useValue:{},multi:!0},{provide:P.EU,useFactory:(Je,Ie,Re,ze,rt)=>(Ie=Object.assign({},...Ie),Re=Object.assign({},...Re),ze=Object.assign({},...ze),Je?(Je.forEach(G=>{G.elements.forEach(de=>{const B=de.type;Ie[B]||(de.disabled=!0,rt.log.next({type:"error",message:`Type \u4e3a ${B} \u7684\u7ec4\u4ef6\u672a\u8bbe\u7f6e Component`,data:null})),Re[B]||(de.disabled=!0,rt.log.next({type:"error",message:`Type \u4e3a ${B} \u7684\u7ec4\u4ef6\u672a\u8bbe\u7f6e\u9ed8\u8ba4\u914d\u7f6e`,data:null})),ze[B]||rt.log.next({type:"warn",message:`Type \u4e3a ${B} \u7684\u7ec4\u4ef6\u672a\u8bbe\u7f6e\u9884\u89c8\u7ec4\u4ef6`,data:null})})}),Je):(rt.log.next({type:"error",message:`\u672a\u914d\u7f6e ${P.Q$.toString()}`,data:null}),[])),deps:[[new k.FiY,P.Q$],P.ty,P.gx,P.aQ,ge.Z]},{provide:pe.a,useFactory:Je=>{const Ie=new Map;return Je.forEach(Re=>{for(const ze in Re)Ie.set(ze,Re[ze])}),Ie},deps:[P.gx]},{provide:pe.K,useFactory:Je=>{const Ie=new Map;return Je.forEach(Re=>{for(const ze in Re)Ie.set(ze,{core:Q.QY.create(Re[ze].get("core")),property:Q.Z9.create(Re[ze].get("property").reduce((rt,G)=>(rt[G.name]=void 0===G.value?null:G.value,rt),{})),style:Q.bg.create(Re[ze].get("style").reduce((rt,G)=>(rt[G.name]=void 0===G.value?null:G.value,rt),{})),action:Re[ze].get("action"),rights:Re[ze].get("rights"),validator:Re[ze].get("validator")})}),Ie},deps:[P.gx]}],imports:[le.ez,T.U8,V.eL,ee.vT,Be,fe._t,S.z8,Ne,Ue,$,me,C]}),De})();i(9547);let ct=(()=>{class De{constructor(Ie,Re){this.gtNode=Ie,this.gt=Re,this.gtClass=!0,this.subscriptions=[],this.property=this.gtNode.property}get gtSlot(){return"slot"===this.gtNode.type}get isHidden(){return!this.gtNode.property.show||this.property.disabled}get clearfix(){return this.gtNode.style&&this.gtNode.style.clearfix}get id(){return this.gtNode.id}get type(){return this.gtNode.type}get root(){return this.gtNode.parent?null:""}get draggable(){return"root"===this.gtNode.type||this.gtNode.template&&!this.gtNode.isTemplateRoot?null:""}get canHasChild(){return this.gtNode.core.canHasChild}get droppable(){return this.gtNode.template&&"slot"!==this.gtNode.type||!this.gtNode.core.canHasChild?null:""}get width(){return this.gtNode.style.width}get height(){return this.gtNode.style.height}get margin(){return this.gtNode.style.margin}get padding(){return this.gtNode.style.padding}get display(){return this.gtNode.style.display}get position(){return this.gtNode.style.position}get float(){return this.gtNode.style.float}get overflow(){return this.gtNode.style.overflow}get flexDirection(){return this.gtNode.style.flexDirection}get flexGrow(){return this.gtNode.style.flexGrow}get flexShrink(){return this.gtNode.style.flexShrink}get flexWrap(){return this.gtNode.style.flexWrap}get justifyContent(){return this.gtNode.style.justifyContent}get alignItems(){return this.gtNode.style.alignItems}get alignContent(){return this.gtNode.style.alignContent}get background(){return this.gtNode.style.background}get color(){return this.gtNode.style.color}get textAlign(){return this.gtNode.style.textAlign}get left(){return this.gtNode.style.left}get top(){return this.gtNode.style.top}get right(){return this.gtNode.style.right}get bottom(){return this.gtNode.style.bottom}get zIndex(){return this.gtNode.style.zIndex}get border(){if(this.gtNode.style.border&&this.gtNode.style.border.all)return this.gtNode.style.border.all}get borderLeft(){if(this.gtNode.style.border&&this.gtNode.style.border.left)return this.gtNode.style.border.left}get borderRight(){if(this.gtNode.style.border&&this.gtNode.style.border.right)return this.gtNode.style.border.right}get borderTop(){if(this.gtNode.style.border&&this.gtNode.style.border.top)return this.gtNode.style.border.top}get borderBottom(){if(this.gtNode.style.border&&this.gtNode.style.border.bottom)return this.gtNode.style.border.bottom}get fontWeight(){return this.gtNode.style.fontWeight}get fontSize(){return this.gtNode.style.fontSize}ngOnInit(){this.gtNode.core.dynamicTemplate||this.refresh()}ngAfterViewInit(){this.gtNode.core.dynamicTemplate&&this.refresh()}ngOnDestroy(){this.subscriptions.forEach(Ie=>Ie.unsubscribe())}refresh(){if(this.gtNode.core.canHasChild)if(this.gtNode.core.dynamicTemplate){const Ie=new Map;this.templates.forEach(Re=>{Re.clear(),Ie.set(Re.templateID,Re)}),this.gtNode.children.forEach(Re=>{const ze=Ie.get(Re.outletID);ze&&ze.insert(Re)})}else this.template.clear(),this.gtNode.children.forEach(Ie=>{this.template.insert(Ie)})}insert(Ie,Re){if(this.gtNode.core.dynamicTemplate){const ze=this.templates.find(rt=>rt.templateID===Ie.outletID);if(ze)return ze.insert(Ie,Re);throw new Error}return this.template.insert(Ie,Re)}remove(Ie){if("number"==typeof Ie)this.template.remove(Ie);else{if(!this.gtNode.core.dynamicTemplate)return this.template.remove(Ie.parent.children.indexOf(Ie));{const Re=this.templates.find(ze=>ze.templateID===Ie.outletID);if(Re)return Re.remove(Ie.parent.children.filter(ze=>ze.outletID===Ie.outletID).indexOf(Ie));console.warn("\u8be5\u7ec4\u4ef6\u672a\u5728\u9875\u9762\u663e\u793a\uff1a%O",Ie)}}}move(Ie,Re){return this.template.move(Ie,Re)}}return De.\u0275fac=function(Ie){return new(Ie||De)(k.Y36(Q.Fo),k.Y36(ge.Z))},De.\u0275cmp=k.Xpm({type:De,selectors:[["ng-component"]],viewQuery:function(Ie,Re){if(1&Ie&&(k.Gf(S.S3,7),k.Gf(S.S3,5)),2&Ie){let ze;k.iGM(ze=k.CRH())&&(Re.template=ze.first),k.iGM(ze=k.CRH())&&(Re.templates=ze)}},hostVars:74,hostBindings:function(Ie,Re){2&Ie&&(k.uIk("data-id",Re.id)("data-type",Re.type)("data-root",Re.root)("data-draggable",Re.draggable)("data-can-has-child",Re.canHasChild)("data-droppable",Re.droppable),k.Udp("width",Re.width)("height",Re.height)("margin",Re.margin)("padding",Re.padding)("display",Re.display)("position",Re.position)("float",Re.float)("overflow",Re.overflow)("flex-direction",Re.flexDirection)("flex-grow",Re.flexGrow)("flex-shrink",Re.flexShrink)("flex-wrap",Re.flexWrap)("justify-content",Re.justifyContent)("align-items",Re.alignItems)("align-content",Re.alignContent)("background",Re.background)("color",Re.color)("text-align",Re.textAlign)("left",Re.left)("top",Re.top)("right",Re.right)("bottom",Re.bottom)("z-index",Re.zIndex)("border",Re.border)("border-left",Re.borderLeft)("border-right",Re.borderRight)("border-top",Re.borderTop)("border-bottom",Re.borderBottom)("font-weight",Re.fontWeight)("font-size",Re.fontSize),k.ekj("gt-node",Re.gtClass)("gt-slot",Re.gtSlot)("opacity-25",Re.isHidden)("clearfix",Re.clearfix))},decls:0,vars:0,template:function(Ie,Re){},encapsulation:2}),De})();i(9401)},597:(Ze,Te,i)=>{"use strict";i.d(Te,{z:()=>X});var e=i(4650),l=i(7340),j=i(3555),t=i(6895),s=i(7188);function U(W,O){1&W&&(e.tHW(0,13,1),e.TgZ(1,"div",17),e._UZ(2,"span",18),e.qZA(),e.N_p())}function Y(W,O){if(1&W){const p=e.EpF();e.TgZ(0,"div",11)(1,"button",12),e.NdJ("click",function(){e.CHM(p);const m=e.oxw();return e.KtG(m.confirm.emit())}),e.tHW(2,13),e.YNc(3,U,3,0,"div",14),e.N_p(),e.qZA(),e.TgZ(4,"button",15),e.NdJ("click",function(){e.CHM(p);const m=e.oxw();return e.KtG(m.cancel.emit())}),e.SDv(5,16),e.qZA()()}if(2&W){const p=e.oxw();e.xp6(1),e.Q6J("disabled",p.modalPending),e.xp6(2),e.Q6J("ngIf",p.modalPending)}}const N=["*"],K=(0,l.X$)("fade",[(0,l.SB)("in",(0,l.oB)({transform:"matrix(1,0,0,1,0,0)",opacity:1})),(0,l.eR)("void => *",[(0,l.oB)({transform:"matrix(.9,0,0,.9,0,30)",opacity:0}),(0,l.jt)("200ms cubic-bezier(0, 0, 0.2, 1)")])]);let X=(()=>{class W{constructor(){this.modalSize="md",this.confirm=new e.vpe,this.cancel=new e.vpe}ngOnInit(){const p=window.innerWidth-document.documentElement.scrollWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=p+"px"}ngOnDestroy(){document.body.style.overflow="",document.body.style.paddingRight=""}}return W.\u0275fac=function(p){return new(p||W)},W.\u0275cmp=e.Xpm({type:W,selectors:[["gt-modal"]],inputs:{modalTitle:"modalTitle",modalSize:"modalSize",modalFooter:"modalFooter",modalPending:"modalPending",fullscreen:"fullscreen"},outputs:{confirm:"confirm",cancel:"cancel"},ngContentSelectors:N,decls:16,vars:9,consts:function(){let O,p;return O=" Cancel ",p="" + "\ufffd*3:1\ufffd\ufffd#1:1\ufffd" + "" + "\ufffd#2:1\ufffd" + "Loading..." + "\ufffd/#2:1\ufffd" + "" + "\ufffd/#1:1\ufffd\ufffd/*3:1\ufffd" + " \u786E\u5B9A ",[["cdkTrapFocus","","tabindex","-1","aria-modal","true","role","dialog",1,"modal","d-block",3,"cdkTrapFocusAutoCapture"],[1,"modal-dialog","modal-dialog-scrollable",3,"ngClass"],["cdkDrag","","cdkDragBoundary","body",1,"modal-content",3,"cdkDragStartDelay"],["cdkDrag","cdkDrag"],["cdkDragHandle","",1,"modal-header"],[1,"modal-title","flex-grow-1"],["type","button",1,"btn","btn-text",3,"mousedown","click"],[1,"gt-icon"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-text",3,"mousedown","click"],[1,"modal-body"],["class","modal-footer",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"disabled","click"],p,["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],["type","button",1,"btn","btn-text",3,"click"],O,["role","status",1,"spinner-border","spinner-border-sm"],[1,"visually-hidden"]]},template:function(p,a){if(1&p){const m=e.EpF();e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2,3)(4,"div",4)(5,"h4",5),e._uU(6),e.qZA(),e.TgZ(7,"button",6),e.NdJ("mousedown",function(I){return I.stopPropagation()})("click",function(){e.CHM(m);const I=e.MAs(3);return a.fullscreen=!a.fullscreen,e.KtG(I.reset())}),e.TgZ(8,"i",7),e._uU(9),e.qZA()(),e.TgZ(10,"button",8),e.NdJ("mousedown",function(I){return I.stopPropagation()})("click",function(){return a.cancel.emit()}),e.TgZ(11,"i",7),e._uU(12,"close"),e.qZA()()(),e.TgZ(13,"div",9),e.Hsn(14),e.qZA(),e.YNc(15,Y,6,2,"div",10),e.qZA()()()}2&p&&(e.Q6J("cdkTrapFocusAutoCapture",!0),e.xp6(1),e.ekj("modal-fullscreen",a.fullscreen),e.Q6J("ngClass","modal-"+a.modalSize),e.xp6(1),e.Q6J("@fade",void 0)("cdkDragStartDelay",50),e.xp6(4),e.Oqu(a.modalTitle),e.xp6(3),e.Oqu(a.fullscreen?"minimize":"maximize"),e.xp6(6),e.Q6J("ngIf",a.modalFooter))},dependencies:[j.Zt,j.Bh,t.mk,t.O5,s.mK],encapsulation:2,data:{animation:[K]}}),W})()},8962:(Ze,Te,i)=>{"use strict";i.d(Te,{d2:()=>J}),i(9812);var l=i(597),j=i(433),t=i(7188),s=i(4650),K=(i(9521),i(1281),i(5017),i(7579)),W=(i(9770),i(6451)),p=(i(8675),i(3900)),a=i(4004),m=i(2722);i(9300),i(445);let Ce=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({}),g})();var k=i(6895),ee=i(3555),le=i(7340),fe=i(4080),T=i(1884),Q=i(8372),Oe=i(4968),se=i(8184);function C(g,A){1&g&&s._UZ(0,"hr",4)}function c(g,A){1&g&&s._UZ(0,"i",10)}function b(g,A){if(1&g&&(s.TgZ(0,"small",11),s._uU(1),s.qZA()),2&g){const u=s.oxw(2).$implicit;s.xp6(1),s.Oqu(u.desc)}}function q(g,A){1&g&&s._UZ(0,"i",12)}function ce(g,A){if(1&g){const u=s.EpF();s.TgZ(0,"a",5),s.NdJ("click",function(oe){s.CHM(u);const D=s.oxw().$implicit,w=s.oxw();return s.KtG(w.onClick(D,oe))})("mouseenter",function(oe){s.CHM(u);const D=s.oxw().$implicit,w=s.oxw();return s.KtG(w.mouseenter(oe,D))}),s.YNc(1,c,1,0,"i",6),s.TgZ(2,"span",7),s._uU(3),s.qZA(),s.YNc(4,b,2,1,"small",8),s.YNc(5,q,1,0,"i",9),s.qZA()}if(2&g){const u=s.oxw().$implicit;s.ekj("active",u.active)("disabled",u.disabled),s.xp6(1),s.Q6J("ngIf",u.checked),s.xp6(2),s.Oqu(u.label),s.xp6(1),s.Q6J("ngIf",u.desc),s.xp6(1),s.Q6J("ngIf",u.children)}}function ue(g,A){if(1&g&&(s.ynx(0),s.YNc(1,C,1,0,"hr",2),s.YNc(2,ce,6,8,"a",3),s.BQk()),2&g){const u=A.$implicit;s.xp6(1),s.Q6J("ngIf",u.divider),s.xp6(1),s.Q6J("ngIf",!u.divider)}}const Pe=(0,le.X$)("fade",[(0,le.SB)("in",(0,le.oB)({opacity:1})),(0,le.eR)("void => *",[(0,le.oB)({opacity:0}),(0,le.jt)("200ms ease-out")])]);let Fe=(()=>{class g{constructor(u){this.menu=u}preventDefault(u){u.preventDefault(),u.stopPropagation()}mouseenter(u,F){u.stopPropagation(),u.preventDefault(),(0,Oe.R)(u.target,"mousemove").pipe(function V(g,A){return(0,T.x)((u,F)=>A?A(u[g],F[g]):u[g]===F[g])}("target"),(0,Q.b)(200),(0,m.R)((0,Oe.R)(u.target,"mouseleave"))).subscribe(()=>{const{children:oe,disabled:D}=F;this.menu.create(u,D?[]:oe||[],this.level+1)})}onClick(u,F){if(F.stopPropagation(),u.disabled||u.children&&u.children.length)return F.stopPropagation();u.onclick&&u.onclick(u,F),this.menu.destroy()}}return g.\u0275fac=function(u){return new(u||g)(s.Y36(et))},g.\u0275cmp=s.Xpm({type:g,selectors:[["gt-context-menu"]],hostBindings:function(u,F){1&u&&s.NdJ("pointerdown",function(D){return F.preventDefault(D)})},decls:2,vars:2,consts:[[1,"dropdown-menu","show","shadow",2,"position","static"],[4,"ngFor","ngForOf"],["class","dropdown-divider",4,"ngIf"],["class","dropdown-item d-flex justify-content-between","href","javascript:void(0);",3,"active","disabled","click","mouseenter",4,"ngIf"],[1,"dropdown-divider"],["href","javascript:void(0);",1,"dropdown-item","d-flex","justify-content-between",3,"click","mouseenter"],["class","check-icon",4,"ngIf"],[1,"text-main"],["class","text-desc text-muted ms-3",4,"ngIf"],["class","caret",4,"ngIf"],[1,"check-icon"],[1,"text-desc","text-muted","ms-3"],[1,"caret"]],template:function(u,F){1&u&&(s.TgZ(0,"div",0),s.YNc(1,ue,3,2,"ng-container",1),s.qZA()),2&u&&(s.Q6J("@fade","in"),s.xp6(1),s.Q6J("ngForOf",F.menus))},dependencies:[k.sg,k.O5],encapsulation:2,data:{animation:[Pe]}}),g})();const We=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"}];let et=(()=>{class g{constructor(u,F){this.injector=u,this.overlay=F,this.onclick=new s.vpe,this.overlayRefs=[],this.currentMenus=[],this.destroy=()=>{this.overlayRefs.forEach(oe=>{oe.dispose()}),this.overlayRefs=[],this.unbindEvents()}}create(u,F,oe=0){if(0===this.overlayRefs.length&&this.bindEvents(),!(this.currentMenus.indexOf(F)>-1)&&(this.overlayRefs.splice(oe,this.overlayRefs.length).forEach(D=>D.dispose()),this.currentMenus.splice(oe,this.overlayRefs.length),F&&F.length)){this.currentMenus.push(F);const D=s.zs3.create({providers:[],parent:this.injector}),w=new fe.C5(Fe,null,D),R=this.overlay.create({disposeOnNavigation:!0,positionStrategy:this.overlay.position().flexibleConnectedTo(0===oe?u:u.target).withPositions(We)}),re=R.attach(w);re.instance.menus=F,re.instance.level=oe,this.overlayRefs.push(R)}}bindEvents(){window.addEventListener("pointerdown",this.destroy,{once:!0,capture:!1}),window.addEventListener("wheel",this.destroy,{once:!0,capture:!0}),window.addEventListener("blur",this.destroy,{once:!0,capture:!0}),window.addEventListener("resize",this.destroy,{once:!0,capture:!0})}unbindEvents(){window.removeEventListener("pointerdown",this.destroy),window.removeEventListener("wheel",this.destroy),window.removeEventListener("blur",this.destroy),window.removeEventListener("resize",this.destroy)}}return g.\u0275fac=function(u){return new(u||g)(s.Y36(s.zs3),s.Y36(se.aV))},g.\u0275dir=s.lG2({type:g,outputs:{onclick:"onclick"}}),g.\u0275prov=s.Yz7({token:g,factory:g.\u0275fac}),g})(),Le=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({providers:[et],imports:[k.ez]}),g})(),Ye=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({imports:[ee._t,k.ez,t.rt]}),g})();var Ke=i(8836),qe=i(8505),ye=i(5698);class we{constructor(A,u){this.input=A,this.output=u}}let Be=(()=>{class g{constructor(u){this.startDrawConnection=new K.x,this.drawingConnection=new K.x,this.endDrawConnection=new K.x,this.lastSocket=null,this.addConnection=new K.x,this.connections=[],this.nodeDragging=new K.x,u.runOutsideAngular(()=>{this.startDrawConnection.pipe((0,p.w)(F=>{this.lastSocket=F.socket;const{x:oe,y:D}=this.svgContainer.getBoundingClientRect(),w=F.socket.element.getBoundingClientRect();return(0,Oe.R)(document,"mousemove").pipe((0,m.R)((0,W.T)(this.endDrawConnection.asObservable(),(0,Oe.R)(document,"mouseup").pipe((0,qe.b)(R=>this.endDrawConnection.next({event:R,node:null,socket:null})))).pipe((0,ye.q)(1))),(0,qe.b)(R=>{this.drawingConnection.next("output"===this.lastSocket.type?{start:{x:(w.left+w.right)/2-oe,y:(w.top+w.bottom)/2-D},end:{x:R.pageX-oe,y:R.pageY-D}}:{end:{x:(w.left+w.right)/2-oe,y:(w.top+w.bottom)/2-D},start:{x:R.pageX-oe,y:R.pageY-D}})}))})).subscribe(),this.endDrawConnection.asObservable().subscribe(({socket:F})=>{F&&this.lastSocket&&F.node!==this.lastSocket.node&&F!==this.lastSocket&&this.addConnection.next(function Z(g,A){if(g.type===A.type)throw new Error;return"input"===g.type?{input:g,output:A}:{input:A,output:g}}(F,this.lastSocket)),this.lastSocket=null}),this.addConnection.asObservable().subscribe(({input:F,output:oe})=>{const D=new we(F,oe);F.addConnection(D),oe.addConnection(D),this.connections.push(D)})})}}return g.\u0275fac=function(u){return new(u||g)(s.LFG(s.R0b))},g.\u0275prov=s.Yz7({token:g,factory:g.\u0275fac}),g})(),ie=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({providers:[Be],imports:[k.ez,Ye,Ke.fx,ee._t,Ke.os,Ke.nX]}),g})();function S(g,A){if(1&g){const u=s.EpF();s.TgZ(0,"div",4),s.NdJ("mouseenter",function(){const D=s.CHM(u).index,w=s.oxw().index,R=s.oxw();return s.KtG(R.current=[w,D])}),s.qZA()}if(2&g){const u=A.index,F=s.oxw().index,oe=s.oxw();s.ekj("active",F<=oe.current[0]&&u<=oe.current[1])}}function P(g,A){if(1&g&&(s.TgZ(0,"div",2),s.YNc(1,S,1,2,"div",3),s.qZA()),2&g){const u=s.oxw();s.xp6(1),s.Q6J("ngForOf",u.rows)}}let pe=(()=>{class g{constructor(){this.rows=Array(10).fill(0),this.current=[0,0],this.modalClose=new s.vpe}onclick(){this.modalClose.emit(this.current)}}return g.\u0275fac=function(u){return new(u||g)},g.\u0275cmp=s.Xpm({type:g,selectors:[["gt-create-table"]],hostBindings:function(u,F){1&u&&s.NdJ("click",function(){return F.onclick()})},outputs:{modalClose:"modalClose"},decls:2,vars:1,consts:[[1,"p-2","bg-white","rounded","border","shadow"],["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex"],["class","table-cell border",3,"active","mouseenter",4,"ngFor","ngForOf"],[1,"table-cell","border",3,"mouseenter"]],template:function(u,F){1&u&&(s.TgZ(0,"div",0),s.YNc(1,P,2,1,"div",1),s.qZA()),2&u&&(s.xp6(1),s.Q6J("ngForOf",F.rows))},dependencies:[k.sg],styles:[".table-cell[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;margin:.15rem}.table-cell.active[_ngcontent-%COMP%]{background-color:var(--bs-light);border-color:var(--bs-border-color)}"]}),g})();const Ue={provide:Ke.Kq,useFactory:(g,A)=>(u,F,oe,D)=>{switch(F){case"gtNode":const w=function ge(g,A,u){return[{label:"Move Left",desc:"\u2318\u2190",disabled:!(A.parent&&A.parent.children.indexOf(A)>0),onclick:()=>g.dropNode(A,A.parent,A.parent.children.indexOf(A)-1)},{label:"Move Right",desc:"\u2318\u2192",disabled:!(A.parent&&A.parent.children.indexOf(A)<A.parent.children.length-1),onclick:()=>g.dropNode(A,A.parent,A.parent.children.indexOf(A)+1)},{label:"Move Up",desc:"\u2318\u2191\ufe0f",disabled:!(A.parent&&A.parent.parent),onclick:()=>g.dropNode(A,A.parent.parent,A.parent.parent.children.indexOf(A.parent)+1)},{divider:!0},{label:"Copy",desc:"\u2318C",disabled:!g.selected.length||!g.selected[0].core.canCopy,onclick:()=>g.copyNode()},{label:"Paste",desc:"\u2318V",disabled:1!==g.selected.length||!g.copiedNode.length,onclick:()=>{g.pasteNode(A)}},{label:"Cut",desc:"Todo",disabled:!0},{label:"Remove",desc:"DEL",disabled:!g.selected.length||!g.selected[0].core.canDelete,onclick:()=>g.removeNode()},{divider:!0},{label:"Copy Style",desc:"\u2318\u21e7C",disabled:1!==g.selected.length||!g.selected[0].core.canCopyStyle,onclick:()=>g.copyStyle()},{label:"Paste Style",desc:"\u2318\u21e7V",disabled:!g.copiedStyle||!g.selected.length,onclick:()=>g.pasteStyle()},{divider:!0},{label:"Generate Grid",disabled:0===g.selected.filter(({core:F})=>F.canHasChild).length,onclick:(F,oe)=>{const D=u.create({hasBackdrop:!0,backdropClass:"",disposeOnNavigation:!0,positionStrategy:u.position().flexibleConnectedTo({x:oe.clientX,y:oe.clientY}).withPositions([{originX:"start",originY:"top",overlayX:"start",overlayY:"top"}])}),w=new fe.C5(pe),R=D.attach(w);(0,W.T)(D.backdropClick(),R.instance.modalClose.pipe((0,qe.b)(([re,xe])=>{g.selected.forEach(Ge=>{g.addNode("division",Ge,-1,{type:"division",style:{},children:new Array(re+1).fill({type:"division",style:{display:"flex",flexDirection:"row",width:"100%"},children:new Array(xe+1).fill({type:"division",style:{width:100/xe+"%"}})})})})}))).pipe((0,ye.q)(1),(0,qe.b)(()=>D.dispose())).subscribe()}}]}(u,oe,A);g.create(D,w);break;case"customElement":g.create(D,[{label:"Modify"},{label:"Remove",onclick(){u.customComponent.splice(u.customComponent.indexOf(oe),1)}}])}},deps:[et,se.aV]},z={provide:Ke.Q$,useValue:[{title:"Layout",elements:[{label:"Row",type:"division",icon:"row",content:{style:{display:"flex"}}},{label:"Column",type:"division",icon:"column"},{label:"Division",type:"division",icon:"division"},{label:"Card",type:"card",icon:"panel"},{label:"Accordion",type:"accordion",icon:"panel"},{label:"Alert",type:"alert",icon:"bell"},{label:"\u6309\u94ae\u7ec4",type:"buttonGroup",icon:"button_group"}]},{title:"Normal",elements:[{label:"Text",type:"text",icon:"text"},{label:"\u56fe\u7247",type:"image",icon:"picture"}]},{title:"Form",elements:[{label:"Form",type:"form",icon:"form"},{label:"Button",type:"button",icon:"button"},{label:"Input",type:"input",icon:"input"},{label:"Radio",type:"radio",icon:"radio",content:{property:{inputType:"radio"}}},{label:"Checkbox",type:"checkbox",icon:"checkbox",content:{property:{inputType:"checkbox"}}},{label:"Select",type:"select",icon:"select"},{label:"Textarea",type:"textarea",icon:"textarea"},{label:"Toggle",type:"toggle",icon:"toggle"}]},{title:"Component",elements:[{label:"Gauge",type:"gauge",icon:"gauge"},{label:"Water",type:"water",icon:"water"},{label:"Slot",type:"slot",icon:"slot"},{label:"Battery",type:"battery",icon:"battery"}]}]};var me=i(8403);function M(g,A){if(1&g){const u=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td")(6,"button",9),s.NdJ("click",function(){const D=s.CHM(u).$implicit,w=s.oxw();return s.KtG(w.removeParam(D))}),s.TgZ(7,"i",10),s._uU(8,"minus"),s.qZA()()()()}if(2&g){const u=A.$implicit;s.xp6(2),s.Oqu(u.title),s.xp6(2),s.Oqu(u.id)}}let $=(()=>{class g{constructor(){this.confirm=new s.vpe,this.cancel=new s.vpe}ngOnInit(){this.params=Array.isArray(this.initialValue)?new Set(this.initialValue):new Set}_confirm(){this.confirm.emit(Array.from(this.params))}addParam(){this.params.add({title:this.paramKey,id:this.paramValue}),this.paramKey=null,this.paramValue=null}removeParam(u){this.params.delete(u)}}return g.\u0275fac=function(u){return new(u||g)},g.\u0275cmp=s.Xpm({type:g,selectors:[["gt-accordion-items"]],inputs:{gtNode:"gtNode"},outputs:{confirm:"confirm",cancel:"cancel"},decls:20,vars:5,consts:function(){let A,u;return A="Param Name",u="Param Value",[["modalTitle","Accordion Item \u7f16\u8f91","modalSize","lg",3,"modalFooter","confirm","cancel"],[1,"table","table-bordered"],A,u,[2,"width","2rem"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-link",3,"disabled"],[1,"gt-icon",3,"click"],["type","button",1,"btn","btn-link",3,"click"],[1,"gt-icon"]]},template:function(u,F){1&u&&(s.TgZ(0,"gt-modal",0),s.NdJ("confirm",function(){return F._confirm()})("cancel",function(){return F.cancel.emit()}),s.TgZ(1,"table",1)(2,"thead")(3,"tr")(4,"th"),s.SDv(5,2),s.qZA(),s.TgZ(6,"th"),s.SDv(7,3),s.qZA(),s._UZ(8,"th",4),s.qZA()(),s.TgZ(9,"tbody"),s.YNc(10,M,9,2,"tr",5),s.TgZ(11,"tr")(12,"td")(13,"input",6),s.NdJ("ngModelChange",function(D){return F.paramKey=D}),s.qZA()(),s.TgZ(14,"td")(15,"input",6),s.NdJ("ngModelChange",function(D){return F.paramValue=D}),s.qZA()(),s.TgZ(16,"td")(17,"button",7)(18,"i",8),s.NdJ("click",function(){return F.addParam()}),s._uU(19,"plus"),s.qZA()()()()()()()),2&u&&(s.Q6J("modalFooter",!0),s.xp6(10),s.Q6J("ngForOf",F.params),s.xp6(3),s.Q6J("ngModel",F.paramKey),s.xp6(2),s.Q6J("ngModel",F.paramValue),s.xp6(2),s.Q6J("disabled",!F.paramKey||!F.paramValue))},dependencies:[k.sg,j.Fj,j.JJ,j.On,l.z],encapsulation:2}),g})(),je=(()=>{class g{constructor(){this.confirm=new s.vpe,this.cancel=new s.vpe,this.sourceID=null}_confirm(){this.confirm.emit(this.data)}}return g.\u0275fac=function(u){return new(u||g)},g.\u0275cmp=s.Xpm({type:g,selectors:[["gt-data-binding-modal"]],inputs:{data:"data"},outputs:{confirm:"confirm",cancel:"cancel"},decls:2,vars:2,consts:function(){let A;return A="Data Source Binding",[["modalTitle",A,"modalSize","sm",3,"modalFooter","confirm","cancel"],["type","text",1,"form-control",3,"ngModel","ngModelChange"]]},template:function(u,F){1&u&&(s.TgZ(0,"gt-modal",0),s.NdJ("confirm",function(){return F._confirm()})("cancel",function(){return F.cancel.emit()}),s.TgZ(1,"input",1),s.NdJ("ngModelChange",function(D){return F.data=D}),s.qZA()()),2&u&&(s.Q6J("modalFooter",!0),s.xp6(1),s.Q6J("ngModel",F.data))},dependencies:[j.Fj,j.JJ,j.On,l.z],encapsulation:2}),g})();function at(g,A){if(1&g){const u=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td")(6,"button",24),s.NdJ("click",function(){const D=s.CHM(u).$implicit,w=s.oxw();return s.KtG(w.removeParam(D))}),s.TgZ(7,"i",25),s._uU(8,"minus"),s.qZA()()()()}if(2&g){const u=A.$implicit;s.xp6(2),s.Oqu(u.key),s.xp6(2),s.Oqu(u.value)}}let ct=(()=>{class g{constructor(){this.confirm=new s.vpe,this.cancel=new s.vpe,this.params=new Set}addParam(){this.params.add({key:this.paramKey,value:this.paramValue}),this.paramKey=null,this.paramValue=null}removeParam(u){this.params.delete(u)}_confirm(){this.confirm.emit({id:this.id,type:this.type,args:[this.method,this.url,Array.from(this.params).reduce((u,{key:F,value:oe})=>({...u,[F]:oe}),{})]})}}return g.\u0275fac=function(u){return new(u||g)},g.\u0275cmp=s.Xpm({type:g,selectors:[["gt-data-source-modal"]],outputs:{confirm:"confirm",cancel:"cancel"},decls:48,vars:9,consts:function(){let A,u,F,oe,D,w,R;return A="Data Source Binding",u="Type",F="Method",oe="Url",D="Params",w="Param Name",R="Param Value",[["modalTitle",A,"modalSize","lg",3,"modalFooter","confirm","cancel"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],u,[1,"form-select",3,"ngModel","ngModelChange"],["value","http"],["value","interval"],[1,"row","g-3"],[1,"col-md-6"],F,["value","post"],["value","get"],oe,[1,"col-12"],["for","inputAddress",1,"form-label"],D,[1,"table","table-bordered"],w,R,[2,"width","2rem"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-link",3,"disabled"],[1,"gt-icon",3,"click"],["type","button",1,"btn","btn-link",3,"click"],[1,"gt-icon"]]},template:function(u,F){1&u&&(s.TgZ(0,"gt-modal",0),s.NdJ("confirm",function(){return F._confirm()})("cancel",function(){return F.cancel.emit()}),s.TgZ(1,"div",1)(2,"label",2),s._uU(3,"ID"),s.qZA(),s.TgZ(4,"input",3),s.NdJ("ngModelChange",function(D){return F.id=D}),s.qZA()(),s.TgZ(5,"div",1)(6,"label",2),s.SDv(7,4),s.qZA(),s.TgZ(8,"select",5),s.NdJ("ngModelChange",function(D){return F.type=D}),s.TgZ(9,"option",6),s._uU(10,"HTTP"),s.qZA(),s.TgZ(11,"option",7),s._uU(12,"Interval"),s.qZA()()(),s.TgZ(13,"div",8)(14,"div",9)(15,"label",2),s.SDv(16,10),s.qZA(),s.TgZ(17,"select",5),s.NdJ("ngModelChange",function(D){return F.method=D}),s.TgZ(18,"option",11),s._uU(19,"POST"),s.qZA(),s.TgZ(20,"option",12),s._uU(21,"GET"),s.qZA()()(),s.TgZ(22,"div",9)(23,"label",2),s.SDv(24,13),s.qZA(),s.TgZ(25,"input",3),s.NdJ("ngModelChange",function(D){return F.url=D}),s.qZA()(),s.TgZ(26,"div",14)(27,"label",15),s.SDv(28,16),s.qZA(),s.TgZ(29,"table",17)(30,"thead")(31,"tr")(32,"th"),s.SDv(33,18),s.qZA(),s.TgZ(34,"th"),s.SDv(35,19),s.qZA(),s._UZ(36,"th",20),s.qZA()(),s.TgZ(37,"tbody"),s.YNc(38,at,9,2,"tr",21),s.TgZ(39,"tr")(40,"td")(41,"input",3),s.NdJ("ngModelChange",function(D){return F.paramKey=D}),s.qZA()(),s.TgZ(42,"td")(43,"input",3),s.NdJ("ngModelChange",function(D){return F.paramValue=D}),s.qZA()(),s.TgZ(44,"td")(45,"button",22)(46,"i",23),s.NdJ("click",function(){return F.addParam()}),s._uU(47,"plus"),s.qZA()()()()()()()()()),2&u&&(s.Q6J("modalFooter",!0),s.xp6(4),s.Q6J("ngModel",F.id),s.xp6(4),s.Q6J("ngModel",F.type),s.xp6(9),s.Q6J("ngModel",F.method),s.xp6(8),s.Q6J("ngModel",F.url),s.xp6(13),s.Q6J("ngForOf",F.params),s.xp6(3),s.Q6J("ngModel",F.paramKey),s.xp6(2),s.Q6J("ngModel",F.paramValue),s.xp6(2),s.Q6J("disabled",!F.paramKey||!F.paramValue))},dependencies:[k.sg,j.YN,j.Kr,j.Fj,j.EJ,j.JJ,j.On,l.z],encapsulation:2}),g})();var De=i(9646),Je=i(2076),Ie=i(6063);class Re extends K.x{constructor(A=1/0,u=1/0,F=Ie.l){super(),this._bufferSize=A,this._windowTime=u,this._timestampProvider=F,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=u===1/0,this._bufferSize=Math.max(1,A),this._windowTime=Math.max(1,u)}next(A){const{isStopped:u,_buffer:F,_infiniteTimeWindow:oe,_timestampProvider:D,_windowTime:w}=this;u||(F.push(A),!oe&&F.push(D.now()+w)),this._trimBuffer(),super.next(A)}_subscribe(A){this._throwIfClosed(),this._trimBuffer();const u=this._innerSubscribe(A),{_infiniteTimeWindow:F,_buffer:oe}=this,D=oe.slice();for(let w=0;w<D.length&&!A.closed;w+=F?1:2)A.next(D[w]);return this._checkFinalizedStatuses(A),u}_trimBuffer(){const{_bufferSize:A,_timestampProvider:u,_buffer:F,_infiniteTimeWindow:oe}=this,D=(oe?1:2)*A;if(A<1/0&&D<F.length&&F.splice(0,F.length-D),!oe){const w=u.now();let R=0;for(let re=1;re<F.length&&F[re]<=w;re+=2)R=re;R&&F.splice(0,R+1)}}}var ze=i(3099);const G="https://cdn.bootcdn.net/ajax/libs/monaco-editor/0.24.0/min/vs",de=(0,De.of)(null).pipe((0,a.U)(()=>{const g=document.createElement("script");return g.type="text/javascript",g.src=`${G}/loader.js`,document.body.appendChild(g),g}),(0,p.w)(g=>(0,Oe.R)(g,"load")),(0,p.w)(()=>(window.require.config({paths:{vs:G}}),(0,Je.D)(new Promise(g=>window.require(["vs/editor/editor.main"],g))))),function rt(g,A,u){let F,oe=!1;return g&&"object"==typeof g?({bufferSize:F=1/0,windowTime:A=1/0,refCount:oe=!1,scheduler:u}=g):F=g??1/0,(0,ze.B)({connector:()=>new Re(F,A,u),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:oe})}(1)),B=["editor"];let y=(()=>{class g{constructor(u){this.gt=u,this.confirm=new s.vpe,this.cancel=new s.vpe}ngAfterViewInit(){de.subscribe(()=>{const u=monaco.editor.create(this.editor.nativeElement,{value:this.script,language:"typescript",lineNumbersMinChars:2,theme:this.gt.darkMode?"vs-dark":"vs"});u.onDidChangeModelContent(()=>this.script=u.getValue())})}}return g.\u0275fac=function(u){return new(u||g)(s.Y36(Ke.ZW))},g.\u0275cmp=s.Xpm({type:g,selectors:[["gt-action-edit"]],viewQuery:function(u,F){if(1&u&&s.Gf(B,7),2&u){let oe;s.iGM(oe=s.CRH())&&(F.editor=oe.first)}},inputs:{script:"script"},outputs:{confirm:"confirm",cancel:"cancel"},decls:3,vars:1,consts:function(){let A;return A="Action Editor",[["modalTitle",A,"modalSize","xl",3,"modalFooter","confirm","cancel"],[1,"overflow-hidden","border",2,"height","36rem"],["editor",""]]},template:function(u,F){1&u&&(s.TgZ(0,"gt-modal",0),s.NdJ("confirm",function(){return F.confirm.emit(F.script)})("cancel",function(){return F.cancel.emit()}),s._UZ(1,"div",1,2),s.qZA()),2&u&&s.Q6J("modalFooter",!0)},dependencies:[l.z],encapsulation:2}),g})();const x=[z,{provide:Ke.dd,useFactory:g=>A=>{switch(A.type){case"expression":case"action":{const u=g.create({hasBackdrop:!0,disposeOnNavigation:!0}),F=u.attach(new fe.C5(y));F.instance.script=A.args[0],(0,W.T)(F.instance.confirm.pipe((0,qe.b)(oe=>A.cb(oe))),F.instance.cancel).pipe((0,ye.q)(1)).subscribe(()=>u.dispose());break}case"dataSource":{const u=g.create({hasBackdrop:!0,disposeOnNavigation:!0}),F=u.attach(new fe.C5(ct));(0,W.T)(F.instance.confirm.pipe((0,qe.b)(oe=>{A.gtNode.dataSource.add(oe),A.cb()})),F.instance.cancel).pipe((0,ye.q)(1)).subscribe(()=>u.dispose());break}case"property":switch(A.args[0]){case"bindData":{const oe=g.create({hasBackdrop:!0,disposeOnNavigation:!0}),D=oe.attach(new fe.C5(je));D.instance.data=A.args[2]&&A.args[2].data,(0,W.T)(D.instance.confirm.pipe((0,qe.b)(w=>{A.cb(new me.Sl(w))})),D.instance.cancel).pipe((0,ye.q)(1)).subscribe(()=>oe.dispose())}break;case"accordionItems":const u=g.create({hasBackdrop:!0}),F=u.attach(new fe.C5($));F.instance.initialValue=A.args[1],(0,W.T)(F.instance.confirm.pipe((0,qe.b)(oe=>{A.cb(oe)})),F.instance.cancel).pipe((0,ye.q)(1)).subscribe(()=>u.dispose())}}},deps:[se.aV],multi:!0},{provide:Ke.R,useFactory:(g,A)=>[{title:"Undo",icon:"rotate_ccw",get disabled(){return!g.history.get().length},onclick:()=>{g.undo()}},{title:"Redo",icon:"rotate_cw",get disabled(){return!g.undoHistory.get().length},onclick:()=>{g.redo()}},{title:"Reference Line",icon:"dashed_rect",get active(){return g.showReferenceLine},onclick(){g.showReferenceLine=!g.showReferenceLine}},{title:"Add Data Source",icon:"bind",onclick:()=>{}},{title:"Preview",icon:"preview",onclick:()=>{g.log.next({type:"preview",message:"\u6b63\u5728\u9884\u89c8 data \u4e3a %o \u7684\u9875\u9762",data:g.export()})}},{title:"Save",icon:"save",onclick:()=>{g.log.next({type:"save",message:"\u4fdd\u5b58",data:{config:g.exportString(),settings:g.exportSettings()}})}},{title:"\u5386\u53F2",icon:"history",onclick:()=>{}},{title:"\u8BBE\u7F6E",icon:"tools",onclick:()=>{}}],deps:[Ke.ZW,se.aV]},Ue];let J=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=s.oAB({type:g}),g.\u0275inj=s.cJS({providers:x,imports:[k.ez,Le,j.u5,ee._t,t.rt,Ce,j.UX,Ye,ie,Ye]}),g})()},5008:(Ze,Te,i)=>{"use strict";i.d(Te,{Q:()=>t});var e=i(8403),l=i(3222),j=i(4650);let t=(()=>{class s extends e.Gt{constructor(Y,N){super(),this.defaultConfigMap=N,this.globalService=new Map,this.componentVariables=new Map,this.componentMap=Object.assign({},...Y)}ngOnDestroy(){this.globalService.forEach(Y=>Y.complete()),this.globalService.clear()}}return s.\u0275fac=function(Y){return new(Y||s)(j.LFG(l.dS),j.LFG(l.KZ))},s.\u0275prov=j.Yz7({token:s,factory:s.\u0275fac}),s})()},2881:(Ze,Te,i)=>{"use strict";i.d(Te,{E:()=>U});var e=i(8403),l=i(5191),j=i(4650),t=i(3840),s=i(290);let U=(()=>{class Y{constructor(K,X,W,O){this._cdr=K,this.gtNode=X,this.directiveContext=W,this.globalVariable=O,this._subscription=null,this._latestValue=null,this._obj=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(K,...X){if(K instanceof e.Sl){K.compiled||(K.compiledData=K.compile({...this.gtNode.variable.reduce((O,p)=>(p.value instanceof e.Sl&&(p.value=p.value.compile({},this.globalVariable)),O[p.name]=p.value,O),{})},this.globalVariable),K.compiled=!0);const W=K.compiledData;return(0,l.b)(W)?this._obj?this._obj!==W?(this._dispose(),this.transform(K)):this._latestValue:(K&&this._subscribe(W),this._latestValue):W}return"string"==typeof K&&/\${.+?}/.test(K)?this.executeStringCode(K):K}_subscribe(K){this._obj=K,this._subscription=K.subscribe(X=>this._updateLatestValue(K,X))}_updateLatestValue(K,X){K===this._obj&&(this._latestValue=X,this._cdr.markForCheck())}_dispose(){this._latestValue=null,this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._obj=null}executeStringCode(K){return(0,e.Qr)(K,{},this.globalVariable)}}return Y.\u0275fac=function(K){return new(K||Y)(j.Y36(j.sBO,16),j.Y36(e.Fo,16),j.Y36(t.E,24),j.Y36(s.f,16))},Y.\u0275pipe=j.Yjl({name:"dataBinding",type:Y,pure:!1}),Y})()},3840:(Ze,Te,i)=>{"use strict";i.d(Te,{E:()=>e});class e{}},290:(Ze,Te,i)=>{"use strict";i.d(Te,{f:()=>I});var e=i(4004),l=i(5577),j=i(3900),t=i(8505),s=i(9751),U=i(8421);const{isArray:Y}=Array;var K=i(515),X=i(5403),W=i(3269);function O(...v){const te=(0,W.jO)(v),ae=function N(v){return 1===v.length&&Y(v[0])?v[0]:v}(v);return ae.length?new s.y(Se=>{let Ee=ae.map(()=>[]),Ce=ae.map(()=>!1);Se.add(()=>{Ee=Ce=null});for(let k=0;!Se.closed&&k<ae.length;k++)(0,U.Xf)(ae[k]).subscribe((0,X.x)(Se,ee=>{if(Ee[k].push(ee),Ee.every(le=>le.length)){const le=Ee.map(fe=>fe.shift());Se.next(te?te(...le):le),Ee.some((fe,T)=>!fe.length&&Ce[T])&&Se.complete()}},()=>{Ce[k]=!0,!Ee[k].length&&Se.complete()}));return()=>{Ee=Ce=null}}):K.E}var p=i(6451),a=i(4650),m=i(3840),f=i(529);let I=(()=>{class v{constructor(ae,Se){this.directiveContext=ae,this.http=Se,this.map=e.U,this.zip=O,this.merge=p.T,this.mergeMap=l.z,this.switchMap=j.w,this.tap=t.b}}return v.\u0275fac=function(ae){return new(ae||v)(a.LFG(m.E,8),a.LFG(f.eN,8))},v.\u0275prov=a.Yz7({token:v,factory:v.\u0275fac}),v})()},9236:(Ze,Te,i)=>{"use strict";i.d(Te,{S:()=>W});var e=i(4650),l=i(433),j=i(8403),t=i(727),s=i(7445),U=i(9646),Y=i(515),N=i(4004),K=i(3840);function X(a,m){}let W=(()=>{class a{constructor(f,I,v){this.viewContainerRef=f,this.cdr=I,this.injector=v}insert(f,I,v){const te=f.directive.find(({needTemplate:Se})=>Se);I||(I=e.zs3.create({providers:[{provide:j.Fo,useValue:f}],parent:this.injector}));const ae=this.viewContainerRef.createComponent(te?O:f.component,{index:v,injector:I});return f.componentRef=ae,ae}indexOf(f){return f.componentRef?this.viewContainerRef.indexOf(f.componentRef.hostView):-1}remove(f){if(f.componentRef){const I=this.viewContainerRef.indexOf(f.componentRef.hostView);-1!==I&&(this.viewContainerRef.remove(I),this.cdr.detectChanges()),f.componentRef=null}else console.error("remove failed")}move(f,I){const v=this.viewContainerRef.move(f.componentRef.hostView,I);return this.cdr.detectChanges(),v}clear(){this.viewContainerRef.clear(),this.cdr.detectChanges()}}return a.\u0275fac=function(f){return new(f||a)(e.Y36(e.s_b),e.Y36(e.sBO),e.Y36(e.zs3))},a.\u0275dir=e.lG2({type:a,selectors:[["","gtTemplate",""]],inputs:{templateID:"templateID"}}),a})(),O=(()=>{class a{constructor(f,I,v,te,ae){this.iterableDiffers=f,this.gtNode=I,this.injector=v,this.formGroup=te,this.directiveContext=ae,this.diff=this.iterableDiffers.find([]).create((Se,{gtNode:Ee})=>Ee.id),this.subscription=t.w0.EMPTY}ngOnInit(){this.subscription=function p(a,m){const f=m.directive.filter(I=>I!==a);switch(a.type){case"if":if(a.value.input){const I=a.value.input.default,v=new j.Fo({type:m.type,directive:f},m,m.component);return(I instanceof j.Sl?I.compile({},{interval:s.F,map:N.U}):(0,U.of)(!!I)).pipe((0,N.U)(ae=>ae?[{gtNode:v,item:{},index:0}]:[]))}return(0,U.of)([]);case"for":if(a.value.input){const I=a.value.input.default;return(I instanceof j.Sl?I.compile({},{interval:s.F,map:N.U}):(0,U.of)(!!I)).pipe((0,N.U)(te=>Array.isArray(te)?te.map((ae,Se)=>({gtNode:new j.Fo({type:m.type,directive:f},m,m.component),item:ae,index:Se})):[]))}return(0,U.of)([]);default:return Y.E}}(this.gtNode.directive[0],this.gtNode).subscribe(f=>{const I=this.diff.diff(f);this.resolveDiffChange(I)})}ngOnDestroy(){this.subscription.unsubscribe()}resolveDiffChange(f){f&&f.forEachOperation(({item:{gtNode:I,item:v},previousIndex:te},ae,Se)=>{if(null===te){const Ee=e.zs3.create({providers:[{provide:j.Fo,useValue:I},{provide:l.cw,useValue:this.formGroup},{provide:K.E,useValue:Object.assign(Object.create(this.directiveContext),{index:Se,item:v})}],parent:this.injector});this.template.insert(I,Ee,Se)}else null===Se?this.template.remove(I):null!==ae&&this.template.move(I,Se)})}}return a.\u0275fac=function(f){return new(f||a)(e.Y36(e.ZZ4),e.Y36(j.Fo),e.Y36(e.zs3),e.Y36(l.cw,8),e.Y36(K.E,8))},a.\u0275cmp=e.Xpm({type:a,selectors:[["template-component"]],viewQuery:function(f,I){if(1&f&&e.Gf(W,7),2&f){let v;e.iGM(v=e.CRH())&&(I.template=v.first)}},decls:1,vars:0,consts:[["gtTemplate",""]],template:function(f,I){1&f&&e.YNc(0,X,0,0,"ng-template",0)},dependencies:[W],encapsulation:2}),a})()},9162:(Ze,Te,i)=>{"use strict";i.d(Te,{b:()=>s});var e=i(5008),l=i(9236),j=i(4650);function t(U,Y){}let s=(()=>{class U{constructor(N){this.gt=N,this.log=this.gt.log}ngOnInit(){this.gt.init(this.data),this.gt.log.next({type:"init",message:"Application Initialization",data:this.gt}),this.template.insert(this.gt.currentBoard.gt)}ngOnDestroy(){this.gt.log.next({type:"destroy",message:"Application Destroy",data:this.gt})}}return U.\u0275fac=function(N){return new(N||U)(j.Y36(e.Q))},U.\u0275cmp=j.Xpm({type:U,selectors:[["gt-render"]],viewQuery:function(N,K){if(1&N&&j.Gf(l.S,7),2&N){let X;j.iGM(X=j.CRH())&&(K.template=X.first)}},inputs:{data:"data"},outputs:{log:"log"},features:[j._Bn([e.Q])],decls:1,vars:0,consts:[["gtTemplate",""]],template:function(N,K){1&N&&j.YNc(0,t,0,0,"ng-template",0)},dependencies:[l.S],encapsulation:2}),U})()},3222:(Ze,Te,i)=>{"use strict";i.d(Te,{KZ:()=>l,dS:()=>t,gx:()=>j});var e=i(4650);const l=new e.OlP("Gt Node \u9ed8\u8ba4\u5c5e\u6027\u914d\u7f6e"),j=new e.OlP("Gt Node Default Config"),t=new e.OlP("Gt Render Component Map")},3328:(Ze,Te,i)=>{"use strict";i.d(Te,{ub:()=>ae,gx:()=>Ce.gx,dS:()=>Ce.dS,Bp:()=>k,z6:()=>I}),i(2881);var l=i(433),j=i(8403),t=i(5698),s=i(8505),U=i(4650),Y=i(7272),N=i(5191),K=i(2076),X=i(9646),W=i(3840),O=i(9236),a=i(5008),m=i(290),f=i(529);let I=(()=>{class le{constructor(T,V,Q,Oe,se,C,c,b,q,ce,ue,Me){this.renderer=T,this.elRef=V,this.cdr=Q,this.injector=Oe,this.viewContainerRef=se,this.gt=C,this.gtNode=c,this.ngZone=b,this.globalVariable=q,this.http=ce,this.formGroup=ue,this.directiveContext=Me,this.dataBindingValueMap=new Map,this.subscriptions=[],this.property=this.gtNode.property,this.style=this.gtNode.style,"form"===this.gtNode.type&&(this.formGroup=new l.cw({})),this.afterConstructor()}get clearfix(){return this.gtNode.style.clearfix}afterConstructor(){}ngOnInit(){this.initStyle(),this.gtNode.core.dynamicTemplate||(this.gtNode.core.canHasChild&&this.refresh(),this.gtNode.action&&this.onEvent("onInit")),this.gtNode.variableName&&this.gt.componentVariables.set(this.gtNode.variableName,{...this,...this.gtNode.property,...this.gtNode.variable.reduce((T,V)=>(V.value instanceof j.Sl&&(V.value=V.value.compile({},this.globalVariable)),T[V.name]=V.value,T),{}),...this.directiveContext})}ngAfterViewInit(){this.gtNode.core.dynamicTemplate&&(this.refresh(),this.onEvent("onInit"))}ngOnDestroy(){this.control&&this.formGroup&&this.formGroup.contains(this.gtNode.property.name)&&this.formGroup.removeControl(this.gtNode.property.name),this.gtNode.action&&this.onEvent("onDestroy"),this.subscriptions.forEach(T=>T.unsubscribe())}initStyle(){(function p({width:le,height:fe,padding:T,margin:V,position:Q,float:Oe,fontSize:se,textAlign:C,color:c,display:b,left:q,right:ce,top:ue,bottom:Me,zIndex:Pe,justifyContent:Fe,alignItems:We,flex:et,flexDirection:Le,flexGrow:Ye,flexWrap:Ke,flexShrink:qe,alignContent:ye,background:we,fontWeight:Ne,cursor:Ve,border:Be,overflow:Z}){const ie=[];return le&&"auto"!==le&&ie.push(["width",le]),fe&&"auto"!==fe&&ie.push(["height",fe]),T&&!/^0(px|em|%)*$/.test(T)&&ie.push(["padding",T]),V&&!/^0(px|em|%)*$/.test(V)&&ie.push(["margin",V]),C&&ie.push(["text-align",C]),c&&ie.push(["color",c]),Z&&ie.push(["overflow",Z]),Ne&&ie.push(["font-weight",Ne]),b&&ie.push(["display",b]),Q&&ie.push(["position",Q]),""!==q&&void 0!==q&&ie.push(["left",q]),""!==ue&&void 0!==ue&&ie.push(["top",ue]),""!==ce&&void 0!==ce&&ie.push(["right",ce]),""!==Me&&void 0!==Me&&ie.push(["bottom",Me]),se&&ie.push(["fontSize",se]),Oe&&ie.push(["float",Oe]),Fe&&ie.push(["justify-content",Fe]),ye&&ie.push(["align-content",ye]),We&&ie.push(["align-items",We]),void 0!==et&&ie.push(["flex",et]),Ke&&ie.push(["flex-wrap",Ke]),void 0!==qe&&ie.push(["flex-shrink",qe]),Le&&ie.push(["flex-direction",Le]),Ye&&ie.push(["flex-grow",Ye]),we&&ie.push(["background",we]),Ve&&ie.push(["cursor",Ve]),Pe&&ie.push(["z-index",Pe]),Be&&(Be.all&&ie.push(["border",Be.all]),Be.left&&ie.push(["border-left",Be.left]),Be.top&&ie.push(["border-top",Be.top]),Be.right&&ie.push(["border-right",Be.right]),Be.bottom&&ie.push(["border-bottom",Be.bottom])),ie})(this.gtNode.style).forEach(([T,V])=>this.renderer.setStyle(this.elRef.nativeElement,T,V))}refresh(){if(this.gtNode.core.canHasChild)if(this.gtNode.core.dynamicTemplate){const T=new Map;this.templates.forEach(V=>{V.clear(),T.set(V.templateID,V)}),this.gtNode.children.forEach(V=>{const Q=T.get(V.outletID);Q&&Q.insert(V,this.getGtNodeInjector(V))})}else this.gtNode.children.forEach(T=>{this.template.insert(T,this.getGtNodeInjector(T))})}insert(T,V){if(!T.component||!T.property.show)return null;let Q;if(this.gtNode.core.dynamicTemplate){const Oe=this.templates.find(se=>se.templateID===T.outletID);if(!Oe)throw new Error;Q=Oe.insert(T,this.getGtNodeInjector(T),V)}else Q=this.template.insert(T,this.getGtNodeInjector(T),V);return Q}move(T,V){return this.template.move(T,V)}remove(T){this.template.remove(T)}onEvent(T,V){!this.gtNode.action||!Array.isArray(this.gtNode.action[T])||(0,Y.z)(...this.gtNode.action[T].map(Q=>{const Oe={...this.globalVariable,...Object.fromEntries(this.gt.componentVariables)};try{const se=Function("window","document","event",...Object.keys(Oe),Q.script).call(this,void 0,void 0,V,...Object.values(Oe));return(0,N.b)(se)||se instanceof Promise?(0,K.D)(se):(0,X.of)(se)}catch(se){return console.warn(se,Q.script,this.gtNode),(0,X.of)(null)}})).subscribe()}getGtNodeInjector(T){return U.zs3.create({providers:[{provide:j.Fo,useValue:T},{provide:l.cw,useValue:this.formGroup},{provide:W.E,useValue:this.directiveContext}],parent:this.injector})}resolveDataBinding(T){if(!(T instanceof j.Sl))return T;{const V=T.compile({},{getComponentByName:Q=>this.gt.componentVariables.get(Q).componentRef.instance});if(!(0,N.b)(V))return V;{const Q=this.dataBindingValueMap.get(T);if(Q)return Q.latestValue;{const Oe={source:V,latestValue:null};this.dataBindingValueMap.set(T,Oe),this.subscriptions.push(V.subscribe(se=>{Oe.latestValue=se,this.cdr.markForCheck()}))}}}}}return le.\u0275fac=function(T){return new(T||le)(U.Y36(U.Qsj),U.Y36(U.SBq),U.Y36(U.sBO),U.Y36(U.zs3),U.Y36(U.s_b),U.Y36(a.Q),U.Y36(j.Fo),U.Y36(U.R0b),U.Y36(m.f),U.Y36(f.eN,8),U.Y36(l.cw,8),U.Y36(W.E,8))},le.\u0275cmp=U.Xpm({type:le,selectors:[["gt-abstract"]],viewQuery:function(T,V){if(1&T&&(U.Gf(O.S,7),U.Gf(O.S,5)),2&T){let Q;U.iGM(Q=U.CRH())&&(V.template=Q.first),U.iGM(Q=U.CRH())&&(V.templates=Q)}},hostVars:2,hostBindings:function(T,V){2&T&&U.ekj("clearfix",V.clearfix)},decls:0,vars:0,template:function(T,V){},encapsulation:2}),le})();function v(le){return Array.isArray(le.validator)?le.validator.map(({type:fe,value:T})=>{switch(fe){case"min":return l.kI.min(T.min);case"max":return l.kI.max(T.max);case"required":return l.kI.required;case"requiredTrue":return l.kI.requiredTrue;case"email":return l.kI.email;case"minLength":return l.kI.minLength(T.minLength);case"maxLength":return l.kI.maxLength(T.maxLength);case"pattern":return l.kI.pattern(T.pattern);default:return l.kI.nullValidator}}):null}const te=["ngModel"];let ae=(()=>{class le extends I{get hasError(){return this.control&&this.control.invalid&&(this.control.dirty||this.control.touched)}afterConstructor(){if(this.errorTextMap=new Map,this.formGroup){const T=v(this.gtNode),V=this.gtNode.property.name instanceof j.Sl?this.gtNode.property.name.compile({},{...this.directiveContext}):this.gtNode.property.name,Q=this.formGroup.get(V);if(Q)return this.control=Q,void console.warn(`\u8be5\u8868\u5355\u4e0b\u5df2\u5b58\u5728name\u4e3a${V}\u7684\u8868\u5355\u9879`);this.control=new l.NI({value:this.gtNode.property.value,disabled:this.gtNode.property.disabled},{validators:T}),this.formGroup.setControl(this.gtNode.property.name,this.control)}}ngAfterViewInit(){this.ngModel&&this.ngZone.onStable.pipe((0,t.q)(1),(0,s.b)(()=>{const T=v(this.gtNode);this.ngModel.control.setValidators(T),this.control=this.ngModel.control})).subscribe()}errorText(T){return null===T?"":Object.keys(T).map(V=>this.errorTextMap.get(V)).join(", ")}}return le.\u0275fac=function(){let fe;return function(V){return(fe||(fe=U.n5z(le)))(V||le)}}(),le.\u0275cmp=U.Xpm({type:le,selectors:[["gt-form-abstract"]],viewQuery:function(T,V){if(1&T&&U.Gf(te,5),2&T){let Q;U.iGM(Q=U.CRH())&&(V.ngModel=Q.first)}},hostVars:2,hostBindings:function(T,V){2&T&&U.ekj("has-error",V.hasError)},features:[U.qOj],decls:0,vars:0,template:function(T,V){},encapsulation:2}),le})();var Se=i(6895),Ee=i(4080),Ce=i(3222);let k=(()=>{class le{}return le.\u0275fac=function(T){return new(T||le)},le.\u0275mod=U.oAB({type:le}),le.\u0275inj=U.cJS({providers:[m.f,{provide:Ce.dS,useValue:{},multi:!0},{provide:Ce.KZ,useFactory:fe=>{const T=new Map;return fe.forEach(V=>{for(const Q in V)T.set(Q,{core:j.QY.create(V[Q].get("core")),property:j.Z9.create(V[Q].get("property").reduce((Oe,se)=>({...Oe,[se.name]:void 0===se.value?null:se.value}),{})),style:j.bg.create(V[Q].get("style").reduce((Oe,se)=>({...Oe,[se.name]:void 0===se.value?null:se.value}),{})),action:V[Q].get("action"),rights:V[Q].get("rights"),validator:V[Q].get("validator")})}),T},deps:[Ce.gx]}],imports:[Se.ez,l.u5,l.UX,Ee.eL]}),le})();i(9162)},2229:(Ze,Te,i)=>{var e;!function(l,j,t){if(l){for(var K,s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},U={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Y={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},N={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},X=1;X<20;++X)s[111+X]="f"+X;for(X=0;X<=9;++X)s[X+96]=X.toString();Ce.prototype.bind=function(k,ee,le){return this._bindMultiple.call(this,k=k instanceof Array?k:[k],ee,le),this},Ce.prototype.unbind=function(k,ee){return this.bind.call(this,k,function(){},ee)},Ce.prototype.trigger=function(k,ee){return this._directMap[k+":"+ee]&&this._directMap[k+":"+ee]({},k),this},Ce.prototype.reset=function(){var k=this;return k._callbacks={},k._directMap={},k},Ce.prototype.stopCallback=function(k,ee){if((" "+ee.className+" ").indexOf(" mousetrap ")>-1||Ee(ee,this.target))return!1;if("composedPath"in k&&"function"==typeof k.composedPath){var fe=k.composedPath()[0];fe!==k.target&&(ee=fe)}return"INPUT"==ee.tagName||"SELECT"==ee.tagName||"TEXTAREA"==ee.tagName||ee.isContentEditable},Ce.prototype.handleKey=function(){var k=this;return k._handleKey.apply(k,arguments)},Ce.addKeycodes=function(k){for(var ee in k)k.hasOwnProperty(ee)&&(s[ee]=k[ee]);K=null},Ce.init=function(){var k=Ce(j);for(var ee in k)"_"!==ee.charAt(0)&&(Ce[ee]=function(le){return function(){return k[le].apply(k,arguments)}}(ee))},Ce.init(),l.Mousetrap=Ce,Ze.exports&&(Ze.exports=Ce),void 0!==(e=function(){return Ce}.call(Te,i,Te,Ze))&&(Ze.exports=e)}function W(k,ee,le){k.addEventListener?k.addEventListener(ee,le,!1):k.attachEvent("on"+ee,le)}function O(k){if("keypress"==k.type){var ee=String.fromCharCode(k.which);return k.shiftKey||(ee=ee.toLowerCase()),ee}return s[k.which]?s[k.which]:U[k.which]?U[k.which]:String.fromCharCode(k.which).toLowerCase()}function p(k,ee){return k.sort().join(",")===ee.sort().join(",")}function I(k){return"shift"==k||"ctrl"==k||"alt"==k||"meta"==k}function te(k,ee,le){return le||(le=function v(){if(!K)for(var k in K={},s)k>95&&k<112||s.hasOwnProperty(k)&&(K[s[k]]=k);return K}()[k]?"keydown":"keypress"),"keypress"==le&&ee.length&&(le="keydown"),le}function Se(k,ee){var le,fe,T,V=[];for(le=function ae(k){return"+"===k?["+"]:(k=k.replace(/\+{2}/g,"+plus")).split("+")}(k),T=0;T<le.length;++T)N[fe=le[T]]&&(fe=N[fe]),ee&&"keypress"!=ee&&Y[fe]&&(fe=Y[fe],V.push("shift")),I(fe)&&V.push(fe);return{key:fe,modifiers:V,action:ee=te(fe,V,ee)}}function Ee(k,ee){return null!==k&&k!==j&&(k===ee||Ee(k.parentNode,ee))}function Ce(k){var ee=this;if(k=k||j,!(ee instanceof Ce))return new Ce(k);ee.target=k,ee._callbacks={},ee._directMap={};var fe,le={},T=!1,V=!1,Q=!1;function Oe(ue){ue=ue||{};var Pe,Me=!1;for(Pe in le)ue[Pe]?Me=!0:le[Pe]=0;Me||(Q=!1)}function se(ue,Me,Pe,Fe,We,et){var Le,Ye,Ke=[],qe=Pe.type;if(!ee._callbacks[ue])return[];for("keyup"==qe&&I(ue)&&(Me=[ue]),Le=0;Le<ee._callbacks[ue].length;++Le)Ye=ee._callbacks[ue][Le],!Fe&&Ye.seq&&le[Ye.seq]!=Ye.level||qe!=Ye.action||("keypress"!=qe||Pe.metaKey||Pe.ctrlKey)&&!p(Me,Ye.modifiers)||((!Fe&&Ye.combo==We||Fe&&Ye.seq==Fe&&Ye.level==et)&&ee._callbacks[ue].splice(Le,1),Ke.push(Ye));return Ke}function C(ue,Me,Pe,Fe){ee.stopCallback(Me,Me.target||Me.srcElement,Pe,Fe)||!1===ue(Me,Pe)&&(function m(k){k.preventDefault?k.preventDefault():k.returnValue=!1}(Me),function f(k){k.stopPropagation?k.stopPropagation():k.cancelBubble=!0}(Me))}function c(ue){"number"!=typeof ue.which&&(ue.which=ue.keyCode);var Me=O(ue);if(Me){if("keyup"==ue.type&&T===Me)return void(T=!1);ee.handleKey(Me,function a(k){var ee=[];return k.shiftKey&&ee.push("shift"),k.altKey&&ee.push("alt"),k.ctrlKey&&ee.push("ctrl"),k.metaKey&&ee.push("meta"),ee}(ue),ue)}}function ce(ue,Me,Pe,Fe,We){ee._directMap[ue+":"+Pe]=Me;var Le,et=(ue=ue.replace(/\s+/g," ")).split(" ");et.length>1?function q(ue,Me,Pe,Fe){function We(qe){return function(){Q=qe,++le[ue],function b(){clearTimeout(fe),fe=setTimeout(Oe,1e3)}()}}function et(qe){C(Pe,qe,ue),"keyup"!==Fe&&(T=O(qe)),setTimeout(Oe,10)}le[ue]=0;for(var Le=0;Le<Me.length;++Le){var Ke=Le+1===Me.length?et:We(Fe||Se(Me[Le+1]).action);ce(Me[Le],Ke,Fe,ue,Le)}}(ue,et,Me,Pe):(Le=Se(ue,Pe),ee._callbacks[Le.key]=ee._callbacks[Le.key]||[],se(Le.key,Le.modifiers,{type:Le.action},Fe,ue,We),ee._callbacks[Le.key][Fe?"unshift":"push"]({callback:Me,modifiers:Le.modifiers,action:Le.action,seq:Fe,level:We,combo:ue}))}ee._handleKey=function(ue,Me,Pe){var We,Fe=se(ue,Me,Pe),et={},Le=0,Ye=!1;for(We=0;We<Fe.length;++We)Fe[We].seq&&(Le=Math.max(Le,Fe[We].level));for(We=0;We<Fe.length;++We)if(Fe[We].seq){if(Fe[We].level!=Le)continue;Ye=!0,et[Fe[We].seq]=1,C(Fe[We].callback,Pe,Fe[We].combo,Fe[We].seq)}else Ye||C(Fe[We].callback,Pe,Fe[We].combo);var Ke="keypress"==Pe.type&&V;Pe.type==Q&&!I(ue)&&!Ke&&Oe(et),V=Ye&&"keydown"==Pe.type},ee._bindMultiple=function(ue,Me,Pe){for(var Fe=0;Fe<ue.length;++Fe)ce(ue[Fe],Me,Pe)},W(k,"keypress",c),W(k,"keydown",c),W(k,"keyup",c)}}(typeof window<"u"?window:null,typeof window<"u"?document:null)},8690:(Ze,Te,i)=>{"use strict";i.d(Te,{R:()=>t});var e=i(9751);const l={now:()=>(l.delegate||performance).now(),delegate:void 0};var j=i(3399);function t(Y){return Y?s(Y):U}function s(Y){return new e.y(N=>{const K=Y||l,X=K.now();let W=0;const O=()=>{N.closed||(W=j.l.requestAnimationFrame(p=>{W=0;const a=K.now();N.next({timestamp:Y?a:p,elapsed:a-X}),O()}))};return O(),()=>{W&&j.l.cancelAnimationFrame(W)}})}const U=s()},7445:(Ze,Te,i)=>{"use strict";i.d(Te,{F:()=>j});var e=i(4986),l=i(5963);function j(t=0,s=e.z){return t<0&&(t=0),(0,l.H)(t,t,s)}},8372:(Ze,Te,i)=>{"use strict";i.d(Te,{b:()=>t});var e=i(4986),l=i(4482),j=i(5403);function t(s,U=e.z){return(0,l.e)((Y,N)=>{let K=null,X=null,W=null;const O=()=>{if(K){K.unsubscribe(),K=null;const a=X;X=null,N.next(a)}};function p(){const a=W+s,m=U.now();if(m<a)return K=this.schedule(void 0,a-m),void N.add(K);O()}Y.subscribe((0,j.x)(N,a=>{X=a,W=U.now(),K||(K=U.schedule(p,s),N.add(K))},()=>{O(),N.complete()},void 0,()=>{X=K=null}))})}},1884:(Ze,Te,i)=>{"use strict";i.d(Te,{x:()=>t});var e=i(4671),l=i(4482),j=i(5403);function t(U,Y=e.y){return U=U??s,(0,l.e)((N,K)=>{let X,W=!0;N.subscribe((0,j.x)(K,O=>{const p=Y(O);(W||!U(X,p))&&(W=!1,X=p,K.next(O))}))})}function s(U,Y){return U===Y}},5191:(Ze,Te,i)=>{"use strict";i.d(Te,{b:()=>j});var e=i(9751),l=i(576);function j(t){return!!t&&(t instanceof e.y||(0,l.m)(t.lift)&&(0,l.m)(t.subscribe))}},6198:()=>{},9812:()=>{},7188:(Ze,Te,i)=>{"use strict";i.d(Te,{rt:()=>oe,s1:()=>Le,mK:()=>M,X6:()=>ct,yG:()=>ut});var e=i(6895),l=i(4650),j=i(3353),t=i(7579),s=i(727),U=i(9521),Y=i(8505),N=i(8372),K=i(9300),X=i(4004),W=i(5698),O=i(1281);let p=(()=>{class D{create(R){return typeof MutationObserver>"u"?null:new MutationObserver(R)}}return D.\u0275fac=function(R){return new(R||D)},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),f=(()=>{class D{}return D.\u0275fac=function(R){return new(R||D)},D.\u0275mod=l.oAB({type:D}),D.\u0275inj=l.cJS({providers:[p]}),D})();var I=i(9841),v=i(7272),te=i(9751),Se=i(8675),Ee=i(2722);const k=new Set;let ee,le=(()=>{class D{constructor(R){this._platform=R,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):T}matchMedia(R){return(this._platform.WEBKIT||this._platform.BLINK)&&function fe(D){if(!k.has(D))try{ee||(ee=document.createElement("style"),ee.setAttribute("type","text/css"),document.head.appendChild(ee)),ee.sheet&&(ee.sheet.insertRule(`@media ${D} {body{ }}`,0),k.add(D))}catch(w){console.error(w)}}(R),this._matchMedia(R)}}return D.\u0275fac=function(R){return new(R||D)(l.LFG(j.t4))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function T(D){return{matches:"all"===D||""===D,media:D,addListener:()=>{},removeListener:()=>{}}}let V=(()=>{class D{constructor(R,re){this._mediaMatcher=R,this._zone=re,this._queries=new Map,this._destroySubject=new t.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(R){return Q((0,O.Eq)(R)).some(xe=>this._registerQuery(xe).mql.matches)}observe(R){const xe=Q((0,O.Eq)(R)).map(Xe=>this._registerQuery(Xe).observable);let Ge=(0,I.a)(xe);return Ge=(0,v.z)(Ge.pipe((0,W.q)(1)),Ge.pipe(function ae(D){return(0,K.h)((w,R)=>D<=R)}(1),(0,N.b)(0))),Ge.pipe((0,X.U)(Xe=>{const lt={matches:!1,breakpoints:{}};return Xe.forEach(({matches:_t,query:st})=>{lt.matches=lt.matches||_t,lt.breakpoints[st]=_t}),lt}))}_registerQuery(R){if(this._queries.has(R))return this._queries.get(R);const re=this._mediaMatcher.matchMedia(R),Ge={observable:new te.y(Xe=>{const lt=_t=>this._zone.run(()=>Xe.next(_t));return re.addListener(lt),()=>{re.removeListener(lt)}}).pipe((0,Se.O)(re),(0,X.U)(({matches:Xe})=>({query:R,matches:Xe})),(0,Ee.R)(this._destroySubject)),mql:re};return this._queries.set(R,Ge),Ge}}return D.\u0275fac=function(R){return new(R||D)(l.LFG(le),l.LFG(l.R0b))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Q(D){return D.map(w=>w.split(",")).reduce((w,R)=>w.concat(R)).map(w=>w.trim())}class Le extends class et{constructor(w){this._items=w,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new t.x,this._typeaheadSubscription=s.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=R=>R.disabled,this._pressedLetters=[],this.tabOut=new t.x,this.change=new t.x,w instanceof l.n_E&&w.changes.subscribe(R=>{if(this._activeItem){const xe=R.toArray().indexOf(this._activeItem);xe>-1&&xe!==this._activeItemIndex&&(this._activeItemIndex=xe)}})}skipPredicate(w){return this._skipPredicateFn=w,this}withWrap(w=!0){return this._wrap=w,this}withVerticalOrientation(w=!0){return this._vertical=w,this}withHorizontalOrientation(w){return this._horizontal=w,this}withAllowedModifierKeys(w){return this._allowedModifierKeys=w,this}withTypeAhead(w=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Y.b)(R=>this._pressedLetters.push(R)),(0,N.b)(w),(0,K.h)(()=>this._pressedLetters.length>0),(0,X.U)(()=>this._pressedLetters.join(""))).subscribe(R=>{const re=this._getItemsArray();for(let xe=1;xe<re.length+1;xe++){const Ge=(this._activeItemIndex+xe)%re.length,Xe=re[Ge];if(!this._skipPredicateFn(Xe)&&0===Xe.getLabel().toUpperCase().trim().indexOf(R)){this.setActiveItem(Ge);break}}this._pressedLetters=[]}),this}withHomeAndEnd(w=!0){return this._homeAndEnd=w,this}setActiveItem(w){const R=this._activeItem;this.updateActiveItem(w),this._activeItem!==R&&this.change.next(this._activeItemIndex)}onKeydown(w){const R=w.keyCode,xe=["altKey","ctrlKey","metaKey","shiftKey"].every(Ge=>!w[Ge]||this._allowedModifierKeys.indexOf(Ge)>-1);switch(R){case U.Mf:return void this.tabOut.next();case U.JH:if(this._vertical&&xe){this.setNextItemActive();break}return;case U.LH:if(this._vertical&&xe){this.setPreviousItemActive();break}return;case U.SV:if(this._horizontal&&xe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case U.oh:if(this._horizontal&&xe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case U.Sd:if(this._homeAndEnd&&xe){this.setFirstItemActive();break}return;case U.uR:if(this._homeAndEnd&&xe){this.setLastItemActive();break}return;default:return void((xe||(0,U.Vb)(w,"shiftKey"))&&(w.key&&1===w.key.length?this._letterKeyStream.next(w.key.toLocaleUpperCase()):(R>=U.A&&R<=U.Z||R>=U.xE&&R<=U.aO)&&this._letterKeyStream.next(String.fromCharCode(R))))}this._pressedLetters=[],w.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(w){const R=this._getItemsArray(),re="number"==typeof w?w:R.indexOf(w);this._activeItem=R[re]??null,this._activeItemIndex=re}_setActiveItemByDelta(w){this._wrap?this._setActiveInWrapMode(w):this._setActiveInDefaultMode(w)}_setActiveInWrapMode(w){const R=this._getItemsArray();for(let re=1;re<=R.length;re++){const xe=(this._activeItemIndex+w*re+R.length)%R.length;if(!this._skipPredicateFn(R[xe]))return void this.setActiveItem(xe)}}_setActiveInDefaultMode(w){this._setActiveItemByIndex(this._activeItemIndex+w,w)}_setActiveItemByIndex(w,R){const re=this._getItemsArray();if(re[w]){for(;this._skipPredicateFn(re[w]);)if(!re[w+=R])return;this.setActiveItem(w)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{setActiveItem(w){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(w),this.activeItem&&this.activeItem.setActiveStyles()}}let qe=(()=>{class D{constructor(R){this._platform=R}isDisabled(R){return R.hasAttribute("disabled")}isVisible(R){return function we(D){return!!(D.offsetWidth||D.offsetHeight||"function"==typeof D.getClientRects&&D.getClientRects().length)}(R)&&"visible"===getComputedStyle(R).visibility}isTabbable(R){if(!this._platform.isBrowser)return!1;const re=function ye(D){try{return D.frameElement}catch{return null}}(function Ue(D){return D.ownerDocument&&D.ownerDocument.defaultView||window}(R));if(re&&(-1===P(re)||!this.isVisible(re)))return!1;let xe=R.nodeName.toLowerCase(),Ge=P(R);return R.hasAttribute("contenteditable")?-1!==Ge:!("iframe"===xe||"object"===xe||this._platform.WEBKIT&&this._platform.IOS&&!function pe(D){let w=D.nodeName.toLowerCase(),R="input"===w&&D.type;return"text"===R||"password"===R||"select"===w||"textarea"===w}(R))&&("audio"===xe?!!R.hasAttribute("controls")&&-1!==Ge:"video"===xe?-1!==Ge&&(null!==Ge||this._platform.FIREFOX||R.hasAttribute("controls")):R.tabIndex>=0)}isFocusable(R,re){return function ge(D){return!function Ve(D){return function Z(D){return"input"==D.nodeName.toLowerCase()}(D)&&"hidden"==D.type}(D)&&(function Ne(D){let w=D.nodeName.toLowerCase();return"input"===w||"select"===w||"button"===w||"textarea"===w}(D)||function Be(D){return function ie(D){return"a"==D.nodeName.toLowerCase()}(D)&&D.hasAttribute("href")}(D)||D.hasAttribute("contenteditable")||S(D))}(R)&&!this.isDisabled(R)&&(re?.ignoreVisibility||this.isVisible(R))}}return D.\u0275fac=function(R){return new(R||D)(l.LFG(j.t4))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function S(D){if(!D.hasAttribute("tabindex")||void 0===D.tabIndex)return!1;let w=D.getAttribute("tabindex");return!(!w||isNaN(parseInt(w,10)))}function P(D){if(!S(D))return null;const w=parseInt(D.getAttribute("tabindex")||"",10);return isNaN(w)?-1:w}class z{constructor(w,R,re,xe,Ge=!1){this._element=w,this._checker=R,this._ngZone=re,this._document=xe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ge||this.attachAnchors()}get enabled(){return this._enabled}set enabled(w){this._enabled=w,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(w,this._startAnchor),this._toggleAnchorTabIndex(w,this._endAnchor))}destroy(){const w=this._startAnchor,R=this._endAnchor;w&&(w.removeEventListener("focus",this.startAnchorListener),w.remove()),R&&(R.removeEventListener("focus",this.endAnchorListener),R.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(w){return new Promise(R=>{this._executeOnStable(()=>R(this.focusInitialElement(w)))})}focusFirstTabbableElementWhenReady(w){return new Promise(R=>{this._executeOnStable(()=>R(this.focusFirstTabbableElement(w)))})}focusLastTabbableElementWhenReady(w){return new Promise(R=>{this._executeOnStable(()=>R(this.focusLastTabbableElement(w)))})}_getRegionBoundary(w){const R=this._element.querySelectorAll(`[cdk-focus-region-${w}], [cdkFocusRegion${w}], [cdk-focus-${w}]`);return"start"==w?R.length?R[0]:this._getFirstTabbableElement(this._element):R.length?R[R.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(w){const R=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(R){if(!this._checker.isFocusable(R)){const re=this._getFirstTabbableElement(R);return re?.focus(w),!!re}return R.focus(w),!0}return this.focusFirstTabbableElement(w)}focusFirstTabbableElement(w){const R=this._getRegionBoundary("start");return R&&R.focus(w),!!R}focusLastTabbableElement(w){const R=this._getRegionBoundary("end");return R&&R.focus(w),!!R}hasAttached(){return this._hasAttached}_getFirstTabbableElement(w){if(this._checker.isFocusable(w)&&this._checker.isTabbable(w))return w;const R=w.children;for(let re=0;re<R.length;re++){const xe=R[re].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(R[re]):null;if(xe)return xe}return null}_getLastTabbableElement(w){if(this._checker.isFocusable(w)&&this._checker.isTabbable(w))return w;const R=w.children;for(let re=R.length-1;re>=0;re--){const xe=R[re].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(R[re]):null;if(xe)return xe}return null}_createAnchor(){const w=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,w),w.classList.add("cdk-visually-hidden"),w.classList.add("cdk-focus-trap-anchor"),w.setAttribute("aria-hidden","true"),w}_toggleAnchorTabIndex(w,R){w?R.setAttribute("tabindex","0"):R.removeAttribute("tabindex")}toggleAnchors(w){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(w,this._startAnchor),this._toggleAnchorTabIndex(w,this._endAnchor))}_executeOnStable(w){this._ngZone.isStable?w():this._ngZone.onStable.pipe((0,W.q)(1)).subscribe(w)}}let me=(()=>{class D{constructor(R,re,xe){this._checker=R,this._ngZone=re,this._document=xe}create(R,re=!1){return new z(R,this._checker,this._ngZone,this._document,re)}}return D.\u0275fac=function(R){return new(R||D)(l.LFG(qe),l.LFG(l.R0b),l.LFG(e.K0))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),M=(()=>{class D{constructor(R,re,xe){this._elementRef=R,this._focusTrapFactory=re,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(R){this.focusTrap.enabled=(0,O.Ig)(R)}get autoCapture(){return this._autoCapture}set autoCapture(R){this._autoCapture=(0,O.Ig)(R)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(R){const re=R.autoCapture;re&&!re.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,j.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return D.\u0275fac=function(R){return new(R||D)(l.Y36(l.SBq),l.Y36(me),l.Y36(e.K0))},D.\u0275dir=l.lG2({type:D,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[l.TTD]}),D})();function ct(D){return 0===D.buttons||0===D.offsetX&&0===D.offsetY}function ut(D){const w=D.touches&&D.touches[0]||D.changedTouches&&D.changedTouches[0];return!(!w||-1!==w.identifier||null!=w.radiusX&&1!==w.radiusX||null!=w.radiusY&&1!==w.radiusY)}const g="cdk-high-contrast-black-on-white",A="cdk-high-contrast-white-on-black",u="cdk-high-contrast-active";let F=(()=>{class D{constructor(R,re){this._platform=R,this._document=re,this._breakpointSubscription=(0,l.f3M)(V).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const R=this._document.createElement("div");R.style.backgroundColor="rgb(1,2,3)",R.style.position="absolute",this._document.body.appendChild(R);const re=this._document.defaultView||window,xe=re&&re.getComputedStyle?re.getComputedStyle(R):null,Ge=(xe&&xe.backgroundColor||"").replace(/ /g,"");switch(R.remove(),Ge){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const R=this._document.body.classList;R.remove(u,g,A),this._hasCheckedHighContrastMode=!0;const re=this.getHighContrastMode();1===re?R.add(u,g):2===re&&R.add(u,A)}}}return D.\u0275fac=function(R){return new(R||D)(l.LFG(j.t4),l.LFG(e.K0))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),oe=(()=>{class D{constructor(R){R._applyBodyHighContrastModeCssClasses()}}return D.\u0275fac=function(R){return new(R||D)(l.LFG(F))},D.\u0275mod=l.oAB({type:D}),D.\u0275inj=l.cJS({imports:[f]}),D})()},8580:(Ze,Te,i)=>{"use strict";i.d(Te,{XD:()=>W,dD:()=>X,xI:()=>N});var e=i(4650),l=i(5017),j=i(1281),t=i(7579),s=i(727);let U=0;const Y=new e.OlP("CdkAccordion");let N=(()=>{class O{constructor(){this._stateChanges=new t.x,this._openCloseAllActions=new t.x,this.id="cdk-accordion-"+U++,this._multi=!1}get multi(){return this._multi}set multi(a){this._multi=(0,j.Ig)(a)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(a){this._stateChanges.next(a)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return O.\u0275fac=function(a){return new(a||O)},O.\u0275dir=e.lG2({type:O,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[e._Bn([{provide:Y,useExisting:O}]),e.TTD]}),O})(),K=0,X=(()=>{class O{constructor(a,m,f){this.accordion=a,this._changeDetectorRef=m,this._expansionDispatcher=f,this._openCloseAllSubscription=s.w0.EMPTY,this.closed=new e.vpe,this.opened=new e.vpe,this.destroyed=new e.vpe,this.expandedChange=new e.vpe,this.id="cdk-accordion-child-"+K++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=f.listen((I,v)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===v&&this.id!==I&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(a){a=(0,j.Ig)(a),this._expanded!==a&&(this._expanded=a,this.expandedChange.emit(a),a?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(a){this._disabled=(0,j.Ig)(a)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(a=>{this.disabled||(this.expanded=a)})}}return O.\u0275fac=function(a){return new(a||O)(e.Y36(Y,12),e.Y36(e.sBO),e.Y36(l.A8))},O.\u0275dir=e.lG2({type:O,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[e._Bn([{provide:Y,useValue:void 0}])]}),O})(),W=(()=>{class O{}return O.\u0275fac=function(a){return new(a||O)},O.\u0275mod=e.oAB({type:O}),O.\u0275inj=e.cJS({}),O})()},5017:(Ze,Te,i)=>{"use strict";i.d(Te,{A8:()=>W,Ov:()=>K,Z9:()=>s,o2:()=>t});var e=i(4033),l=i(7579),j=i(4650);class t{}function s(p){return p&&"function"==typeof p.connect&&!(p instanceof e.c)}class K{constructor(a=!1,m,f=!0,I){this._multiple=a,this._emitChanges=f,this.compareWith=I,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new l.x,m&&m.length&&(a?m.forEach(v=>this._markSelected(v)):this._markSelected(m[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...a){this._verifyValueAssignment(a),a.forEach(f=>this._markSelected(f));const m=this._hasQueuedChanges();return this._emitChangeEvent(),m}deselect(...a){this._verifyValueAssignment(a),a.forEach(f=>this._unmarkSelected(f));const m=this._hasQueuedChanges();return this._emitChangeEvent(),m}setSelection(...a){this._verifyValueAssignment(a);const m=this.selected,f=new Set(a);a.forEach(v=>this._markSelected(v)),m.filter(v=>!f.has(v)).forEach(v=>this._unmarkSelected(v));const I=this._hasQueuedChanges();return this._emitChangeEvent(),I}toggle(a){return this.isSelected(a)?this.deselect(a):this.select(a)}clear(a=!0){this._unmarkAll();const m=this._hasQueuedChanges();return a&&this._emitChangeEvent(),m}isSelected(a){if(this.compareWith){for(const m of this._selection)if(this.compareWith(m,a))return!0;return!1}return this._selection.has(a)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(a){this._multiple&&this.selected&&this._selected.sort(a)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(a){this.isSelected(a)||(this._multiple||this._unmarkAll(),this.isSelected(a)||this._selection.add(a),this._emitChanges&&this._selectedToEmit.push(a))}_unmarkSelected(a){this.isSelected(a)&&(this._selection.delete(a),this._emitChanges&&this._deselectedToEmit.push(a))}_unmarkAll(){this.isEmpty()||this._selection.forEach(a=>this._unmarkSelected(a))}_verifyValueAssignment(a){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let W=(()=>{class p{constructor(){this._listeners=[]}notify(m,f){for(let I of this._listeners)I(m,f)}listen(m){return this._listeners.push(m),()=>{this._listeners=this._listeners.filter(f=>m!==f)}}ngOnDestroy(){this._listeners=[]}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=j.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},3555:(Ze,Te,i)=>{"use strict";i.d(Te,{Bh:()=>Je,Wj:()=>ut,Zt:()=>de,_t:()=>B,bA:()=>qe});var e=i(4650),l=i(6895),j=i(6270),t=i(3353),s=i(1281),U=i(7188),Y=i(7579),N=i(727),K=i(7445),X=i(29),W=i(9751),O=i(6451),p=i(2722),a=i(8675),m=i(4004),f=i(5698),I=i(8505),v=i(3900),te=i(445);function ae(y,_,h){for(let x in _)if(_.hasOwnProperty(x)){const J=_[x];J?y.setProperty(x,J,h?.has(x)?"important":""):y.removeProperty(x)}return y}function Se(y,_){const h=_?"":"none";ae(y.style,{"touch-action":_?"":"none","-webkit-user-drag":_?"":"none","-webkit-tap-highlight-color":_?"":"transparent","user-select":h,"-ms-user-select":h,"-webkit-user-select":h,"-moz-user-select":h})}function Ee(y,_,h){ae(y.style,{position:_?"":"fixed",top:_?"":"0",opacity:_?"":"0",left:_?"":"-999em"},h)}function Ce(y,_){return _&&"none"!=_?y+" "+_:y}function k(y){const _=y.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(y)*_}function le(y,_){return y.getPropertyValue(_).split(",").map(x=>x.trim())}function fe(y){const _=y.getBoundingClientRect();return{top:_.top,right:_.right,bottom:_.bottom,left:_.left,width:_.width,height:_.height,x:_.x,y:_.y}}function T(y,_,h){const{top:x,bottom:J,left:g,right:A}=y;return h>=x&&h<=J&&_>=g&&_<=A}function V(y,_,h){y.top+=_,y.bottom=y.top+y.height,y.left+=h,y.right=y.left+y.width}function Q(y,_,h,x){const{top:J,right:g,bottom:A,left:u,width:F,height:oe}=y,D=F*_,w=oe*_;return x>J-w&&x<A+w&&h>u-D&&h<g+D}class Oe{constructor(_){this._document=_,this.positions=new Map}clear(){this.positions.clear()}cache(_){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),_.forEach(h=>{this.positions.set(h,{scrollPosition:{top:h.scrollTop,left:h.scrollLeft},clientRect:fe(h)})})}handleScroll(_){const h=(0,t.sA)(_),x=this.positions.get(h);if(!x)return null;const J=x.scrollPosition;let g,A;if(h===this._document){const oe=this.getViewportScrollPosition();g=oe.top,A=oe.left}else g=h.scrollTop,A=h.scrollLeft;const u=J.top-g,F=J.left-A;return this.positions.forEach((oe,D)=>{oe.clientRect&&h!==D&&h.contains(D)&&V(oe.clientRect,u,F)}),J.top=g,J.left=A,{top:u,left:F}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function se(y){const _=y.cloneNode(!0),h=_.querySelectorAll("[id]"),x=y.nodeName.toLowerCase();_.removeAttribute("id");for(let J=0;J<h.length;J++)h[J].removeAttribute("id");return"canvas"===x?q(y,_):("input"===x||"select"===x||"textarea"===x)&&b(y,_),C("canvas",y,_,q),C("input, textarea, select",y,_,b),_}function C(y,_,h,x){const J=_.querySelectorAll(y);if(J.length){const g=h.querySelectorAll(y);for(let A=0;A<J.length;A++)x(J[A],g[A])}}let c=0;function b(y,_){"file"!==_.type&&(_.value=y.value),"radio"===_.type&&_.name&&(_.name=`mat-clone-${_.name}-${c++}`)}function q(y,_){const h=_.getContext("2d");if(h)try{h.drawImage(y,0,0)}catch{}}const ce=(0,t.i$)({passive:!0}),ue=(0,t.i$)({passive:!1}),Pe=new Set(["position"]);class Fe{constructor(_,h,x,J,g,A){this._config=h,this._document=x,this._ngZone=J,this._viewportRuler=g,this._dragDropRegistry=A,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Y.x,this._pointerMoveSubscription=N.w0.EMPTY,this._pointerUpSubscription=N.w0.EMPTY,this._scrollSubscription=N.w0.EMPTY,this._resizeSubscription=N.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Y.x,this.started=new Y.x,this.released=new Y.x,this.ended=new Y.x,this.entered=new Y.x,this.exited=new Y.x,this.dropped=new Y.x,this.moved=this._moveEvents,this._pointerDown=u=>{if(this.beforeStarted.next(),this._handles.length){const F=this._getTargetHandle(u);F&&!this._disabledHandles.has(F)&&!this.disabled&&this._initializeDragSequence(F,u)}else this.disabled||this._initializeDragSequence(this._rootElement,u)},this._pointerMove=u=>{const F=this._getPointerPositionOnPage(u);if(!this._hasStartedDragging){if(Math.abs(F.x-this._pickupPositionOnPage.x)+Math.abs(F.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const re=Date.now()>=this._dragStartTime+this._getDragStartDelay(u),xe=this._dropContainer;if(!re)return void this._endDragSequence(u);(!xe||!xe.isDragging()&&!xe.isReceiving())&&(u.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(u)))}return}u.preventDefault();const oe=this._getConstrainedPointerPosition(F);if(this._hasMoved=!0,this._lastKnownPointerPosition=F,this._updatePointerDirectionDelta(oe),this._dropContainer)this._updateActiveDropContainer(oe,F);else{const D=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,w=this._activeTransform;w.x=oe.x-D.x+this._passiveTransform.x,w.y=oe.y-D.y+this._passiveTransform.y,this._applyRootElementTransform(w.x,w.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:oe,event:u,distance:this._getDragDistance(oe),delta:this._pointerDirectionDelta})})},this._pointerUp=u=>{this._endDragSequence(u)},this._nativeDragStart=u=>{if(this._handles.length){const F=this._getTargetHandle(u);F&&!this._disabledHandles.has(F)&&!this.disabled&&u.preventDefault()}else this.disabled||u.preventDefault()},this.withRootElement(_).withParent(h.parentDragRef||null),this._parentPositions=new Oe(x),A.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(_){const h=(0,s.Ig)(_);h!==this._disabled&&(this._disabled=h,this._toggleNativeDragInteractions(),this._handles.forEach(x=>Se(x,h)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(_){this._handles=_.map(x=>(0,s.fI)(x)),this._handles.forEach(x=>Se(x,this.disabled)),this._toggleNativeDragInteractions();const h=new Set;return this._disabledHandles.forEach(x=>{this._handles.indexOf(x)>-1&&h.add(x)}),this._disabledHandles=h,this}withPreviewTemplate(_){return this._previewTemplate=_,this}withPlaceholderTemplate(_){return this._placeholderTemplate=_,this}withRootElement(_){const h=(0,s.fI)(_);return h!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{h.addEventListener("mousedown",this._pointerDown,ue),h.addEventListener("touchstart",this._pointerDown,ce),h.addEventListener("dragstart",this._nativeDragStart,ue)}),this._initialTransform=void 0,this._rootElement=h),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(_){return this._boundaryElement=_?(0,s.fI)(_):null,this._resizeSubscription.unsubscribe(),_&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(_){return this._parentDragRef=_,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(_){!this._disabledHandles.has(_)&&this._handles.indexOf(_)>-1&&(this._disabledHandles.add(_),Se(_,!0))}enableHandle(_){this._disabledHandles.has(_)&&(this._disabledHandles.delete(_),Se(_,this.disabled))}withDirection(_){return this._direction=_,this}_withDropContainer(_){this._dropContainer=_}getFreeDragPosition(){const _=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:_.x,y:_.y}}setFreeDragPosition(_){return this._activeTransform={x:0,y:0},this._passiveTransform.x=_.x,this._passiveTransform.y=_.y,this._dropContainer||this._applyRootElementTransform(_.x,_.y),this}withPreviewContainer(_){return this._previewContainer=_,this}_sortFromLastPointerPosition(){const _=this._lastKnownPointerPosition;_&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(_),_)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(_){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:_}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(_),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const h=this._getPointerPositionOnPage(_);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(h),dropPoint:h,event:_})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(_){Le(_)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const h=this._dropContainer;if(h){const x=this._rootElement,J=x.parentNode,g=this._placeholder=this._createPlaceholderElement(),A=this._anchor=this._anchor||this._document.createComment(""),u=this._getShadowRoot();J.insertBefore(A,x),this._initialTransform=x.style.transform||"",this._preview=this._createPreviewElement(),Ee(x,!1,Pe),this._document.body.appendChild(J.replaceChild(g,x)),this._getPreviewInsertionPoint(J,u).appendChild(this._preview),this.started.next({source:this,event:_}),h.start(),this._initialContainer=h,this._initialIndex=h.getItemIndex(this)}else this.started.next({source:this,event:_}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(h?h.getScrollableParents():[])}_initializeDragSequence(_,h){this._parentDragRef&&h.stopPropagation();const x=this.isDragging(),J=Le(h),g=!J&&0!==h.button,A=this._rootElement,u=(0,t.sA)(h),F=!J&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),oe=J?(0,U.yG)(h):(0,U.X6)(h);if(u&&u.draggable&&"mousedown"===h.type&&h.preventDefault(),x||g||F||oe)return;if(this._handles.length){const R=A.style;this._rootElementTapHighlight=R.webkitTapHighlightColor||"",R.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(R=>this._updateOnScroll(R)),this._boundaryElement&&(this._boundaryRect=fe(this._boundaryElement));const D=this._previewTemplate;this._pickupPositionInElement=D&&D.template&&!D.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,_,h);const w=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(h);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:w.x,y:w.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,h)}_cleanupDragArtifacts(_){Ee(this._rootElement,!0,Pe),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const h=this._dropContainer,x=h.getItemIndex(this),J=this._getPointerPositionOnPage(_),g=this._getDragDistance(J),A=h._isOverContainer(J.x,J.y);this.ended.next({source:this,distance:g,dropPoint:J,event:_}),this.dropped.next({item:this,currentIndex:x,previousIndex:this._initialIndex,container:h,previousContainer:this._initialContainer,isPointerOverContainer:A,distance:g,dropPoint:J,event:_}),h.drop(this,x,this._initialIndex,this._initialContainer,A,g,J,_),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:_,y:h},{x,y:J}){let g=this._initialContainer._getSiblingContainerFromPosition(this,_,h);!g&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(_,h)&&(g=this._initialContainer),g&&g!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=g,this._dropContainer.enter(this,_,h,g===this._initialContainer&&g.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:g,currentIndex:g.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(x,J),this._dropContainer._sortItem(this,_,h,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(_,h):this._applyPreviewTransform(_-this._pickupPositionInElement.x,h-this._pickupPositionInElement.y))}_createPreviewElement(){const _=this._previewTemplate,h=this.previewClass,x=_?_.template:null;let J;if(x&&_){const g=_.matchSize?this._initialClientRect:null,A=_.viewContainer.createEmbeddedView(x,_.context);A.detectChanges(),J=Ye(A,this._document),this._previewRef=A,_.matchSize?Ke(J,g):J.style.transform=We(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else J=se(this._rootElement),Ke(J,this._initialClientRect),this._initialTransform&&(J.style.transform=this._initialTransform);return ae(J.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Pe),Se(J,!1),J.classList.add("cdk-drag-preview"),J.setAttribute("dir",this._direction),h&&(Array.isArray(h)?h.forEach(g=>J.classList.add(g)):J.classList.add(h)),J}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const _=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(_.left,_.top);const h=function ee(y){const _=getComputedStyle(y),h=le(_,"transition-property"),x=h.find(u=>"transform"===u||"all"===u);if(!x)return 0;const J=h.indexOf(x),g=le(_,"transition-duration"),A=le(_,"transition-delay");return k(g[J])+k(A[J])}(this._preview);return 0===h?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(x=>{const J=A=>{(!A||(0,t.sA)(A)===this._preview&&"transform"===A.propertyName)&&(this._preview?.removeEventListener("transitionend",J),x(),clearTimeout(g))},g=setTimeout(J,1.5*h);this._preview.addEventListener("transitionend",J)}))}_createPlaceholderElement(){const _=this._placeholderTemplate,h=_?_.template:null;let x;return h?(this._placeholderRef=_.viewContainer.createEmbeddedView(h,_.context),this._placeholderRef.detectChanges(),x=Ye(this._placeholderRef,this._document)):x=se(this._rootElement),x.style.pointerEvents="none",x.classList.add("cdk-drag-placeholder"),x}_getPointerPositionInElement(_,h,x){const J=h===this._rootElement?null:h,g=J?J.getBoundingClientRect():_,A=Le(x)?x.targetTouches[0]:x,u=this._getViewportScrollPosition();return{x:g.left-_.left+(A.pageX-g.left-u.left),y:g.top-_.top+(A.pageY-g.top-u.top)}}_getPointerPositionOnPage(_){const h=this._getViewportScrollPosition(),x=Le(_)?_.touches[0]||_.changedTouches[0]||{pageX:0,pageY:0}:_,J=x.pageX-h.left,g=x.pageY-h.top;if(this._ownerSVGElement){const A=this._ownerSVGElement.getScreenCTM();if(A){const u=this._ownerSVGElement.createSVGPoint();return u.x=J,u.y=g,u.matrixTransform(A.inverse())}}return{x:J,y:g}}_getConstrainedPointerPosition(_){const h=this._dropContainer?this._dropContainer.lockAxis:null;let{x,y:J}=this.constrainPosition?this.constrainPosition(_,this,this._initialClientRect,this._pickupPositionInElement):_;if("x"===this.lockAxis||"x"===h?J=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===h)&&(x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:g,y:A}=this._pickupPositionInElement,u=this._boundaryRect,{width:F,height:oe}=this._getPreviewRect(),D=u.top+A,w=u.bottom-(oe-A);x=et(x,u.left+g,u.right-(F-g)),J=et(J,D,w)}return{x,y:J}}_updatePointerDirectionDelta(_){const{x:h,y:x}=_,J=this._pointerDirectionDelta,g=this._pointerPositionAtLastDirectionChange,A=Math.abs(h-g.x),u=Math.abs(x-g.y);return A>this._config.pointerDirectionChangeThreshold&&(J.x=h>g.x?1:-1,g.x=h),u>this._config.pointerDirectionChangeThreshold&&(J.y=x>g.y?1:-1,g.y=x),J}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const _=this._handles.length>0||!this.isDragging();_!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=_,Se(this._rootElement,_))}_removeRootElementListeners(_){_.removeEventListener("mousedown",this._pointerDown,ue),_.removeEventListener("touchstart",this._pointerDown,ce),_.removeEventListener("dragstart",this._nativeDragStart,ue)}_applyRootElementTransform(_,h){const x=We(_,h),J=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=J.transform&&"none"!=J.transform?J.transform:""),J.transform=Ce(x,this._initialTransform)}_applyPreviewTransform(_,h){const x=this._previewTemplate?.template?void 0:this._initialTransform,J=We(_,h);this._preview.style.transform=Ce(J,x)}_getDragDistance(_){const h=this._pickupPositionOnPage;return h?{x:_.x-h.x,y:_.y-h.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:_,y:h}=this._passiveTransform;if(0===_&&0===h||this.isDragging()||!this._boundaryElement)return;const x=this._rootElement.getBoundingClientRect(),J=this._boundaryElement.getBoundingClientRect();if(0===J.width&&0===J.height||0===x.width&&0===x.height)return;const g=J.left-x.left,A=x.right-J.right,u=J.top-x.top,F=x.bottom-J.bottom;J.width>x.width?(g>0&&(_+=g),A>0&&(_-=A)):_=0,J.height>x.height?(u>0&&(h+=u),F>0&&(h-=F)):h=0,(_!==this._passiveTransform.x||h!==this._passiveTransform.y)&&this.setFreeDragPosition({y:h,x:_})}_getDragStartDelay(_){const h=this.dragStartDelay;return"number"==typeof h?h:Le(_)?h.touch:h?h.mouse:0}_updateOnScroll(_){const h=this._parentPositions.handleScroll(_);if(h){const x=(0,t.sA)(_);this._boundaryRect&&x!==this._boundaryElement&&x.contains(this._boundaryElement)&&V(this._boundaryRect,h.top,h.left),this._pickupPositionOnPage.x+=h.left,this._pickupPositionOnPage.y+=h.top,this._dropContainer||(this._activeTransform.x-=h.left,this._activeTransform.y-=h.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,t.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(_,h){const x=this._previewContainer||"global";if("parent"===x)return _;if("global"===x){const J=this._document;return h||J.fullscreenElement||J.webkitFullscreenElement||J.mozFullScreenElement||J.msFullscreenElement||J.body}return(0,s.fI)(x)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(_){return this._handles.find(h=>_.target&&(_.target===h||h.contains(_.target)))}}function We(y,_){return`translate3d(${Math.round(y)}px, ${Math.round(_)}px, 0)`}function et(y,_,h){return Math.max(_,Math.min(h,y))}function Le(y){return"t"===y.type[0]}function Ye(y,_){const h=y.rootNodes;if(1===h.length&&h[0].nodeType===_.ELEMENT_NODE)return h[0];const x=_.createElement("div");return h.forEach(J=>x.appendChild(J)),x}function Ke(y,_){y.style.width=`${_.width}px`,y.style.height=`${_.height}px`,y.style.transform=We(_.left,_.top)}function qe(y,_,h){const x=Ne(_,y.length-1),J=Ne(h,y.length-1);if(x===J)return;const g=y[x],A=J<x?-1:1;for(let u=x;u!==J;u+=A)y[u]=y[u+A];y[J]=g}function Ne(y,_){return Math.max(0,Math.min(_,y))}class Ve{constructor(_,h){this._element=_,this._dragDropRegistry=h,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(_){this.withItems(_)}sort(_,h,x,J){const g=this._itemPositions,A=this._getItemIndexFromPointerPosition(_,h,x,J);if(-1===A&&g.length>0)return null;const u="horizontal"===this.orientation,F=g.findIndex(Xe=>Xe.drag===_),oe=g[A],w=oe.clientRect,R=F>A?1:-1,re=this._getItemOffsetPx(g[F].clientRect,w,R),xe=this._getSiblingOffsetPx(F,g,R),Ge=g.slice();return qe(g,F,A),g.forEach((Xe,lt)=>{if(Ge[lt]===Xe)return;const _t=Xe.drag===_,st=_t?re:xe,gt=_t?_.getPlaceholderElement():Xe.drag.getRootElement();Xe.offset+=st,u?(gt.style.transform=Ce(`translate3d(${Math.round(Xe.offset)}px, 0, 0)`,Xe.initialTransform),V(Xe.clientRect,0,st)):(gt.style.transform=Ce(`translate3d(0, ${Math.round(Xe.offset)}px, 0)`,Xe.initialTransform),V(Xe.clientRect,st,0))}),this._previousSwap.overlaps=T(w,h,x),this._previousSwap.drag=oe.drag,this._previousSwap.delta=u?J.x:J.y,{previousIndex:F,currentIndex:A}}enter(_,h,x,J){const g=null==J||J<0?this._getItemIndexFromPointerPosition(_,h,x):J,A=this._activeDraggables,u=A.indexOf(_),F=_.getPlaceholderElement();let oe=A[g];if(oe===_&&(oe=A[g+1]),!oe&&(null==g||-1===g||g<A.length-1)&&this._shouldEnterAsFirstChild(h,x)&&(oe=A[0]),u>-1&&A.splice(u,1),oe&&!this._dragDropRegistry.isDragging(oe)){const D=oe.getRootElement();D.parentElement.insertBefore(F,D),A.splice(g,0,_)}else(0,s.fI)(this._element).appendChild(F),A.push(_);F.style.transform="",this._cacheItemPositions()}withItems(_){this._activeDraggables=_.slice(),this._cacheItemPositions()}withSortPredicate(_){this._sortPredicate=_}reset(){this._activeDraggables.forEach(_=>{const h=_.getRootElement();if(h){const x=this._itemPositions.find(J=>J.drag===_)?.initialTransform;h.style.transform=x||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(_){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(x=>x.drag===_)}updateOnScroll(_,h){this._itemPositions.forEach(({clientRect:x})=>{V(x,_,h)}),this._itemPositions.forEach(({drag:x})=>{this._dragDropRegistry.isDragging(x)&&x._sortFromLastPointerPosition()})}_cacheItemPositions(){const _="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(h=>{const x=h.getVisibleElement();return{drag:h,offset:0,initialTransform:x.style.transform||"",clientRect:fe(x)}}).sort((h,x)=>_?h.clientRect.left-x.clientRect.left:h.clientRect.top-x.clientRect.top)}_getItemOffsetPx(_,h,x){const J="horizontal"===this.orientation;let g=J?h.left-_.left:h.top-_.top;return-1===x&&(g+=J?h.width-_.width:h.height-_.height),g}_getSiblingOffsetPx(_,h,x){const J="horizontal"===this.orientation,g=h[_].clientRect,A=h[_+-1*x];let u=g[J?"width":"height"]*x;if(A){const F=J?"left":"top",oe=J?"right":"bottom";-1===x?u-=A.clientRect[F]-g[oe]:u+=g[F]-A.clientRect[oe]}return u}_shouldEnterAsFirstChild(_,h){if(!this._activeDraggables.length)return!1;const x=this._itemPositions,J="horizontal"===this.orientation;if(x[0].drag!==this._activeDraggables[0]){const A=x[x.length-1].clientRect;return J?_>=A.right:h>=A.bottom}{const A=x[0].clientRect;return J?_<=A.left:h<=A.top}}_getItemIndexFromPointerPosition(_,h,x,J){const g="horizontal"===this.orientation,A=this._itemPositions.findIndex(({drag:u,clientRect:F})=>{if(u===_)return!1;if(J){const oe=g?J.x:J.y;if(u===this._previousSwap.drag&&this._previousSwap.overlaps&&oe===this._previousSwap.delta)return!1}return g?h>=Math.floor(F.left)&&h<Math.floor(F.right):x>=Math.floor(F.top)&&x<Math.floor(F.bottom)});return-1!==A&&this._sortPredicate(A,_)?A:-1}}class ie{constructor(_,h,x,J,g){this._dragDropRegistry=h,this._ngZone=J,this._viewportRuler=g,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Y.x,this.entered=new Y.x,this.exited=new Y.x,this.dropped=new Y.x,this.sorted=new Y.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=N.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Y.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,K.F)(0,X.Z).pipe((0,p.R)(this._stopScrollTimers)).subscribe(()=>{const A=this._scrollNode,u=this.autoScrollStep;1===this._verticalScrollDirection?A.scrollBy(0,-u):2===this._verticalScrollDirection&&A.scrollBy(0,u),1===this._horizontalScrollDirection?A.scrollBy(-u,0):2===this._horizontalScrollDirection&&A.scrollBy(u,0)})},this.element=(0,s.fI)(_),this._document=x,this.withScrollableParents([this.element]),h.registerDropContainer(this),this._parentPositions=new Oe(x),this._sortStrategy=new Ve(this.element,h),this._sortStrategy.withSortPredicate((A,u)=>this.sortPredicate(A,u,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(_,h,x,J){this._draggingStarted(),null==J&&this.sortingDisabled&&(J=this._draggables.indexOf(_)),this._sortStrategy.enter(_,h,x,J),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:_,container:this,currentIndex:this.getItemIndex(_)})}exit(_){this._reset(),this.exited.next({item:_,container:this})}drop(_,h,x,J,g,A,u,F={}){this._reset(),this.dropped.next({item:_,currentIndex:h,previousIndex:x,container:this,previousContainer:J,isPointerOverContainer:g,distance:A,dropPoint:u,event:F})}withItems(_){const h=this._draggables;return this._draggables=_,_.forEach(x=>x._withDropContainer(this)),this.isDragging()&&(h.filter(J=>J.isDragging()).every(J=>-1===_.indexOf(J))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(_){return this._sortStrategy.direction=_,this}connectedTo(_){return this._siblings=_.slice(),this}withOrientation(_){return this._sortStrategy.orientation=_,this}withScrollableParents(_){const h=(0,s.fI)(this.element);return this._scrollableElements=-1===_.indexOf(h)?[h,..._]:_.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(_){return this._isDragging?this._sortStrategy.getItemIndex(_):this._draggables.indexOf(_)}isReceiving(){return this._activeSiblings.size>0}_sortItem(_,h,x,J){if(this.sortingDisabled||!this._clientRect||!Q(this._clientRect,.05,h,x))return;const g=this._sortStrategy.sort(_,h,x,J);g&&this.sorted.next({previousIndex:g.previousIndex,currentIndex:g.currentIndex,container:this,item:_})}_startScrollingIfNecessary(_,h){if(this.autoScrollDisabled)return;let x,J=0,g=0;if(this._parentPositions.positions.forEach((A,u)=>{u===this._document||!A.clientRect||x||Q(A.clientRect,.05,_,h)&&([J,g]=function pe(y,_,h,x){const J=S(_,x),g=P(_,h);let A=0,u=0;if(J){const F=y.scrollTop;1===J?F>0&&(A=1):y.scrollHeight-F>y.clientHeight&&(A=2)}if(g){const F=y.scrollLeft;1===g?F>0&&(u=1):y.scrollWidth-F>y.clientWidth&&(u=2)}return[A,u]}(u,A.clientRect,_,h),(J||g)&&(x=u))}),!J&&!g){const{width:A,height:u}=this._viewportRuler.getViewportSize(),F={width:A,height:u,top:0,right:A,bottom:u,left:0};J=S(F,h),g=P(F,_),x=window}x&&(J!==this._verticalScrollDirection||g!==this._horizontalScrollDirection||x!==this._scrollNode)&&(this._verticalScrollDirection=J,this._horizontalScrollDirection=g,this._scrollNode=x,(J||g)&&x?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const _=(0,s.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=_.msScrollSnapType||_.scrollSnapType||"",_.scrollSnapType=_.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const _=(0,s.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(_).clientRect}_reset(){this._isDragging=!1;const _=(0,s.fI)(this.element).style;_.scrollSnapType=_.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(h=>h._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(_,h){return null!=this._clientRect&&T(this._clientRect,_,h)}_getSiblingContainerFromPosition(_,h,x){return this._siblings.find(J=>J._canReceive(_,h,x))}_canReceive(_,h,x){if(!this._clientRect||!T(this._clientRect,h,x)||!this.enterPredicate(_,this))return!1;const J=this._getShadowRoot().elementFromPoint(h,x);if(!J)return!1;const g=(0,s.fI)(this.element);return J===g||g.contains(J)}_startReceiving(_,h){const x=this._activeSiblings;!x.has(_)&&h.every(J=>this.enterPredicate(J,this)||this._draggables.indexOf(J)>-1)&&(x.add(_),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(_){this._activeSiblings.delete(_),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(_=>{if(this.isDragging()){const h=this._parentPositions.handleScroll(_);h&&this._sortStrategy.updateOnScroll(h.top,h.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const _=(0,t.kV)((0,s.fI)(this.element));this._cachedShadowRoot=_||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const _=this._sortStrategy.getActiveItemsSnapshot().filter(h=>h.isDragging());this._siblings.forEach(h=>h._startReceiving(this,_))}}function S(y,_){const{top:h,bottom:x,height:J}=y,g=.05*J;return _>=h-g&&_<=h+g?1:_>=x-g&&_<=x+g?2:0}function P(y,_){const{left:h,right:x,width:J}=y,g=.05*J;return _>=h-g&&_<=h+g?1:_>=x-g&&_<=x+g?2:0}const ge=(0,t.i$)({passive:!1,capture:!0});let Ue=(()=>{class y{constructor(h,x){this._ngZone=h,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=J=>J.isDragging(),this.pointerMove=new Y.x,this.pointerUp=new Y.x,this.scroll=new Y.x,this._preventDefaultWhileDragging=J=>{this._activeDragInstances.length>0&&J.preventDefault()},this._persistentTouchmoveListener=J=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&J.preventDefault(),this.pointerMove.next(J))},this._document=x}registerDropContainer(h){this._dropInstances.has(h)||this._dropInstances.add(h)}registerDragItem(h){this._dragInstances.add(h),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ge)})}removeDropContainer(h){this._dropInstances.delete(h)}removeDragItem(h){this._dragInstances.delete(h),this.stopDragging(h),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ge)}startDragging(h,x){if(!(this._activeDragInstances.indexOf(h)>-1)&&(this._activeDragInstances.push(h),1===this._activeDragInstances.length)){const J=x.type.startsWith("touch");this._globalListeners.set(J?"touchend":"mouseup",{handler:g=>this.pointerUp.next(g),options:!0}).set("scroll",{handler:g=>this.scroll.next(g),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ge}),J||this._globalListeners.set("mousemove",{handler:g=>this.pointerMove.next(g),options:ge}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((g,A)=>{this._document.addEventListener(A,g.handler,g.options)})})}}stopDragging(h){const x=this._activeDragInstances.indexOf(h);x>-1&&(this._activeDragInstances.splice(x,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(h){return this._activeDragInstances.indexOf(h)>-1}scrolled(h){const x=[this.scroll];return h&&h!==this._document&&x.push(new W.y(J=>this._ngZone.runOutsideAngular(()=>{const A=u=>{this._activeDragInstances.length&&J.next(u)};return h.addEventListener("scroll",A,!0),()=>{h.removeEventListener("scroll",A,!0)}}))),(0,O.T)(...x)}ngOnDestroy(){this._dragInstances.forEach(h=>this.removeDragItem(h)),this._dropInstances.forEach(h=>this.removeDropContainer(h)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((h,x)=>{this._document.removeEventListener(x,h.handler,h.options)}),this._globalListeners.clear()}}return y.\u0275fac=function(h){return new(h||y)(e.LFG(e.R0b),e.LFG(l.K0))},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const z={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let me=(()=>{class y{constructor(h,x,J,g){this._document=h,this._ngZone=x,this._viewportRuler=J,this._dragDropRegistry=g}createDrag(h,x=z){return new Fe(h,x,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(h){return new ie(h,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return y.\u0275fac=function(h){return new(h||y)(e.LFG(l.K0),e.LFG(e.R0b),e.LFG(j.rL),e.LFG(Ue))},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const M=new e.OlP("CDK_DRAG_PARENT"),$=new e.OlP("CdkDropListGroup"),ke=new e.OlP("CDK_DRAG_CONFIG");let at=0;const ct=new e.OlP("CdkDropList");let ut=(()=>{class y{constructor(h,x,J,g,A,u,F){this.element=h,this._changeDetectorRef=J,this._scrollDispatcher=g,this._dir=A,this._group=u,this._destroyed=new Y.x,this.connectedTo=[],this.id="cdk-drop-list-"+at++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=x.createDropList(h),this._dropListRef.data=this,F&&this._assignDefaults(F),this._dropListRef.enterPredicate=(oe,D)=>this.enterPredicate(oe.data,D.data),this._dropListRef.sortPredicate=(oe,D,w)=>this.sortPredicate(oe,D.data,w.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),y._dropLists.push(this),u&&u._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(h){this._dropListRef.disabled=this._disabled=(0,s.Ig)(h)}addItem(h){this._unsortedItems.add(h),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(h){this._unsortedItems.delete(h),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((h,x)=>h._dragRef.getVisibleElement().compareDocumentPosition(x._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const h=y._dropLists.indexOf(this);h>-1&&y._dropLists.splice(h,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(h){this._dir&&this._dir.change.pipe((0,a.O)(this._dir.value),(0,p.R)(this._destroyed)).subscribe(x=>h.withDirection(x)),h.beforeStarted.subscribe(()=>{const x=(0,s.Eq)(this.connectedTo).map(J=>"string"==typeof J?y._dropLists.find(A=>A.id===J):J);if(this._group&&this._group._items.forEach(J=>{-1===x.indexOf(J)&&x.push(J)}),!this._scrollableParentsResolved){const J=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(g=>g.getElementRef().nativeElement);this._dropListRef.withScrollableParents(J),this._scrollableParentsResolved=!0}h.disabled=this.disabled,h.lockAxis=this.lockAxis,h.sortingDisabled=(0,s.Ig)(this.sortingDisabled),h.autoScrollDisabled=(0,s.Ig)(this.autoScrollDisabled),h.autoScrollStep=(0,s.su)(this.autoScrollStep,2),h.connectedTo(x.filter(J=>J&&J!==this).map(J=>J._dropListRef)).withOrientation(this.orientation)})}_handleEvents(h){h.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),h.entered.subscribe(x=>{this.entered.emit({container:this,item:x.item.data,currentIndex:x.currentIndex})}),h.exited.subscribe(x=>{this.exited.emit({container:this,item:x.item.data}),this._changeDetectorRef.markForCheck()}),h.sorted.subscribe(x=>{this.sorted.emit({previousIndex:x.previousIndex,currentIndex:x.currentIndex,container:this,item:x.item.data})}),h.dropped.subscribe(x=>{this.dropped.emit({previousIndex:x.previousIndex,currentIndex:x.currentIndex,previousContainer:x.previousContainer.data,container:x.container.data,item:x.item.data,isPointerOverContainer:x.isPointerOverContainer,distance:x.distance,dropPoint:x.dropPoint,event:x.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(h){const{lockAxis:x,draggingDisabled:J,sortingDisabled:g,listAutoScrollDisabled:A,listOrientation:u}=h;this.disabled=J??!1,this.sortingDisabled=g??!1,this.autoScrollDisabled=A??!1,this.orientation=u||"vertical",x&&(this.lockAxis=x)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(h=>h._dragRef))}}return y._dropLists=[],y.\u0275fac=function(h){return new(h||y)(e.Y36(e.SBq),e.Y36(me),e.Y36(e.sBO),e.Y36(j.mF),e.Y36(te.Is,8),e.Y36($,12),e.Y36(ke,8))},y.\u0275dir=e.lG2({type:y,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(h,x){2&h&&(e.uIk("id",x.id),e.ekj("cdk-drop-list-disabled",x.disabled)("cdk-drop-list-dragging",x._dropListRef.isDragging())("cdk-drop-list-receiving",x._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e._Bn([{provide:$,useValue:void 0},{provide:ct,useExisting:y}])]}),y})();const De=new e.OlP("CdkDragHandle");let Je=(()=>{class y{constructor(h,x){this.element=h,this._stateChanges=new Y.x,this._disabled=!1,this._parentDrag=x}get disabled(){return this._disabled}set disabled(h){this._disabled=(0,s.Ig)(h),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return y.\u0275fac=function(h){return new(h||y)(e.Y36(e.SBq),e.Y36(M,12))},y.\u0275dir=e.lG2({type:y,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[e._Bn([{provide:De,useExisting:y}])]}),y})();const Ie=new e.OlP("CdkDragPlaceholder"),ze=new e.OlP("CdkDragPreview");let de=(()=>{class y{constructor(h,x,J,g,A,u,F,oe,D,w,R){this.element=h,this.dropContainer=x,this._ngZone=g,this._viewContainerRef=A,this._dir=F,this._changeDetectorRef=D,this._selfHandle=w,this._parentDrag=R,this._destroyed=new Y.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new W.y(re=>{const xe=this._dragRef.moved.pipe((0,m.U)(Ge=>({source:this,pointerPosition:Ge.pointerPosition,event:Ge.event,delta:Ge.delta,distance:Ge.distance}))).subscribe(re);return()=>{xe.unsubscribe()}}),this._dragRef=oe.createDrag(h,{dragStartThreshold:u&&null!=u.dragStartThreshold?u.dragStartThreshold:5,pointerDirectionChangeThreshold:u&&null!=u.pointerDirectionChangeThreshold?u.pointerDirectionChangeThreshold:5,zIndex:u?.zIndex}),this._dragRef.data=this,y._dragInstances.push(this),u&&this._assignDefaults(u),x&&(this._dragRef._withDropContainer(x._dropListRef),x.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(h){this._disabled=(0,s.Ig)(h),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(h){this._dragRef.setFreeDragPosition(h)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,f.q)(1),(0,p.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(h){const x=h.rootElementSelector,J=h.freeDragPosition;x&&!x.firstChange&&this._updateRootElement(),J&&!J.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const h=y._dragInstances.indexOf(this);h>-1&&y._dragInstances.splice(h,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const h=this.element.nativeElement;let x=h;this.rootElementSelector&&(x=void 0!==h.closest?h.closest(this.rootElementSelector):h.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(x||h)}_getBoundaryElement(){const h=this.boundaryElement;return h?"string"==typeof h?this.element.nativeElement.closest(h):(0,s.fI)(h):null}_syncInputs(h){h.beforeStarted.subscribe(()=>{if(!h.isDragging()){const x=this._dir,J=this.dragStartDelay,g=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,A=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;h.disabled=this.disabled,h.lockAxis=this.lockAxis,h.dragStartDelay="object"==typeof J&&J?J:(0,s.su)(J),h.constrainPosition=this.constrainPosition,h.previewClass=this.previewClass,h.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(g).withPreviewTemplate(A).withPreviewContainer(this.previewContainer||"global"),x&&h.withDirection(x.value)}}),h.beforeStarted.pipe((0,f.q)(1)).subscribe(()=>{if(this._parentDrag)return void h.withParent(this._parentDrag._dragRef);let x=this.element.nativeElement.parentElement;for(;x;){if(x.classList.contains("cdk-drag")){h.withParent(y._dragInstances.find(J=>J.element.nativeElement===x)?._dragRef||null);break}x=x.parentElement}})}_handleEvents(h){h.started.subscribe(x=>{this.started.emit({source:this,event:x.event}),this._changeDetectorRef.markForCheck()}),h.released.subscribe(x=>{this.released.emit({source:this,event:x.event})}),h.ended.subscribe(x=>{this.ended.emit({source:this,distance:x.distance,dropPoint:x.dropPoint,event:x.event}),this._changeDetectorRef.markForCheck()}),h.entered.subscribe(x=>{this.entered.emit({container:x.container.data,item:this,currentIndex:x.currentIndex})}),h.exited.subscribe(x=>{this.exited.emit({container:x.container.data,item:this})}),h.dropped.subscribe(x=>{this.dropped.emit({previousIndex:x.previousIndex,currentIndex:x.currentIndex,previousContainer:x.previousContainer.data,container:x.container.data,isPointerOverContainer:x.isPointerOverContainer,item:this,distance:x.distance,dropPoint:x.dropPoint,event:x.event})})}_assignDefaults(h){const{lockAxis:x,dragStartDelay:J,constrainPosition:g,previewClass:A,boundaryElement:u,draggingDisabled:F,rootElementSelector:oe,previewContainer:D}=h;this.disabled=F??!1,this.dragStartDelay=J||0,x&&(this.lockAxis=x),g&&(this.constrainPosition=g),A&&(this.previewClass=A),u&&(this.boundaryElement=u),oe&&(this.rootElementSelector=oe),D&&(this.previewContainer=D)}_setupHandlesListener(){this._handles.changes.pipe((0,a.O)(this._handles),(0,I.b)(h=>{const x=h.filter(J=>J._parentDrag===this).map(J=>J.element);this._selfHandle&&this.rootElementSelector&&x.push(this.element),this._dragRef.withHandles(x)}),(0,v.w)(h=>(0,O.T)(...h.map(x=>x._stateChanges.pipe((0,a.O)(x))))),(0,p.R)(this._destroyed)).subscribe(h=>{const x=this._dragRef,J=h.element.nativeElement;h.disabled?x.disableHandle(J):x.enableHandle(J)})}}return y._dragInstances=[],y.\u0275fac=function(h){return new(h||y)(e.Y36(e.SBq),e.Y36(ct,12),e.Y36(l.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(ke,8),e.Y36(te.Is,8),e.Y36(me),e.Y36(e.sBO),e.Y36(De,10),e.Y36(M,12))},y.\u0275dir=e.lG2({type:y,selectors:[["","cdkDrag",""]],contentQueries:function(h,x,J){if(1&h&&(e.Suo(J,ze,5),e.Suo(J,Ie,5),e.Suo(J,De,5)),2&h){let g;e.iGM(g=e.CRH())&&(x._previewTemplate=g.first),e.iGM(g=e.CRH())&&(x._placeholderTemplate=g.first),e.iGM(g=e.CRH())&&(x._handles=g)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(h,x){2&h&&e.ekj("cdk-drag-disabled",x.disabled)("cdk-drag-dragging",x._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:M,useExisting:y}]),e.TTD]}),y})(),B=(()=>{class y{}return y.\u0275fac=function(h){return new(h||y)},y.\u0275mod=e.oAB({type:y}),y.\u0275inj=e.cJS({providers:[me],imports:[j.ZD]}),y})()},9521:(Ze,Te,i)=>{"use strict";i.d(Te,{A:()=>Me,JH:()=>ae,JU:()=>U,K5:()=>s,LH:()=>v,L_:()=>O,MW:()=>ke,Mf:()=>j,SV:()=>te,Sd:()=>f,Vb:()=>ot,Z:()=>_e,aO:()=>c,b2:()=>Qe,jx:()=>Y,oh:()=>I,uR:()=>m,xE:()=>ee,zL:()=>N});const j=9,s=13,U=16,Y=17,N=18,O=32,m=35,f=36,I=37,v=38,te=39,ae=40,ee=48,c=57,Me=65,_e=90,ke=91,Qe=224;function ot(nt,...tt){return tt.length?tt.some(it=>nt[it]):nt.altKey||nt.shiftKey||nt.ctrlKey||nt.metaKey}},7851:(Ze,Te,i)=>{"use strict";i.d(Te,{C2:()=>W,Hs:()=>Ce,Ud:()=>V,XJ:()=>T,Xx:()=>le,_0:()=>Ee,nZ:()=>Oe,rO:()=>f});var e=i(5017),l=i(7579),j=i(1135),t=i(5191),s=i(9646),U=i(2722),Y=i(4650),N=i(1281),K=i(445);class W extends class X{constructor(){this.expansionModel=new e.Ov(!0)}toggle(C){this.expansionModel.toggle(this._trackByValue(C))}expand(C){this.expansionModel.select(this._trackByValue(C))}collapse(C){this.expansionModel.deselect(this._trackByValue(C))}isExpanded(C){return this.expansionModel.isSelected(this._trackByValue(C))}toggleDescendants(C){this.expansionModel.isSelected(this._trackByValue(C))?this.collapseDescendants(C):this.expandDescendants(C)}collapseAll(){this.expansionModel.clear()}expandDescendants(C){let c=[C];c.push(...this.getDescendants(C)),this.expansionModel.select(...c.map(b=>this._trackByValue(b)))}collapseDescendants(C){let c=[C];c.push(...this.getDescendants(C)),this.expansionModel.deselect(...c.map(b=>this._trackByValue(b)))}_trackByValue(C){return this.trackBy?this.trackBy(C):C}}{constructor(C,c,b){super(),this.getLevel=C,this.isExpandable=c,this.options=b,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(C){const b=[];for(let q=this.dataNodes.indexOf(C)+1;q<this.dataNodes.length&&this.getLevel(C)<this.getLevel(this.dataNodes[q]);q++)b.push(this.dataNodes[q]);return b}expandAll(){this.expansionModel.select(...this.dataNodes.map(C=>this._trackByValue(C)))}}const p=new Y.OlP("CDK_TREE_NODE_OUTLET_NODE");let a=(()=>{class se{constructor(c,b){this.viewContainer=c,this._node=b}}return se.\u0275fac=function(c){return new(c||se)(Y.Y36(Y.s_b),Y.Y36(p,8))},se.\u0275dir=Y.lG2({type:se,selectors:[["","cdkTreeNodeOutlet",""]]}),se})();class m{constructor(C){this.$implicit=C}}let f=(()=>{class se{constructor(c){this.template=c}}return se.\u0275fac=function(c){return new(c||se)(Y.Y36(Y.Rgc))},se.\u0275dir=Y.lG2({type:se,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),se})(),Ee=(()=>{class se{constructor(c,b){this._differs=c,this._changeDetectorRef=b,this._onDestroy=new l.x,this._levels=new Map,this.viewChange=new j.X({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(c){this._dataSource!==c&&this._switchDataSource(c)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const c=this._nodeDefs.filter(b=>!b.when);this._defaultNodeDef=c[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(c){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),c||this._nodeOutlet.viewContainer.clear(),this._dataSource=c,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let c;(0,e.Z9)(this._dataSource)?c=this._dataSource.connect(this):(0,t.b)(this._dataSource)?c=this._dataSource:Array.isArray(this._dataSource)&&(c=(0,s.of)(this._dataSource)),c&&(this._dataSubscription=c.pipe((0,U.R)(this._onDestroy)).subscribe(b=>this.renderNodeChanges(b)))}renderNodeChanges(c,b=this._dataDiffer,q=this._nodeOutlet.viewContainer,ce){const ue=b.diff(c);!ue||(ue.forEachOperation((Me,Pe,Fe)=>{if(null==Me.previousIndex)this.insertNode(c[Fe],Fe,q,ce);else if(null==Fe)q.remove(Pe),this._levels.delete(Me.item);else{const We=q.get(Pe);q.move(We,Fe)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(c,b){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(ce=>ce.when&&ce.when(b,c))||this._defaultNodeDef}insertNode(c,b,q,ce){const ue=this._getNodeDef(c,b),Me=new m(c);Me.level=this.treeControl.getLevel?this.treeControl.getLevel(c):typeof ce<"u"&&this._levels.has(ce)?this._levels.get(ce)+1:0,this._levels.set(c,Me.level),(q||this._nodeOutlet.viewContainer).createEmbeddedView(ue.template,Me,b),Ce.mostRecentTreeNode&&(Ce.mostRecentTreeNode.data=c)}}return se.\u0275fac=function(c){return new(c||se)(Y.Y36(Y.ZZ4),Y.Y36(Y.sBO))},se.\u0275cmp=Y.Xpm({type:se,selectors:[["cdk-tree"]],contentQueries:function(c,b,q){if(1&c&&Y.Suo(q,f,5),2&c){let ce;Y.iGM(ce=Y.CRH())&&(b._nodeDefs=ce)}},viewQuery:function(c,b){if(1&c&&Y.Gf(a,7),2&c){let q;Y.iGM(q=Y.CRH())&&(b._nodeOutlet=q.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(c,b){1&c&&Y.GkF(0,0)},dependencies:[a],encapsulation:2}),se})(),Ce=(()=>{class se{constructor(c,b){this._elementRef=c,this._tree=b,this._destroyed=new l.x,this._dataChanges=new l.x,se.mostRecentTreeNode=this,this.role="treeitem"}get role(){return"treeitem"}set role(c){this._elementRef.nativeElement.setAttribute("role",c)}get data(){return this._data}set data(c){c!==this._data&&(this._data=c,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}ngOnInit(){this._parentNodeAriaLevel=function k(se){let C=se.parentElement;for(;C&&!ee(C);)C=C.parentElement;return C?C.classList.contains("cdk-nested-tree-node")?(0,N.su)(C.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){se.mostRecentTreeNode===this&&(se.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return se.mostRecentTreeNode=null,se.\u0275fac=function(c){return new(c||se)(Y.Y36(Y.SBq),Y.Y36(Ee))},se.\u0275dir=Y.lG2({type:se,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(c,b){2&c&&Y.uIk("aria-expanded",b.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),se})();function ee(se){const C=se.classList;return!(!C?.contains("cdk-nested-tree-node")&&!C?.contains("cdk-tree"))}let le=(()=>{class se extends Ce{constructor(c,b,q){super(c,b),this._differs=q}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const c=this._tree.treeControl.getChildren(this.data);Array.isArray(c)?this.updateChildrenNodes(c):(0,t.b)(c)&&c.pipe((0,U.R)(this._destroyed)).subscribe(b=>this.updateChildrenNodes(b)),this.nodeOutlet.changes.pipe((0,U.R)(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(c){const b=this._getNodeOutlet();c&&(this._children=c),b&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,b.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const c=this._getNodeOutlet();c&&(c.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const c=this.nodeOutlet;return c&&c.find(b=>!b._node||b._node===this)}}return se.\u0275fac=function(c){return new(c||se)(Y.Y36(Y.SBq),Y.Y36(Ee),Y.Y36(Y.ZZ4))},se.\u0275dir=Y.lG2({type:se,selectors:[["cdk-nested-tree-node"]],contentQueries:function(c,b,q){if(1&c&&Y.Suo(q,a,5),2&c){let ce;Y.iGM(ce=Y.CRH())&&(b.nodeOutlet=ce)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[Y._Bn([{provide:Ce,useExisting:se},{provide:p,useExisting:se}]),Y.qOj]}),se})();const fe=/([A-Za-z%]+)$/;let T=(()=>{class se{constructor(c,b,q,ce){this._treeNode=c,this._tree=b,this._element=q,this._dir=ce,this._destroyed=new l.x,this.indentUnits="px",this._indent=40,this._setPadding(),ce&&ce.change.pipe((0,U.R)(this._destroyed)).subscribe(()=>this._setPadding(!0)),c._dataChanges.subscribe(()=>this._setPadding())}get level(){return this._level}set level(c){this._setLevelInput(c)}get indent(){return this._indent}set indent(c){this._setIndentInput(c)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const c=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,b=this._level??c;return"number"==typeof b?`${b*this._indent}${this.indentUnits}`:null}_setPadding(c=!1){const b=this._paddingIndent();if(b!==this._currentPadding||c){const q=this._element.nativeElement,ce=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",ue="paddingLeft"===ce?"paddingRight":"paddingLeft";q.style[ce]=b||"",q.style[ue]="",this._currentPadding=b}}_setLevelInput(c){this._level=(0,N.su)(c,null),this._setPadding()}_setIndentInput(c){let b=c,q="px";if("string"==typeof c){const ce=c.split(fe);b=ce[0],q=ce[1]||q}this.indentUnits=q,this._indent=(0,N.su)(b),this._setPadding()}}return se.\u0275fac=function(c){return new(c||se)(Y.Y36(Ce),Y.Y36(Ee),Y.Y36(Y.SBq),Y.Y36(K.Is,8))},se.\u0275dir=Y.lG2({type:se,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),se})(),V=(()=>{class se{constructor(c,b){this._tree=c,this._treeNode=b,this._recursive=!1}get recursive(){return this._recursive}set recursive(c){this._recursive=(0,N.Ig)(c)}_toggle(c){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),c.stopPropagation()}}return se.\u0275fac=function(c){return new(c||se)(Y.Y36(Ee),Y.Y36(Ce))},se.\u0275dir=Y.lG2({type:se,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(c,b){1&c&&Y.NdJ("click",function(ce){return b._toggle(ce)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),se})(),Oe=(()=>{class se{}return se.\u0275fac=function(c){return new(c||se)},se.\u0275mod=Y.oAB({type:se}),se.\u0275inj=Y.cJS({}),se})()},433:(Ze,Te,i)=>{"use strict";i.d(Te,{Wl:()=>I,Fj:()=>Se,NI:()=>ft,u:()=>Ht,cw:()=>xe,sg:()=>kt,u5:()=>Gn,Cf:()=>ee,JU:()=>m,JJ:()=>me,JL:()=>M,On:()=>Gt,YN:()=>on,wV:()=>Vt,c5:()=>$t,UX:()=>Vn,EJ:()=>Ft,K7:()=>Lt,kI:()=>T,_Y:()=>zt,Kr:()=>sn});var e=i(4650),l=i(6895),j=i(2076),t=i(9751),s=i(4742),U=i(8421),Y=i(3269),N=i(5403),K=i(3268),X=i(1810),O=i(4004);let p=(()=>{class r{constructor(n,E){this._renderer=n,this._elementRef=E,this.onChange=be=>{},this.onTouched=()=>{}}setProperty(n,E){this._renderer.setProperty(this._elementRef.nativeElement,n,E)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.Qsj),e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r}),r})(),a=(()=>{class r extends p{}return r.\u0275fac=function(){let o;return function(E){return(o||(o=e.n5z(r)))(E||r)}}(),r.\u0275dir=e.lG2({type:r,features:[e.qOj]}),r})();const m=new e.OlP("NgValueAccessor"),f={provide:m,useExisting:(0,e.Gpc)(()=>I),multi:!0};let I=(()=>{class r extends a{writeValue(n){this.setProperty("checked",n)}}return r.\u0275fac=function(){let o;return function(E){return(o||(o=e.n5z(r)))(E||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,E){1&n&&e.NdJ("change",function($e){return E.onChange($e.target.checked)})("blur",function(){return E.onTouched()})},features:[e._Bn([f]),e.qOj]}),r})();const v={provide:m,useExisting:(0,e.Gpc)(()=>Se),multi:!0},ae=new e.OlP("CompositionEventMode");let Se=(()=>{class r extends p{constructor(n,E,be){super(n,E),this._compositionMode=be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function te(){const r=(0,l.q)()?(0,l.q)().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(ae,8))},r.\u0275dir=e.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,E){1&n&&e.NdJ("input",function($e){return E._handleInput($e.target.value)})("blur",function(){return E.onTouched()})("compositionstart",function(){return E._compositionStart()})("compositionend",function($e){return E._compositionEnd($e.target.value)})},features:[e._Bn([v]),e.qOj]}),r})();function Ce(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function k(r){return null!=r&&"number"==typeof r.length}const ee=new e.OlP("NgValidators"),le=new e.OlP("NgAsyncValidators"),fe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class T{static min(o){return function V(r){return o=>{if(Ce(o.value)||Ce(r))return null;const n=parseFloat(o.value);return!isNaN(n)&&n<r?{min:{min:r,actual:o.value}}:null}}(o)}static max(o){return function Q(r){return o=>{if(Ce(o.value)||Ce(r))return null;const n=parseFloat(o.value);return!isNaN(n)&&n>r?{max:{max:r,actual:o.value}}:null}}(o)}static required(o){return function Oe(r){return Ce(r.value)?{required:!0}:null}(o)}static requiredTrue(o){return function se(r){return!0===r.value?null:{required:!0}}(o)}static email(o){return function C(r){return Ce(r.value)||fe.test(r.value)?null:{email:!0}}(o)}static minLength(o){return function c(r){return o=>Ce(o.value)||!k(o.value)?null:o.value.length<r?{minlength:{requiredLength:r,actualLength:o.value.length}}:null}(o)}static maxLength(o){return function b(r){return o=>k(o.value)&&o.value.length>r?{maxlength:{requiredLength:r,actualLength:o.value.length}}:null}(o)}static pattern(o){return q(o)}static nullValidator(o){return null}static compose(o){return Le(o)}static composeAsync(o){return Ke(o)}}function q(r){if(!r)return ce;let o,n;return"string"==typeof r?(n="","^"!==r.charAt(0)&&(n+="^"),n+=r,"$"!==r.charAt(r.length-1)&&(n+="$"),o=new RegExp(n)):(n=r.toString(),o=r),E=>{if(Ce(E.value))return null;const be=E.value;return o.test(be)?null:{pattern:{requiredPattern:n,actualValue:be}}}}function ce(r){return null}function ue(r){return null!=r}function Me(r){return(0,e.QGY)(r)?(0,j.D)(r):r}function Pe(r){let o={};return r.forEach(n=>{o=null!=n?{...o,...n}:o}),0===Object.keys(o).length?null:o}function Fe(r,o){return o.map(n=>n(r))}function et(r){return r.map(o=>function We(r){return!r.validate}(o)?o:n=>o.validate(n))}function Le(r){if(!r)return null;const o=r.filter(ue);return 0==o.length?null:function(n){return Pe(Fe(n,o))}}function Ye(r){return null!=r?Le(et(r)):null}function Ke(r){if(!r)return null;const o=r.filter(ue);return 0==o.length?null:function(n){return function W(...r){const o=(0,Y.jO)(r),{args:n,keys:E}=(0,s.D)(r),be=new t.y($e=>{const{length:dt}=n;if(!dt)return void $e.complete();const vt=new Array(dt);let Mt=dt,Ot=dt;for(let Bt=0;Bt<dt;Bt++){let jt=!1;(0,U.Xf)(n[Bt]).subscribe((0,N.x)($e,Zn=>{jt||(jt=!0,Ot--),vt[Bt]=Zn},()=>Mt--,void 0,()=>{(!Mt||!jt)&&(Ot||$e.next(E?(0,X.n)(E,vt):vt),$e.complete())}))}});return o?be.pipe((0,K.Z)(o)):be}(Fe(n,o).map(Me)).pipe((0,O.U)(Pe))}}function qe(r){return null!=r?Ke(et(r)):null}function ye(r,o){return null===r?[o]:Array.isArray(r)?[...r,o]:[r,o]}function we(r){return r._rawValidators}function Ne(r){return r._rawAsyncValidators}function Ve(r){return r?Array.isArray(r)?r:[r]:[]}function Be(r,o){return Array.isArray(r)?r.includes(o):r===o}function Z(r,o){const n=Ve(o);return Ve(r).forEach(be=>{Be(n,be)||n.push(be)}),n}function ie(r,o){return Ve(o).filter(n=>!Be(r,n))}class S{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(o){this._rawValidators=o||[],this._composedValidatorFn=Ye(this._rawValidators)}_setAsyncValidators(o){this._rawAsyncValidators=o||[],this._composedAsyncValidatorFn=qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(o){this._onDestroyCallbacks.push(o)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(o=>o()),this._onDestroyCallbacks=[]}reset(o){this.control&&this.control.reset(o)}hasError(o,n){return!!this.control&&this.control.hasError(o,n)}getError(o,n){return this.control?this.control.getError(o,n):null}}class P extends S{get formDirective(){return null}get path(){return null}}class pe extends S{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ge{constructor(o){this._cd=o}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let me=(()=>{class r extends ge{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(pe,2))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,E){2&n&&e.ekj("ng-untouched",E.isUntouched)("ng-touched",E.isTouched)("ng-pristine",E.isPristine)("ng-dirty",E.isDirty)("ng-valid",E.isValid)("ng-invalid",E.isInvalid)("ng-pending",E.isPending)},features:[e.qOj]}),r})(),M=(()=>{class r extends ge{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(P,10))},r.\u0275dir=e.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,E){2&n&&e.ekj("ng-untouched",E.isUntouched)("ng-touched",E.isTouched)("ng-pristine",E.isPristine)("ng-dirty",E.isDirty)("ng-valid",E.isValid)("ng-invalid",E.isInvalid)("ng-pending",E.isPending)("ng-submitted",E.isSubmitted)},features:[e.qOj]}),r})();const h="VALID",x="INVALID",J="PENDING",g="DISABLED";function A(r){return(D(r)?r.validators:r)||null}function u(r){return Array.isArray(r)?Ye(r):r||null}function F(r,o){return(D(o)?o.asyncValidators:r)||null}function oe(r){return Array.isArray(r)?qe(r):r||null}function D(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class re{constructor(o,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=o,this._rawAsyncValidators=n,this._composedValidatorFn=u(this._rawValidators),this._composedAsyncValidatorFn=oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(o){this._rawValidators=this._composedValidatorFn=o}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(o){this._rawAsyncValidators=this._composedAsyncValidatorFn=o}get parent(){return this._parent}get valid(){return this.status===h}get invalid(){return this.status===x}get pending(){return this.status==J}get disabled(){return this.status===g}get enabled(){return this.status!==g}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(o){this._rawValidators=o,this._composedValidatorFn=u(o)}setAsyncValidators(o){this._rawAsyncValidators=o,this._composedAsyncValidatorFn=oe(o)}addValidators(o){this.setValidators(Z(o,this._rawValidators))}addAsyncValidators(o){this.setAsyncValidators(Z(o,this._rawAsyncValidators))}removeValidators(o){this.setValidators(ie(o,this._rawValidators))}removeAsyncValidators(o){this.setAsyncValidators(ie(o,this._rawAsyncValidators))}hasValidator(o){return Be(this._rawValidators,o)}hasAsyncValidator(o){return Be(this._rawAsyncValidators,o)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(o={}){this.touched=!0,this._parent&&!o.onlySelf&&this._parent.markAsTouched(o)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(o=>o.markAllAsTouched())}markAsUntouched(o={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!o.onlySelf&&this._parent._updateTouched(o)}markAsDirty(o={}){this.pristine=!1,this._parent&&!o.onlySelf&&this._parent.markAsDirty(o)}markAsPristine(o={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!o.onlySelf&&this._parent._updatePristine(o)}markAsPending(o={}){this.status=J,!1!==o.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!o.onlySelf&&this._parent.markAsPending(o)}disable(o={}){const n=this._parentMarkedDirty(o.onlySelf);this.status=g,this.errors=null,this._forEachChild(E=>{E.disable({...o,onlySelf:!0})}),this._updateValue(),!1!==o.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...o,skipPristineCheck:n}),this._onDisabledChange.forEach(E=>E(!0))}enable(o={}){const n=this._parentMarkedDirty(o.onlySelf);this.status=h,this._forEachChild(E=>{E.enable({...o,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent}),this._updateAncestors({...o,skipPristineCheck:n}),this._onDisabledChange.forEach(E=>E(!1))}_updateAncestors(o){this._parent&&!o.onlySelf&&(this._parent.updateValueAndValidity(o),o.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(o){this._parent=o}getRawValue(){return this.value}updateValueAndValidity(o={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===h||this.status===J)&&this._runAsyncValidator(o.emitEvent)),!1!==o.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.updateValueAndValidity(o)}_updateTreeValidity(o={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(o)),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?g:h}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(o){if(this.asyncValidator){this.status=J,this._hasOwnPendingAsyncValidator=!0;const n=Me(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(E=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(E,{emitEvent:o})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(o,n={}){this.errors=o,this._updateControlsErrors(!1!==n.emitEvent)}get(o){let n=o;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((E,be)=>E&&E._find(be),this)}getError(o,n){const E=n?this.get(n):this;return E&&E.errors?E.errors[o]:null}hasError(o,n){return!!this.getError(o,n)}get root(){let o=this;for(;o._parent;)o=o._parent;return o}_updateControlsErrors(o){this.status=this._calculateStatus(),o&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(o)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?g:this.errors?x:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(J)?J:this._anyControlsHaveStatus(x)?x:h}_anyControlsHaveStatus(o){return this._anyControls(n=>n.status===o)}_anyControlsDirty(){return this._anyControls(o=>o.dirty)}_anyControlsTouched(){return this._anyControls(o=>o.touched)}_updatePristine(o={}){this.pristine=!this._anyControlsDirty(),this._parent&&!o.onlySelf&&this._parent._updatePristine(o)}_updateTouched(o={}){this.touched=this._anyControlsTouched(),this._parent&&!o.onlySelf&&this._parent._updateTouched(o)}_registerOnCollectionChange(o){this._onCollectionChange=o}_setUpdateStrategy(o){D(o)&&null!=o.updateOn&&(this._updateOn=o.updateOn)}_parentMarkedDirty(o){return!o&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(o){return null}}class xe extends re{constructor(o,n,E){super(A(n),F(E,n)),this.controls=o,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(o,n){return this.controls[o]?this.controls[o]:(this.controls[o]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(o,n,E={}){this.registerControl(o,n),this.updateValueAndValidity({emitEvent:E.emitEvent}),this._onCollectionChange()}removeControl(o,n={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(o,n,E={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],n&&this.registerControl(o,n),this.updateValueAndValidity({emitEvent:E.emitEvent}),this._onCollectionChange()}contains(o){return this.controls.hasOwnProperty(o)&&this.controls[o].enabled}setValue(o,n={}){(function R(r,o,n){r._forEachChild((E,be)=>{if(void 0===n[be])throw new e.vHH(1002,"")})})(this,0,o),Object.keys(o).forEach(E=>{(function w(r,o,n){const E=r.controls;if(!(o?Object.keys(E):E).length)throw new e.vHH(1e3,"");if(!E[n])throw new e.vHH(1001,"")})(this,!0,E),this.controls[E].setValue(o[E],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(o,n={}){null!=o&&(Object.keys(o).forEach(E=>{const be=this.controls[E];be&&be.patchValue(o[E],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(o={},n={}){this._forEachChild((E,be)=>{E.reset(o[be],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(o,n,E)=>(o[E]=n.getRawValue(),o))}_syncPendingControls(){let o=this._reduceChildren(!1,(n,E)=>!!E._syncPendingControls()||n);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_forEachChild(o){Object.keys(this.controls).forEach(n=>{const E=this.controls[n];E&&o(E,n)})}_setUpControls(){this._forEachChild(o=>{o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(o){for(const[n,E]of Object.entries(this.controls))if(this.contains(n)&&o(E))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,E,be)=>((E.enabled||this.disabled)&&(n[be]=E.value),n))}_reduceChildren(o,n){let E=o;return this._forEachChild((be,$e)=>{E=n(E,be,$e)}),E}_allControlsDisabled(){for(const o of Object.keys(this.controls))if(this.controls[o].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(o){return this.controls.hasOwnProperty(o)?this.controls[o]:null}}function st(r,o){return[...o.path,r]}function gt(r,o){xt(r,o),o.valueAccessor.writeValue(r.value),r.disabled&&o.valueAccessor.setDisabledState?.(!0),function Rt(r,o){o.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&Dt(r,o)})}(r,o),function It(r,o){const n=(E,be)=>{o.valueAccessor.writeValue(E),be&&o.viewToModelUpdate(E)};r.registerOnChange(n),o._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,o),function wt(r,o){o.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&Dt(r,o),"submit"!==r.updateOn&&r.markAsTouched()})}(r,o),function Nt(r,o){if(o.valueAccessor.setDisabledState){const n=E=>{o.valueAccessor.setDisabledState(E)};r.registerOnDisabledChange(n),o._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,o)}function bt(r,o,n=!0){const E=()=>{};o.valueAccessor&&(o.valueAccessor.registerOnChange(E),o.valueAccessor.registerOnTouched(E)),Et(r,o),r&&(o._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function yt(r,o){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(o)})}function xt(r,o){const n=we(r);null!==o.validator?r.setValidators(ye(n,o.validator)):"function"==typeof n&&r.setValidators([n]);const E=Ne(r);null!==o.asyncValidator?r.setAsyncValidators(ye(E,o.asyncValidator)):"function"==typeof E&&r.setAsyncValidators([E]);const be=()=>r.updateValueAndValidity();yt(o._rawValidators,be),yt(o._rawAsyncValidators,be)}function Et(r,o){let n=!1;if(null!==r){if(null!==o.validator){const be=we(r);if(Array.isArray(be)&&be.length>0){const $e=be.filter(dt=>dt!==o.validator);$e.length!==be.length&&(n=!0,r.setValidators($e))}}if(null!==o.asyncValidator){const be=Ne(r);if(Array.isArray(be)&&be.length>0){const $e=be.filter(dt=>dt!==o.asyncValidator);$e.length!==be.length&&(n=!0,r.setAsyncValidators($e))}}}const E=()=>{};return yt(o._rawValidators,E),yt(o._rawAsyncValidators,E),n}function Dt(r,o){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),o.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function H(r,o){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(o,n.currentValue)}function He(r,o){if(!o)return null;let n,E,be;return Array.isArray(o),o.forEach($e=>{$e.constructor===Se?n=$e:function he(r){return Object.getPrototypeOf(r.constructor)===a}($e)?E=$e:be=$e}),be||E||n||null}function ht(r,o){const n=r.indexOf(o);n>-1&&r.splice(n,1)}function pt(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const ft=class extends re{constructor(o=null,n,E){super(A(n),F(E,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(o),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),D(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=pt(o)?o.value:o)}setValue(o,n={}){this.value=this._pendingValue=o,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(E=>E(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(o,n={}){this.setValue(o,n)}reset(o=this.defaultValue,n={}){this._applyFormState(o),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(o){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(o){this._onChange.push(o)}_unregisterOnChange(o){ht(this._onChange,o)}registerOnDisabledChange(o){this._onDisabledChange.push(o)}_unregisterOnDisabledChange(o){ht(this._onDisabledChange,o)}_forEachChild(o){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(o){pt(o)?(this.value=this._pendingValue=o.value,o.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=o}},fn={provide:pe,useExisting:(0,e.Gpc)(()=>Gt)},Kt=(()=>Promise.resolve())();let Gt=(()=>{class r extends pe{constructor(n,E,be,$e,dt){super(),this._changeDetectorRef=dt,this.control=new ft,this._registered=!1,this.update=new e.vpe,this._parent=n,this._setValidators(E),this._setAsyncValidators(be),this.valueAccessor=He(0,$e)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const E=n.name.previousValue;this.formDirective.removeControl({name:E,path:this._getPath(E)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),H(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Kt.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const E=n.isDisabled.currentValue,be=0!==E&&(0,e.D6c)(E);Kt.then(()=>{be&&!this.control.disabled?this.control.disable():!be&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?st(n,this._parent):[n]}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(P,9),e.Y36(ee,10),e.Y36(le,10),e.Y36(m,10),e.Y36(e.sBO,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([fn]),e.qOj,e.TTD]}),r})(),zt=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=e.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})();const vn={provide:m,useExisting:(0,e.Gpc)(()=>Vt),multi:!0};let Vt=(()=>{class r extends a{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=E=>{n(""==E?null:parseFloat(E))}}}return r.\u0275fac=function(){let o;return function(E){return(o||(o=e.n5z(r)))(E||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,E){1&n&&e.NdJ("input",function($e){return E.onChange($e.target.value)})("blur",function(){return E.onTouched()})},features:[e._Bn([vn]),e.qOj]}),r})(),Qt=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();const Ut=new e.OlP("NgModelWithFormControlWarning"),Tn={provide:P,useExisting:(0,e.Gpc)(()=>kt)};let kt=(()=>{class r extends P{constructor(n,E){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(n),this._setAsyncValidators(E)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Et(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const E=this.form.get(n.path);return gt(E,n),E.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),E}getControl(n){return this.form.get(n.path)}removeControl(n){bt(n.control||null,n,!1),function Qe(r,o){const n=r.indexOf(o);n>-1&&r.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,E){this.form.get(n.path).setValue(E)}onSubmit(n){return this.submitted=!0,function Ae(r,o){r._syncPendingControls(),o.forEach(n=>{const E=n.control;"submit"===E.updateOn&&E._pendingChange&&(n.viewToModelUpdate(E._pendingValue),E._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const E=n.control,be=this.form.get(n.path);E!==be&&(bt(E||null,n),(r=>r instanceof ft)(be)&&(gt(be,n),n.control=be))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const E=this.form.get(n.path);(function At(r,o){xt(r,o)})(E,n),E.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const E=this.form.get(n.path);E&&function Pt(r,o){return Et(r,o)}(E,n)&&E.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xt(this.form,this),this._oldForm&&Et(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(ee,10),e.Y36(le,10))},r.\u0275dir=e.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,E){1&n&&e.NdJ("submit",function($e){return E.onSubmit($e)})("reset",function(){return E.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Tn]),e.qOj,e.TTD]}),r})();const xn={provide:pe,useExisting:(0,e.Gpc)(()=>Ht)};let Ht=(()=>{class r extends pe{constructor(n,E,be,$e,dt){super(),this._ngModelWarningConfig=dt,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(E),this._setAsyncValidators(be),this.valueAccessor=He(0,$e)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),H(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return st(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(n){return new(n||r)(e.Y36(P,13),e.Y36(ee,10),e.Y36(le,10),e.Y36(m,10),e.Y36(Ut,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([xn]),e.qOj,e.TTD]}),r})();const On={provide:m,useExisting:(0,e.Gpc)(()=>Ft),multi:!0};function nn(r,o){return null==r?`${o}`:(o&&"object"==typeof o&&(o="Object"),`${r}: ${o}`.slice(0,50))}let Ft=(()=>{class r extends a{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const be=nn(this._getOptionId(n),n);this.setProperty("value",be)}registerOnChange(n){this.onChange=E=>{this.value=this._getOptionValue(E),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const E of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(E),n))return E;return null}_getOptionValue(n){const E=function Dn(r){return r.split(":")[0]}(n);return this._optionMap.has(E)?this._optionMap.get(E):n}}return r.\u0275fac=function(){let o;return function(E){return(o||(o=e.n5z(r)))(E||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,E){1&n&&e.NdJ("change",function($e){return E.onChange($e.target.value)})("blur",function(){return E.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([On]),e.qOj]}),r})(),on=(()=>{class r{constructor(n,E,be){this._element=n,this._renderer=E,this._select=be,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(nn(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Ft,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const An={provide:m,useExisting:(0,e.Gpc)(()=>Lt),multi:!0};function rn(r,o){return null==r?`${o}`:("string"==typeof o&&(o=`'${o}'`),o&&"object"==typeof o&&(o="Object"),`${r}: ${o}`.slice(0,50))}let Lt=(()=>{class r extends a{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let E;if(this.value=n,Array.isArray(n)){const be=n.map($e=>this._getOptionId($e));E=($e,dt)=>{$e._setSelected(be.indexOf(dt.toString())>-1)}}else E=(be,$e)=>{be._setSelected(!1)};this._optionMap.forEach(E)}registerOnChange(n){this.onChange=E=>{const be=[],$e=E.selectedOptions;if(void 0!==$e){const dt=$e;for(let vt=0;vt<dt.length;vt++){const Ot=this._getOptionValue(dt[vt].value);be.push(Ot)}}else{const dt=E.options;for(let vt=0;vt<dt.length;vt++){const Mt=dt[vt];if(Mt.selected){const Ot=this._getOptionValue(Mt.value);be.push(Ot)}}}this.value=be,n(be)}}_registerOption(n){const E=(this._idCounter++).toString();return this._optionMap.set(E,n),E}_getOptionId(n){for(const E of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(E)._value,n))return E;return null}_getOptionValue(n){const E=function Nn(r){return r.split(":")[0]}(n);return this._optionMap.has(E)?this._optionMap.get(E)._value:n}}return r.\u0275fac=function(){let o;return function(E){return(o||(o=e.n5z(r)))(E||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,E){1&n&&e.NdJ("change",function($e){return E.onChange($e.target)})("blur",function(){return E.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([An]),e.qOj]}),r})(),sn=(()=>{class r{constructor(n,E,be){this._element=n,this._renderer=E,this._select=be,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(rn(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(rn(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Lt,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})(),St=(()=>{class r{constructor(){this._validator=ce}ngOnChanges(n){if(this.inputName in n){const E=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(E),this._validator=this._enabled?this.createValidator(E):ce,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=e.lG2({type:r,features:[e.TTD]}),r})();const Bn={provide:ee,useExisting:(0,e.Gpc)(()=>$t),multi:!0};let $t=(()=>{class r extends St{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>q(n)}}return r.\u0275fac=function(){let o;return function(E){return(o||(o=e.n5z(r)))(E||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(n,E){2&n&&e.uIk("pattern",E._enabled?E.pattern:null)},inputs:{pattern:"pattern"},features:[e._Bn([Bn]),e.qOj]}),r})(),mn=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Qt]}),r})(),Gn=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[mn]}),r})(),Vn=(()=>{class r{static withConfig(n){return{ngModule:r,providers:[{provide:Ut,useValue:n.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[mn]}),r})()},7521:(Ze,Te,i)=>{"use strict";i.d(Te,{fq:()=>Be,KY:()=>Ve});var e=i(4650),l=i(6895),j=i(7579),t=i(727),s=i(4968),U=i(1884),Y=i(8372),N=i(8505),K=i(4412),X=i(433);function W(Z,ie){if(1&Z){const S=e.EpF();e.TgZ(0,"span",3),e.NdJ("mousedown",function(pe){e.CHM(S);const ge=e.oxw();return e.KtG(ge.handleMousedown(pe))}),e._uU(1),e.qZA()}if(2&Z){const S=e.oxw();e.Q6J("id",S.uniqueId)("ngStyle",S.labelStyle),e.xp6(1),e.hij(" ",S.label," ")}}function O(Z,ie){if(1&Z&&(e.TgZ(0,"div",2),e._UZ(1,"div",3),e.qZA()),2&Z){const S=e.oxw();e.Udp("left",S.left)("top",S.top),e.xp6(1),e.Q6J("ngStyle",S.pointer)}}const p=["*"];function a(Z,ie){1&Z&&e._UZ(0,"color-checkboard",2)}const m={};let v=(()=>{class Z{constructor(){this.white="transparent",this.size=8,this.grey="rgba(0,0,0,.08)"}ngOnInit(){const S=function I(Z,ie,S){const P=`${Z}-${ie}-${S}`;if(m[P])return m[P];const pe=function f(Z,ie,S){if(typeof document>"u")return null;const P=document.createElement("canvas");P.width=2*S,P.height=2*S;const pe=P.getContext("2d");return pe?(pe.fillStyle=Z,pe.fillRect(0,0,P.width,P.height),pe.fillStyle=ie,pe.fillRect(0,0,S,S),pe.translate(S,S),pe.fillRect(0,0,S,S),P.toDataURL()):null}(Z,ie,S);return pe?(m[P]=pe,pe):null}(this.white,this.grey,this.size);this.gridStyles={borderRadius:this.borderRadius,boxShadow:this.boxShadow,background:`url(${S}) center left`}}}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["color-checkboard"]],inputs:{white:"white",size:"size",grey:"grey",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:1,vars:1,consts:[[1,"grid",3,"ngStyle"]],template:function(S,P){1&S&&e._UZ(0,"div",0),2&S&&e.Q6J("ngStyle",P.gridStyles)},dependencies:[l.PC],styles:[".grid[_ngcontent-%COMP%]{top:0px;right:0px;bottom:0px;left:0px;position:absolute}"],changeDetection:0}),Z})(),te=(()=>{class Z{}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[l.ez]}),Z})(),ae=(()=>{class Z{constructor(S){this.el=S,this.coordinatesChange=new j.x,this.mousechange=new j.x,this.mouseListening=!1}mousemove(S,P,pe,ge=!1){this.mouseListening&&(S.preventDefault(),this.mousechange.next({$event:S,x:P,y:pe,isTouch:ge}))}mouseup(){this.mouseListening=!1}mousedown(S,P,pe,ge=!1){S.preventDefault(),this.mouseListening=!0,this.mousechange.next({$event:S,x:P,y:pe,isTouch:ge})}ngOnInit(){this.sub=this.mousechange.pipe((0,U.x)((S,P)=>S.x===P.x&&S.y===P.y)).subscribe(S=>this.handleChange(S.x,S.y,S.$event,S.isTouch))}ngOnDestroy(){this.sub?.unsubscribe()}handleChange(S,P,pe,ge){const Ue=this.el.nativeElement.clientWidth,z=this.el.nativeElement.clientHeight,me=S-(this.el.nativeElement.getBoundingClientRect().left+window.pageXOffset);let M=P-this.el.nativeElement.getBoundingClientRect().top;ge||(M-=window.pageYOffset),this.coordinatesChange.next({x:S,y:P,top:M,left:me,containerWidth:Ue,containerHeight:z,$event:pe})}}return Z.\u0275fac=function(S){return new(S||Z)(e.Y36(e.SBq))},Z.\u0275dir=e.lG2({type:Z,selectors:[["","ngx-color-coordinates",""]],hostBindings:function(S,P){1&S&&e.NdJ("mousemove",function(ge){return P.mousemove(ge,ge.pageX,ge.pageY)},!1,e.Jf7)("touchmove",function(ge){return P.mousemove(ge,ge.touches[0].clientX,ge.touches[0].clientY,!0)},!1,e.Jf7)("mouseup",function(){return P.mouseup()},!1,e.Jf7)("touchend",function(){return P.mouseup()},!1,e.Jf7)("mousedown",function(ge){return P.mousedown(ge,ge.pageX,ge.pageY)})("touchstart",function(ge){return P.mousedown(ge,ge.touches[0].clientX,ge.touches[0].clientY,!0)})},outputs:{coordinatesChange:"coordinatesChange"}}),Z})(),Se=(()=>{class Z{}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({}),Z})(),Ee=(()=>{class Z{constructor(){this.direction="horizontal",this.onChange=new e.vpe}ngOnChanges(){"vertical"===this.direction?(this.pointerLeft=0,this.pointerTop=100*this.rgb.a,this.gradient={background:`linear-gradient(to bottom, rgba(${this.rgb.r},${this.rgb.g},${this.rgb.b}, 0) 0%,\n          rgba(${this.rgb.r},${this.rgb.g},${this.rgb.b}, 1) 100%)`}):(this.gradient={background:`linear-gradient(to right, rgba(${this.rgb.r},${this.rgb.g},${this.rgb.b}, 0) 0%,\n          rgba(${this.rgb.r},${this.rgb.g},${this.rgb.b}, 1) 100%)`},this.pointerLeft=100*this.rgb.a)}handleChange({top:S,left:P,containerHeight:pe,containerWidth:ge,$event:Ue}){let z;if("vertical"===this.direction){let me;me=S<0?0:S>pe?1:Math.round(100*S/pe)/100,this.hsl.a!==me&&(z={h:this.hsl.h,s:this.hsl.s,l:this.hsl.l,a:me,source:"rgb"})}else{let me;me=P<0?0:P>ge?1:Math.round(100*P/ge)/100,this.hsl.a!==me&&(z={h:this.hsl.h,s:this.hsl.s,l:this.hsl.l,a:me,source:"rgb"})}!z||this.onChange.emit({data:z,$event:Ue})}}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["color-alpha"]],inputs:{hsl:"hsl",rgb:"rgb",pointer:"pointer",shadow:"shadow",radius:"radius",direction:"direction"},outputs:{onChange:"onChange"},features:[e.TTD],decls:7,vars:15,consts:[[1,"alpha"],[1,"alpha-checkboard"],[1,"alpha-gradient",3,"ngStyle"],["ngx-color-coordinates","",3,"coordinatesChange"],[1,"alpha-pointer"],[1,"alpha-slider",3,"ngStyle"]],template:function(S,P){1&S&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"color-checkboard"),e.qZA(),e._UZ(3,"div",2),e.TgZ(4,"div",3),e.NdJ("coordinatesChange",function(ge){return P.handleChange(ge)}),e.TgZ(5,"div",4),e._UZ(6,"div",5),e.qZA()()()),2&S&&(e.Udp("border-radius",P.radius),e.xp6(3),e.Udp("box-shadow",P.shadow)("border-radius",P.radius),e.Q6J("ngStyle",P.gradient),e.xp6(1),e.Gre("alpha-container color-alpha-",P.direction,""),e.xp6(1),e.Udp("left",P.pointerLeft,"%")("top",P.pointerTop,"%"),e.xp6(1),e.Q6J("ngStyle",P.pointer))},dependencies:[l.PC,v,ae],styles:[".alpha[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.alpha-checkboard[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}.alpha-gradient[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.alpha-container[_ngcontent-%COMP%]{position:relative;height:100%;margin:0 3px}.alpha-pointer[_ngcontent-%COMP%]{position:absolute}.alpha-slider[_ngcontent-%COMP%]{width:4px;border-radius:1px;height:8px;box-shadow:0 0 2px #0009;background:#fff;margin-top:1px;transform:translate(-2px)}"],changeDetection:0}),Z})(),Ce=(()=>{class Z{}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[l.ez,te,Se]}),Z})();function k(Z){let S=0,P=0;return["r","g","b","a","h","s","l","v"].forEach(pe=>{!Z[pe]||(S+=1,isNaN(Z[pe])||(P+=1),("s"===pe||"l"===pe)&&/^\d+%$/.test(Z[pe])&&(P+=1))}),S===P&&Z}function ee(Z,ie,S){const P=new K.C(Z.hex?Z.hex:Z);S&&P.setAlpha(1);const pe=P.toHsl(),ge=P.toHsv(),Ue=P.toRgb(),z=P.toHex();return 0===pe.s&&(pe.h=ie||0,ge.h=ie||0),{hsl:pe,hex:"000000"===z&&0===Ue.a?"transparent":P.toHexString(),rgb:Ue,hsv:ge,oldHue:Z.h||ie||pe.h,source:Z.source}}function le(Z){return new K.C(Z).isValid}var T=(()=>{return(Z=T||(T={})).HEX="hex",Z.HSL="hsl",Z.HSV="hsv",Z.RGB="rgb",T;var Z})();let V=(()=>{class Z{constructor(){this.mode=T.HEX,this.color={h:250,s:.5,l:.2,a:1},this.colorChange=new e.vpe,this.onChange=new e.vpe,this.onChangeComplete=new e.vpe,this.onSwatchHover=new e.vpe,this._onChangeCompleteSubscription=new t.w0,this._onSwatchHoverSubscription=new t.w0}ngOnInit(){this.changes=this.onChange.pipe((0,Y.b)(100),(0,N.b)(S=>{switch(this.onChangeComplete.emit(S),this.mode){case T.HEX:this.colorChange.emit(S.color.hex);break;case T.HSL:this.colorChange.emit(S.color.hsl);break;case T.HSV:this.colorChange.emit(S.color.hsv);break;case T.RGB:this.colorChange.emit(S.color.rgb);break;default:const P=`The mode '${this.mode}' is not supported`;if((0,e.X6Q)())throw new Error(P);console.warn(P)}})).subscribe(),this.setState(ee(this.color,0)),this.currentColor=this.hex}ngOnChanges(){this.setState(ee(this.color,this.oldHue))}ngOnDestroy(){this.changes?.unsubscribe(),this._onChangeCompleteSubscription?.unsubscribe(),this._onSwatchHoverSubscription?.unsubscribe()}setState(S){this.oldHue=S.oldHue,this.hsl=S.hsl,this.hsv=S.hsv,this.rgb=S.rgb,this.hex=S.hex,this.source=S.source,this.afterValidChange()}handleChange(S,P){if(k(S)){const ge=ee(S,S.h||this.oldHue,this.disableAlpha);this.setState(ge),this.onChange.emit({color:ge,$event:P}),this.afterValidChange()}}afterValidChange(){}handleSwatchHover(S,P){if(k(S)){const ge=ee(S,S.h||this.oldHue);this.setState(ge),this.onSwatchHover.emit({color:ge,$event:P})}}registerOnChange(S){this._onChangeCompleteSubscription.add(this.onChangeComplete.pipe((0,N.b)(P=>S(P.color.hex))).subscribe())}registerOnTouched(S){this._onSwatchHoverSubscription.add(this.onSwatchHover.pipe((0,N.b)(()=>S())).subscribe())}setDisabledState(S){}writeValue(S){this.color=S}}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["color-wrap"]],inputs:{className:"className",mode:"mode",color:"color"},outputs:{colorChange:"colorChange",onChange:"onChange",onChangeComplete:"onChangeComplete",onSwatchHover:"onSwatchHover"},features:[e._Bn([{provide:X.JU,useExisting:(0,e.Gpc)(()=>Z),multi:!0}]),e.TTD],decls:0,vars:0,template:function(S,P){},encapsulation:2}),Z})(),Oe=0,se=(()=>{class Z{constructor(){this.placeholder="",this.onChange=new e.vpe,this.focus=!1,this.uniqueId="editableInput-"+ ++Oe}ngOnInit(){this.wrapStyle=this.style&&this.style.wrap?this.style.wrap:{},this.inputStyle=this.style&&this.style.input?this.style.input:{},this.labelStyle=this.style&&this.style.label?this.style.label:{},this.dragLabel&&(this.labelStyle.cursor="ew-resize")}handleFocus(S){this.focus=!0}handleFocusOut(S){this.focus=!1,this.currentValue=this.blurValue}handleKeydown(S){const P=String(S.target.value),pe=P.indexOf("%")>-1,ge=Number(P.replace(/%/g,""));if(isNaN(ge))return;const Ue=this.arrowOffset||1;38===S.keyCode&&(this.onChange.emit(this.label?{data:{[this.label]:ge+Ue},$event:S}:{data:ge+Ue,$event:S}),this.currentValue=pe?`${ge+Ue}%`:ge+Ue),40===S.keyCode&&(this.onChange.emit(this.label?{data:{[this.label]:ge-Ue},$event:S}:{data:ge-Ue,$event:S}),this.currentValue=pe?ge-Ue+"%":ge-Ue)}handleKeyup(S){40===S.keyCode||38===S.keyCode||`${this.currentValue}`!==S.target.value&&this.onChange.emit(this.label?{data:{[this.label]:S.target.value},$event:S}:{data:S.target.value,$event:S})}ngOnChanges(){this.focus||(this.currentValue=String(this.value).toUpperCase()),this.blurValue=String(this.value).toUpperCase()}ngOnDestroy(){this.unsubscribe()}subscribe(){this.mousemove=(0,s.R)(document,"mousemove").subscribe(S=>this.handleDrag(S)),this.mouseup=(0,s.R)(document,"mouseup").subscribe(()=>this.unsubscribe())}unsubscribe(){this.mousemove?.unsubscribe(),this.mouseup?.unsubscribe()}handleMousedown(S){this.dragLabel&&(S.preventDefault(),this.handleDrag(S),this.subscribe())}handleDrag(S){if(this.dragLabel){const P=Math.round(this.value+S.movementX);P>=0&&P<=this.dragMax&&this.onChange.emit({data:{[this.label]:P},$event:S})}}}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["color-editable-input"]],inputs:{style:"style",label:"label",value:"value",arrowOffset:"arrowOffset",dragLabel:"dragLabel",dragMax:"dragMax",placeholder:"placeholder"},outputs:{onChange:"onChange"},features:[e.TTD],decls:3,vars:6,consts:[[1,"wrap",3,"ngStyle"],["spellCheck","false",3,"ngStyle","value","placeholder","keydown","keyup","focus","focusout"],[3,"id","ngStyle","mousedown",4,"ngIf"],[3,"id","ngStyle","mousedown"]],template:function(S,P){1&S&&(e.TgZ(0,"div",0)(1,"input",1),e.NdJ("keydown",function(ge){return P.handleKeydown(ge)})("keyup",function(ge){return P.handleKeyup(ge)})("focus",function(ge){return P.handleFocus(ge)})("focusout",function(ge){return P.handleFocusOut(ge)}),e.qZA(),e.YNc(2,W,2,3,"span",2),e.qZA()),2&S&&(e.Q6J("ngStyle",P.wrapStyle),e.xp6(1),e.Q6J("ngStyle",P.inputStyle)("value",P.currentValue)("placeholder",P.placeholder),e.uIk("aria-labelledby",P.uniqueId),e.xp6(1),e.Q6J("ngIf",P.label))},dependencies:[l.O5,l.PC],styles:["[_nghost-%COMP%]{display:flex}.wrap[_ngcontent-%COMP%]{position:relative}"],changeDetection:0}),Z})(),C=(()=>{class Z{}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[l.ez]}),Z})(),c=(()=>{class Z{constructor(){this.hidePointer=!1,this.direction="horizontal",this.onChange=new e.vpe,this.left="0px",this.top=""}ngOnChanges(){"horizontal"===this.direction?this.left=100*this.hsl.h/360+"%":this.top=-100*this.hsl.h/360+100+"%"}handleChange({top:S,left:P,containerHeight:pe,containerWidth:ge,$event:Ue}){let z;if("vertical"===this.direction){let me;me=S<0?359:S>pe?0:360*(-100*S/pe+100)/100,this.hsl.h!==me&&(z={h:me,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a,source:"rgb"})}else{let me;me=P<0?0:P>ge?359:100*P/ge*360/100,this.hsl.h!==me&&(z={h:me,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a,source:"rgb"})}!z||this.onChange.emit({data:z,$event:Ue})}}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["color-hue"]],inputs:{hsl:"hsl",pointer:"pointer",radius:"radius",shadow:"shadow",hidePointer:"hidePointer",direction:"direction"},outputs:{onChange:"onChange"},features:[e.TTD],decls:3,vars:8,consts:[["ngx-color-coordinates","",1,"color-hue-container",3,"coordinatesChange"],["class","color-hue-pointer",3,"left","top",4,"ngIf"],[1,"color-hue-pointer"],[1,"color-hue-slider",3,"ngStyle"]],template:function(S,P){1&S&&(e.TgZ(0,"div")(1,"div",0),e.NdJ("coordinatesChange",function(ge){return P.handleChange(ge)}),e.YNc(2,O,2,5,"div",1),e.qZA()()),2&S&&(e.Gre("color-hue color-hue-",P.direction,""),e.Udp("border-radius",P.radius,"px")("box-shadow",P.shadow),e.xp6(2),e.Q6J("ngIf",!P.hidePointer))},dependencies:[l.O5,l.PC,ae],styles:[".color-hue[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.color-hue-container[_ngcontent-%COMP%]{margin:0 2px;position:relative;height:100%}.color-hue-pointer[_ngcontent-%COMP%]{position:absolute}.color-hue-slider[_ngcontent-%COMP%]{margin-top:1px;width:4px;border-radius:1px;height:8px;box-shadow:0 0 2px #0009;background:#fff;transform:translate(-2px)}.color-hue-horizontal[_ngcontent-%COMP%]{background:linear-gradient(to right,#f00 0%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,#f00 100%)}.color-hue-vertical[_ngcontent-%COMP%]{background:linear-gradient(to top,#f00 0%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,#f00 100%)}"],changeDetection:0}),Z})(),b=(()=>{class Z{}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[l.ez,Se]}),Z})(),ue=(()=>{class Z{constructor(){this.onChange=new e.vpe}ngOnChanges(){this.background=`hsl(${this.hsl.h}, 100%, 50%)`,this.pointerTop=-100*this.hsv.v+1+100+"%",this.pointerLeft=100*this.hsv.s+"%"}handleChange({top:S,left:P,containerHeight:pe,containerWidth:ge,$event:Ue}){P<0?P=0:P>ge?P=ge:S<0?S=0:S>pe&&(S=pe);let me=-S/pe+1;me=me>0?me:0,me=me>1?1:me,this.onChange.emit({data:{h:this.hsl.h,s:P/ge,v:me,a:this.hsl.a,source:"hsva"},$event:Ue})}}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["color-saturation"]],inputs:{hsl:"hsl",hsv:"hsv",radius:"radius",pointer:"pointer",circle:"circle"},outputs:{onChange:"onChange"},features:[e.TTD],decls:5,vars:8,consts:[["ngx-color-coordinates","",1,"color-saturation",3,"coordinatesChange"],[1,"saturation-white"],[1,"saturation-black"],[1,"saturation-pointer",3,"ngStyle"],[1,"saturation-circle",3,"ngStyle"]],template:function(S,P){1&S&&(e.TgZ(0,"div",0),e.NdJ("coordinatesChange",function(ge){return P.handleChange(ge)}),e.TgZ(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"div",4),e.qZA()()()),2&S&&(e.Udp("background",P.background),e.xp6(3),e.Udp("top",P.pointerTop)("left",P.pointerLeft),e.Q6J("ngStyle",P.pointer),e.xp6(1),e.Q6J("ngStyle",P.circle))},dependencies:[l.PC,ae],styles:[".saturation-white[_ngcontent-%COMP%]{background:linear-gradient(to right,#fff,rgba(255,255,255,0));position:absolute;top:0;bottom:0;left:0;right:0}.saturation-black[_ngcontent-%COMP%]{background:linear-gradient(to top,#000,rgba(0,0,0,0));position:absolute;top:0;bottom:0;left:0;right:0}.color-saturation[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.saturation-pointer[_ngcontent-%COMP%]{position:absolute;cursor:default}.saturation-circle[_ngcontent-%COMP%]{width:4px;height:4px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px #0000004d,0 0 1px 2px #0006;border-radius:50%;cursor:hand;transform:translate(-2px,-4px)}"],changeDetection:0}),Z})(),Me=(()=>{class Z{}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[l.ez,Se]}),Z})(),Pe=(()=>{class Z{constructor(){this.style={},this.focusStyle={},this.onClick=new e.vpe,this.onHover=new e.vpe,this.divStyles={},this.focusStyles={},this.inFocus=!1}ngOnInit(){this.divStyles={background:this.color,...this.style}}currentStyles(){return this.focusStyles={...this.divStyles,...this.focusStyle},this.focus||this.inFocus?this.focusStyles:this.divStyles}handleFocusOut(){this.inFocus=!1}handleFocus(){this.inFocus=!0}handleHover(S,P){this.onHover.emit({hex:S,$event:P})}handleClick(S,P){this.onClick.emit({hex:S,$event:P})}}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["color-swatch"]],inputs:{color:"color",style:"style",focusStyle:"focusStyle",focus:"focus"},outputs:{onClick:"onClick",onHover:"onHover"},ngContentSelectors:p,decls:3,vars:3,consts:[["tabindex","0",1,"swatch",3,"ngStyle","click","keydown.enter","focus","blur","mouseover"],["boxShadow","inset 0 0 0 1px rgba(0,0,0,0.1)",4,"ngIf"],["boxShadow","inset 0 0 0 1px rgba(0,0,0,0.1)"]],template:function(S,P){1&S&&(e.F$t(),e.TgZ(0,"div",0),e.NdJ("click",function(ge){return P.handleClick(P.color,ge)})("keydown.enter",function(ge){return P.handleClick(P.color,ge)})("focus",function(){return P.handleFocus()})("blur",function(){return P.handleFocusOut()})("mouseover",function(ge){return P.handleHover(P.color,ge)}),e.Hsn(1),e.YNc(2,a,1,0,"color-checkboard",1),e.qZA()),2&S&&(e.Q6J("ngStyle",P.currentStyles()),e.uIk("title",P.color),e.xp6(2),e.Q6J("ngIf","transparent"===P.color))},dependencies:[l.O5,l.PC,v],styles:[".swatch[_ngcontent-%COMP%]{outline:none;height:100%;width:100%;cursor:pointer;position:relative}"],changeDetection:0}),Z})(),Fe=(()=>{class Z{}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[l.ez,te]}),Z})();const Le=function(Z,ie){return{input:Z,label:ie}};function Ye(Z,ie){if(1&Z){const S=e.EpF();e.TgZ(0,"div",8)(1,"color-editable-input",9),e.NdJ("onChange",function(pe){e.CHM(S);const ge=e.oxw();return e.KtG(ge.handleChange(pe))}),e.qZA()()}if(2&Z){const S=e.oxw();e.xp6(1),e.Akn(e.WLB(5,Le,S.input,S.label)),e.Q6J("value",S.round(100*S.rgb.a))("dragLabel",!0)("dragMax",100)}}function Ke(Z,ie){if(1&Z){const S=e.EpF();e.TgZ(0,"div",2)(1,"color-swatch",3),e.NdJ("onClick",function(pe){e.CHM(S);const ge=e.oxw();return e.KtG(ge.handleClick(pe))})("onHover",function(pe){e.CHM(S);const ge=e.oxw();return e.KtG(ge.onSwatchHover.emit(pe))}),e.qZA()()}if(2&Z){const S=ie.$implicit,P=e.oxw();e.xp6(1),e.Akn(P.swatchStyle),e.Q6J("color",P.normalizeValue(S).color)("focusStyle",P.focusStyle(S))}}function qe(Z,ie){if(1&Z){const S=e.EpF();e.TgZ(0,"div",12)(1,"color-alpha",13),e.NdJ("onChange",function(pe){e.CHM(S);const ge=e.oxw();return e.KtG(ge.handleValueChange(pe))}),e.qZA()()}if(2&Z){const S=e.oxw();e.xp6(1),e.Q6J("radius",2)("rgb",S.rgb)("hsl",S.hsl)}}function ye(Z,ie){if(1&Z){const S=e.EpF();e.TgZ(0,"div",14)(1,"color-sketch-preset-colors",15),e.NdJ("onClick",function(pe){e.CHM(S);const ge=e.oxw();return e.KtG(ge.handleBlockChange(pe))})("onSwatchHover",function(pe){e.CHM(S);const ge=e.oxw();return e.KtG(ge.onSwatchHover.emit(pe))}),e.qZA()()}if(2&Z){const S=e.oxw();e.xp6(1),e.Q6J("colors",S.presetColors)}}let we=(()=>{class Z{constructor(){this.disableAlpha=!1,this.onChange=new e.vpe,this.input={width:"100%",padding:"4px 10% 3px",border:"none",boxSizing:"border-box",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},this.label={display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}}round(S){return Math.round(S)}handleChange({data:S,$event:P}){if(S.hex){if(le(S.hex)){const pe=new K.C(S.hex);this.onChange.emit({data:{hex:this.disableAlpha||S.hex.length<=6?pe.toHex():pe.toHex8(),source:"hex"},$event:P})}}else S.r||S.g||S.b?this.onChange.emit({data:{r:S.r||this.rgb.r,g:S.g||this.rgb.g,b:S.b||this.rgb.b,source:"rgb"},$event:P}):S.a?(S.a<0?S.a=0:S.a>100&&(S.a=100),S.a/=100,this.disableAlpha&&(S.a=1),this.onChange.emit({data:{h:this.hsl.h,s:this.hsl.s,l:this.hsl.l,a:Math.round(100*S.a)/100,source:"rgb"},$event:P})):(S.h||S.s||S.l)&&this.onChange.emit({data:{h:S.h||this.hsl.h,s:Number(S.s&&S.s||this.hsl.s),l:Number(S.l&&S.l||this.hsl.l),source:"hsl"},$event:P})}}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["color-sketch-fields"]],inputs:{hsl:"hsl",rgb:"rgb",hex:"hex",disableAlpha:"disableAlpha"},outputs:{onChange:"onChange"},decls:10,vars:31,consts:[[1,"sketch-fields"],[1,"sketch-double"],["label","hex",3,"value","onChange"],[1,"sketch-single"],["label","r",3,"value","dragLabel","dragMax","onChange"],["label","g",3,"value","dragLabel","dragMax","onChange"],["label","b",3,"value","dragLabel","dragMax","onChange"],["class","sketch-alpha",4,"ngIf"],[1,"sketch-alpha"],["label","a",3,"value","dragLabel","dragMax","onChange"]],template:function(S,P){1&S&&(e.TgZ(0,"div",0)(1,"div",1)(2,"color-editable-input",2),e.NdJ("onChange",function(ge){return P.handleChange(ge)}),e.qZA()(),e.TgZ(3,"div",3)(4,"color-editable-input",4),e.NdJ("onChange",function(ge){return P.handleChange(ge)}),e.qZA()(),e.TgZ(5,"div",3)(6,"color-editable-input",5),e.NdJ("onChange",function(ge){return P.handleChange(ge)}),e.qZA()(),e.TgZ(7,"div",3)(8,"color-editable-input",6),e.NdJ("onChange",function(ge){return P.handleChange(ge)}),e.qZA()(),e.YNc(9,Ye,2,8,"div",7),e.qZA()),2&S&&(e.xp6(2),e.Akn(e.WLB(19,Le,P.input,P.label)),e.Q6J("value",P.hex.replace("#","")),e.xp6(2),e.Akn(e.WLB(22,Le,P.input,P.label)),e.Q6J("value",P.rgb.r)("dragLabel",!0)("dragMax",255),e.xp6(2),e.Akn(e.WLB(25,Le,P.input,P.label)),e.Q6J("value",P.rgb.g)("dragLabel",!0)("dragMax",255),e.xp6(2),e.Akn(e.WLB(28,Le,P.input,P.label)),e.Q6J("value",P.rgb.b)("dragLabel",!0)("dragMax",255),e.xp6(1),e.Q6J("ngIf",!1===P.disableAlpha))},dependencies:[l.O5,se],styles:[".sketch-fields[_ngcontent-%COMP%]{display:flex;padding-top:4px}.sketch-double[_ngcontent-%COMP%]{flex:2 1 0%}.sketch-single[_ngcontent-%COMP%], .sketch-alpha[_ngcontent-%COMP%]{flex:1 1 0%;padding-left:6px}[dir=rtl][_nghost-%COMP%]   .sketch-single[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sketch-single[_ngcontent-%COMP%]{padding-right:6px;padding-left:0}[dir=rtl][_nghost-%COMP%]   .sketch-alpha[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sketch-alpha[_ngcontent-%COMP%]{padding-right:6px;padding-left:0}"],changeDetection:0}),Z})(),Ne=(()=>{class Z{constructor(){this.onClick=new e.vpe,this.onSwatchHover=new e.vpe,this.swatchStyle={borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}}handleClick({hex:S,$event:P}){this.onClick.emit({hex:S,$event:P})}normalizeValue(S){return"string"==typeof S?{color:S}:S}focusStyle(S){return{boxShadow:`inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px ${this.normalizeValue(S).color}`}}}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["color-sketch-preset-colors"]],inputs:{colors:"colors"},outputs:{onClick:"onClick",onSwatchHover:"onSwatchHover"},decls:2,vars:1,consts:[[1,"sketch-swatches"],["class","sketch-wrap",4,"ngFor","ngForOf"],[1,"sketch-wrap"],[1,"swatch",3,"color","focusStyle","onClick","onHover"]],template:function(S,P){1&S&&(e.TgZ(0,"div",0),e.YNc(1,Ke,2,4,"div",1),e.qZA()),2&S&&(e.xp6(1),e.Q6J("ngForOf",P.colors))},dependencies:[l.sg,Pe],styles:[".sketch-swatches[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;margin:0 -10px;padding:10px 0 0 10px;border-top:1px solid rgb(238,238,238)}.sketch-wrap[_ngcontent-%COMP%]{width:16px;height:16px;margin:0 10px 10px 0}[dir=rtl][_nghost-%COMP%]   .sketch-swatches[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sketch-swatches[_ngcontent-%COMP%]{padding-right:10px;padding-left:0}[dir=rtl][_nghost-%COMP%]   .sketch-wrap[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sketch-wrap[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}"],changeDetection:0}),Z})(),Ve=(()=>{class Z extends V{constructor(){super(),this.disableAlpha=!1,this.presetColors=["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"],this.width=200}afterValidChange(){this.activeBackground=`rgba(${this.rgb.r}, ${this.rgb.g}, ${this.rgb.b}, ${this.disableAlpha?1:this.rgb.a})`}handleValueChange({data:S,$event:P}){this.handleChange(S,P)}handleBlockChange({hex:S,$event:P}){le(S)&&this.handleChange({hex:S,source:"hex"},P)}}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["color-sketch"]],inputs:{disableAlpha:"disableAlpha",presetColors:"presetColors",width:"width"},features:[e._Bn([{provide:X.JU,useExisting:(0,e.Gpc)(()=>Z),multi:!0},{provide:V,useExisting:(0,e.Gpc)(()=>Z)}]),e.qOj],decls:14,vars:16,consts:[[1,"sketch-saturation"],[3,"hsl","hsv","onChange"],[1,"sketch-controls"],[1,"sketch-sliders"],[1,"sketch-hue"],[3,"hsl","onChange"],["class","sketch-alpha",4,"ngIf"],[1,"sketch-color"],[1,"sketch-active"],[1,"sketch-fields-container"],[3,"rgb","hsl","hex","disableAlpha","onChange"],["class","sketch-swatches-container",4,"ngIf"],[1,"sketch-alpha"],[3,"radius","rgb","hsl","onChange"],[1,"sketch-swatches-container"],[3,"colors","onClick","onSwatchHover"]],template:function(S,P){1&S&&(e.TgZ(0,"div")(1,"div",0)(2,"color-saturation",1),e.NdJ("onChange",function(ge){return P.handleValueChange(ge)}),e.qZA()(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"color-hue",5),e.NdJ("onChange",function(ge){return P.handleValueChange(ge)}),e.qZA()(),e.YNc(7,qe,2,3,"div",6),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"color-checkboard")(10,"div",8),e.qZA()(),e.TgZ(11,"div",9)(12,"color-sketch-fields",10),e.NdJ("onChange",function(ge){return P.handleValueChange(ge)}),e.qZA()(),e.YNc(13,ye,2,1,"div",11),e.qZA()),2&S&&(e.Gre("sketch-picker ",P.className,""),e.Udp("width",P.width,"px"),e.xp6(2),e.Q6J("hsl",P.hsl)("hsv",P.hsv),e.xp6(4),e.Q6J("hsl",P.hsl),e.xp6(1),e.Q6J("ngIf",!1===P.disableAlpha),e.xp6(3),e.Udp("background",P.activeBackground),e.xp6(2),e.Q6J("rgb",P.rgb)("hsl",P.hsl)("hex",P.hex)("disableAlpha",P.disableAlpha),e.xp6(1),e.Q6J("ngIf",P.presetColors&&P.presetColors.length))},dependencies:function(){return[l.O5,Ee,v,c,ue,we,Ne]},styles:[".sketch-picker[_ngcontent-%COMP%]{padding:10px 10px 3px;box-sizing:initial;background:#fff;border-radius:4px;box-shadow:0 0 0 1px #00000026,0 8px 16px #00000026}.sketch-saturation[_ngcontent-%COMP%]{width:100%;padding-bottom:75%;position:relative;overflow:hidden}.sketch-fields-container[_ngcontent-%COMP%], .sketch-swatches-container[_ngcontent-%COMP%]{display:block}.sketch-controls[_ngcontent-%COMP%]{display:flex}.sketch-sliders[_ngcontent-%COMP%]{padding:4px 0;flex:1 1 0%}.sketch-hue[_ngcontent-%COMP%]{position:relative;height:10px;overflow:hidden}.sketch-alpha[_ngcontent-%COMP%]{position:relative;height:10px;margin-top:4px;overflow:hidden}.sketch-color[_ngcontent-%COMP%]{width:24px;height:24px;position:relative;margin-top:4px;margin-left:4px;border-radius:3px}.sketch-active[_ngcontent-%COMP%]{position:absolute;top:0px;right:0px;bottom:0px;left:0px;border-radius:2px;box-shadow:#00000026 0 0 0 1px inset,#00000040 0 0 4px inset}[dir=rtl][_nghost-%COMP%]   .sketch-color[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sketch-color[_ngcontent-%COMP%]{margin-right:4px;margin-left:0}"],changeDetection:0}),Z})(),Be=(()=>{class Z{}return Z.\u0275fac=function(S){return new(S||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[l.ez,Ce,te,C,b,Me,Fe]}),Z})()}}]);