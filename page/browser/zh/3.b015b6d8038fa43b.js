"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[3],{6003:(V,g,l)=>{l.r(g),l.d(g,{MainModule:()=>F});var r=l(8795),h=l(5037),A=l(3328),t=l(4650);let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-page-error"]],decls:2,vars:0,consts:[[1,"font-monospace","w-100","h-100","d-flex","justify-content-center","align-items-center",2,"font-size","5rem"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._uU(1," 404 Not Found "),t.qZA())},encapsulation:2}),n})();var f=l(9371);function v(n,i,e,o,a,s,c){try{var d=n[s](c),p=d.value}catch(Q){return void e(Q)}d.done?i(p):Promise.resolve(p).then(o,a)}var E=l(4080),O=l(6451),C=l(5698),I=l(8184),N=l(529),x=l(3498),_=l(7340),u=l(6895),m=l(8580);function y(n,i){1&n&&(t.TgZ(0,"i",11),t._uU(1,"toys"),t.qZA())}function G(n,i){1&n&&(t.TgZ(0,"i",12),t._uU(1,"chevron_right"),t.qZA())}function w(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5),t.NdJ("click",function(){t.CHM(e),t.oxw();const a=t.MAs(1);return t.KtG(a.toggle())}),t._UZ(2,"a",6),t.YNc(3,y,2,0,"i",7),t.TgZ(4,"span",8),t._uU(5),t.qZA(),t.YNc(6,G,2,0,"i",9),t.qZA(),t._UZ(7,"app-navigation-item",10),t.BQk()}if(2&n){const e=t.oxw().$implicit,o=t.MAs(1),a=t.oxw();t.xp6(1),t.Udp("padding-left",.75*a.level+"rem"),t.uIk("aria-expanded",o.expanded),t.xp6(1),t.Q6J("routerLink",e.url),t.xp6(1),t.Q6J("ngIf",1===a.level),t.xp6(2),t.Oqu(e.label),t.xp6(1),t.Q6J("ngIf",null==e.children?null:e.children.length),t.xp6(1),t.Q6J("items",e.children)("level",a.level+1)("@bodyExpansion",o.expanded?"expanded":"collapsed")}}function b(n,i){1&n&&(t.TgZ(0,"i",11),t._uU(1,"toys"),t.qZA())}function Z(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"a",13),t.YNc(2,b,2,0,"i",7),t._uU(3),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.Udp("padding-left",.75*o.level+"rem"),t.Q6J("routerLink",e.url),t.xp6(1),t.Q6J("ngIf",1===o.level),t.xp6(1),t.Oqu(e.label)}}function R(n,i){if(1&n&&(t.TgZ(0,"li",2,3),t.YNc(2,w,8,10,"ng-container",4),t.YNc(3,Z,4,5,"ng-container",4),t.qZA()),2&n){const e=i.$implicit,o=t.MAs(1);t.ekj("open",o.expanded),t.xp6(2),t.Q6J("ngIf",null==e.children?null:e.children.length),t.xp6(1),t.Q6J("ngIf",!(null!=e.children&&e.children.length))}}let U=(()=>{class n{constructor(){this.level=1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-navigation-item"]],hostAttrs:[1,"overflow-hidden"],inputs:{items:"items",level:"level"},decls:2,vars:1,consts:[["cdkAccordion","",1,"list-unstyled","mt-2"],["class","mb-1","cdkAccordionItem","",3,"open",4,"ngFor","ngForOf"],["cdkAccordionItem","",1,"mb-1"],["accordionItem","cdkAccordionItem"],[4,"ngIf"],["routerLinkActive","active",1,"btn","btn-text","d-flex",3,"click"],[1,"d-none",3,"routerLink"],["class","gt-icon me-2",4,"ngIf"],[1,"flex-grow-1","text-start"],["class","gt-icon ms-2",4,"ngIf"],[1,"d-block",3,"items","level"],[1,"gt-icon","me-2"],[1,"gt-icon","ms-2"],["routerLinkActive","active",1,"btn","btn-text","d-flex",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"ul",0),t.YNc(1,R,4,4,"li",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.items))},dependencies:[u.sg,u.O5,r.yS,r.Od,m.xI,m.dD,n],encapsulation:2,data:{animation:[(0,_.X$)("bodyExpansion",[(0,_.SB)("collapsed, void",(0,_.oB)({height:"0px",visibility:"hidden"})),(0,_.SB)("expanded",(0,_.oB)({height:"*",visibility:"visible"})),(0,_.eR)("expanded <=> collapsed, void => collapsed",(0,_.jt)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])]}}),n})();const k=["dropdownButton"];function B(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ul",15)(1,"li",16)(2,"button",17)(3,"input",18,19),t.NdJ("change",function(){t.CHM(e);const a=t.MAs(4),s=t.oxw();return t.KtG(s.import(a))}),t.qZA(),t.ynx(5),t.SDv(6,20),t.BQk(),t.qZA()(),t.TgZ(7,"li")(8,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.export())}),t.SDv(9,22),t.qZA()(),t.TgZ(10,"li"),t._UZ(11,"hr",23),t.qZA(),t.TgZ(12,"li")(13,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.reset())}),t.SDv(14,24),t.qZA()()()}}let P=(()=>{class n{constructor(e,o,a,s){this.overlay=e,this.viewContainerRef=o,this.http=a,this.toast=s,this.showSideMenu=!1,this.dropdownClick=new t.vpe}showDropdown(e){const o=this.overlay.create({hasBackdrop:!0,backdropClass:"",positionStrategy:this.overlay.position().flexibleConnectedTo(this.dropdownButton).withPositions([{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:8}])});o.attach(new E.UE(e,this.viewContainerRef)),(0,O.T)(o.backdropClick(),this.dropdownClick).pipe((0,C.q)(1)).subscribe(()=>o.dispose())}reset(){this.http.post("deleteDB",null).subscribe(()=>{this.toast.show({type:"\u4fe1\u606f",message:"\u6240\u6709\u6570\u636e\u5df2\u6e05\u7a7a",detail:"5\u79d2\u540e\u9875\u9762\u5c06\u81ea\u52a8\u5237\u65b0"}),setTimeout(()=>location.reload(),5e3)}),this.dropdownClick.emit()}import(e){var o=this;return function S(n){return function(){var i=this,e=arguments;return new Promise(function(o,a){var s=n.apply(i,e);function c(p){v(s,o,a,c,d,"next",p)}function d(p){v(s,o,a,c,d,"throw",p)}c(void 0)})}}(function*(){e.files&&e.files[0]&&o.http.post("importDB",e.files[0],{reportProgress:!0}).subscribe(()=>{o.toast.show({type:"\u4fe1\u606f",message:"\u6570\u636e\u5bfc\u5165\u6210\u529f",detail:"5\u79d2\u540e\u9875\u9762\u5c06\u81ea\u52a8\u5237\u65b0"}),setTimeout(()=>location.reload(),5e3)}),o.dropdownClick.emit()})()}export(){this.http.get("exportDB").subscribe(e=>{const o=document.createElement("a");o.download=e.name,o.href=URL.createObjectURL(e),o.click()}),this.dropdownClick.emit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.aV),t.Y36(t.s_b),t.Y36(N.eN),t.Y36(x.k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-navigation"]],viewQuery:function(e,o){if(1&e&&t.Gf(k,5),2&e){let a;t.iGM(a=t.CRH())&&(o.dropdownButton=a.first)}},inputs:{items:"items",showSideMenu:"showSideMenu"},decls:22,vars:3,consts:function(){let i,e,o,a;return i="\u7F16\u8F91",e="\u5BFC\u5165",o=" \u5BFC\u51FA ",a=" \u91CD\u7F6E ",[[1,"offcanvas-lg","offcanvas-start","p-3","h-100","d-flex","flex-column","bg-body",2,"width","20rem"],[1,"navbar"],["href","/",1,"navbar-brand","me-0","d-flex"],["src","assets/icons/128.png","alt","Ghost Logo",1,"rounded",2,"width","2rem"],[1,"fw-bold","mx-3"],["type","button",1,"btn","btn-sm","btn-light","rounded-circle",3,"click"],["dropdownButton",""],[1,"gt-icon"],[1,"d-block","flex-grow-1",2,"overflow","auto!important",3,"items"],[1,"list-unstyled","m-0"],[1,"mb-1"],["routerLink","edit","routerLinkActive","active",1,"btn","btn-text","d-flex"],[1,"gt-icon","me-2"],i,["templateRef",""],[1,"dropdown-menu","position-static","d-block","shadow"],[1,"position-relative"],["type","button",1,"dropdown-item"],["type","file","accept",".ghost",1,"position-absolute","w-100","h-100","opacity-0",2,"left","0",3,"change"],["file",""],e,["type","button",1,"dropdown-item",3,"click"],o,[1,"dropdown-divider"],a]},template:function(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._UZ(3,"img",3),t.TgZ(4,"span",4),t._uU(5,"GHOSTEN"),t.qZA()(),t.TgZ(6,"button",5,6),t.NdJ("click",function(){t.CHM(a);const c=t.MAs(21);return t.KtG(o.showDropdown(c))}),t.TgZ(8,"i",7),t._uU(9,"dotted_line"),t.qZA()()(),t._UZ(10,"hr")(11,"app-navigation-item",8)(12,"hr"),t.TgZ(13,"ul",9)(14,"li",10)(15,"a",11)(16,"i",12),t._uU(17,"edit"),t.qZA(),t.ynx(18),t.SDv(19,13),t.BQk(),t.qZA()()()(),t.YNc(20,B,15,0,"ng-template",null,14,t.W1O)}2&e&&(t.ekj("show",o.showSideMenu),t.xp6(11),t.Q6J("items",o.items))},dependencies:[r.yS,r.Od,U],encapsulation:2}),n})(),J=(()=>{class n{constructor(e){this.mainService=e,this.showSideMenu=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.J))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-main"]],decls:13,vars:2,consts:[[1,"d-flex","h-100"],[3,"items","showSideMenu"],[1,"p-4","flex-grow-1","h-100","overflow-auto"],[1,"navbar","position-fixed","bg-body","w-100","p-4","z-1","d-lg-none",2,"top","0","left","0"],["href","/",1,"navbar-brand","me-0","d-flex"],["src","assets/icons/128.png","alt","Ghost Logo",1,"rounded",2,"width","2rem"],[1,"fw-bold","mx-3"],["type","button",1,"btn","btn-sm","btn-light","rounded-circle",3,"click"],[1,"gt-icon"],[1,"p-5","d-lg-none"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-navigation",1),t.TgZ(2,"div",2)(3,"div",3)(4,"a",4),t._UZ(5,"img",5),t.TgZ(6,"span",6),t._uU(7,"GHOSTEN"),t.qZA()(),t.TgZ(8,"button",7),t.NdJ("click",function(){return o.showSideMenu=!o.showSideMenu}),t.TgZ(9,"i",8),t._uU(10,"dotted_line"),t.qZA()()(),t._UZ(11,"div",9)(12,"router-outlet"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("items",o.mainService.menus)("showSideMenu",o.showSideMenu))},dependencies:[r.lC,P],encapsulation:2}),n})(),L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.ez,r.Bz,m.XD]}),n})();var D=l(9162);let Y=(()=>{class n{constructor(e){this.route=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-template"]],decls:1,vars:1,consts:[[3,"data"]],template:function(e,o){1&e&&t._UZ(0,"gt-render",0),2&e&&t.Q6J("data",o.route.snapshot.data.data)},dependencies:[D.b],encapsulation:2}),n})();var $=l(4004);let T=(()=>{class n{constructor(e){this.http=e}resolve(e){return this.http.get("getLatestConfigByID",{params:{id:e.data.id}}).pipe((0,$.U)(o=>o?o.config:null))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(N.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:r.Z6,multi:!0,useFactory:i=>[{path:"",component:J,children:[{path:"404",component:M},...i.generateRoutes(Y,T)]}],deps:[f.J]},T],imports:[r.Bz,L,A.Bp,h.h3]}),n})()}}]);